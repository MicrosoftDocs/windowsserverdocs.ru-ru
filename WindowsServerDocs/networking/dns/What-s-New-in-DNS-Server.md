---
title: Новые возможности DNS-сервера в Windows Server
description: В этом разделе приводятся общие сведения о новых возможностях DNS-сервера в Windows Server 2016 и более поздних версиях.
manager: brianlic
ms.prod: windows-server
ms.technology: networking-dns
ms.topic: article
ms.assetid: c9cecb94-3cd5-4da7-9a3e-084148b8226b
ms.author: lizross
author: eross-msft
ms.openlocfilehash: 26d9a532f8c2276a81e8718e76290d41c78f6633
ms.sourcegitcommit: da7b9bce1eba369bcd156639276f6899714e279f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/26/2020
ms.locfileid: "80317976"
---
# <a name="whats-new-in-dns-server-in-windows-server"></a>Новые возможности DNS-сервера в Windows Server

>Область применения: Windows Server (Semi-Annual Channel), Windows Server 2016

В этом разделе описываются новые или измененные функциональные возможности сервера доменных имен (DNS) в Windows Server 2016.  
  
В Windows Server 2016 DNS-сервер предлагает улучшенную поддержку в следующих областях.  
  
|Функция|Новый или улучшенный|Описание|  
|-----------------|-------------------|---------------|  
|Политики DNS|Создать|Можно настроить политики DNS, чтобы указать, как DNS-сервер отвечает на запросы DNS. Ответы DNS могут основываться на IP-адресе (расположении) клиента, времени суток и нескольких других параметрах. Политики DNS включают DNS с поддержкой расположения, управление трафиком, балансировку нагрузки, разделение DNS и другие сценарии.|  
|Ограничение скорости отклика (RRL)|Создать|Вы можете включить ограничение скорости ответа на DNS-серверах. Таким образом, вы не хотите, чтобы вредоносные системы, использующие DNS-серверы, инициировали атаку типа "отказ в обслуживании" на DNS-клиенте.|  
|Проверка подлинности именованных сущностей на основе DNS (область «данные)|Создать|Вы можете использовать записи ТЛСА (проверка подлинности на уровне транспорта), чтобы предоставить клиентам DNS сведения о том, какой ЦС должен рассчитывать сертификат для доменного имени. Это предотвращает атаки типа "злоумышленник в середине", когда кто-то может повредить кэш DNS, чтобы он указывал на свой собственный веб-сайт, и предоставить сертификат, выданный другим ЦС.|  
|Неизвестная поддержка записи|Создать|Можно добавить записи, которые не поддерживаются DNS-сервером Windows с помощью функции неизвестных записей.|  
|Корневые указания IPv6|Создать|Для выполнения разрешения имен Интернета с помощью корневых серверов IPV6 можно использовать встроенную поддержку IPV6-ссылок.|  
|Поддержка Windows PowerShell|Улучшенная|Для DNS-сервера доступны новые командлеты Windows PowerShell.|  
  
## <a name="dns-policies"></a>Политики DNS

Вы можете использовать политику DNS для управления трафиком на основе географического расположения, интеллектуальные ответы DNS в зависимости от времени суток, для управления одним DNS-сервером, настроенным для разбиения\-мозгового развертывания, применения фильтров к запросам DNS и многого другого. Следующие элементы содержат более подробные сведения об этих возможностях.

-   **Балансировка нагрузки приложений.** При развертывании нескольких экземпляров приложения в разных местах можно использовать политику DNS для балансировки нагрузки трафика между разными экземплярами приложения, динамически выделяя нагрузку на трафик для приложения.

-   **Гео\-расположение на основе географического управления трафиком.** С помощью политики DNS можно разрешить основным и дополнительным DNS-серверам отвечать на запросы клиентов DNS на основе географического расположения клиента и ресурса, к которому пытается подключиться клиент, предоставляя клиенту IP-адрес ближайшей ресурсов. 

-   **Разделение мозгового DNS-сервера.** При разделении\-мозг DNS записи DNS разбиваются на разные области зоны на одном DNS-сервере, а DNS-клиенты получают ответ в зависимости от того, являются ли клиенты внутренними или внешними клиентами. Можно настроить разделение\-мозг DNS для Active Directory интегрированных зон или для зон на автономных DNS-серверах.

-   **Записей.** Вы можете настроить политику DNS для создания фильтров запросов на основе заданных вами условий. Фильтры запросов в политике DNS позволяют настроить DNS-сервер на отправку пользовательского способа на основе DNS-запроса и DNS-клиента, отправляющего запрос DNS. 
-   **Экспертизы.** Вы можете использовать политику DNS для перенаправления вредоносных DNS-клиентов на не\-существующий IP-адрес вместо того, чтобы направить их на компьютер, к которому они пытаются связаться.

-   **Перенаправление на основе времени суток.** Политику DNS можно использовать для распределения трафика приложений между различными географически распределенными экземплярами приложения с помощью политик DNS, основанных на времени суток. 
  
Политики DNS также можно использовать для Active Directory интегрированных зон DNS.

Дополнительные сведения см. в описании [сценария политики DNS](deploy/DNS-Policies-Overview.md).

## <a name="response-rate-limiting"></a>Ограничение скорости ответа

Вы можете настроить параметры RRL, чтобы управлять реакцией на запросы к DNS-клиенту, когда сервер получает несколько запросов, предназначенных для одного и того же клиента. Таким образом можно предотвратить отправку атаки типа "отказ в обслуживании" (DOS) с помощью DNS-серверов. Например, программа-робот Bot может отправить запросы на DNS-сервер, используя IP-адрес третьего компьютера в качестве запрашивающего. Без RRL ваши DNS-серверы могут отвечать на все запросы, выполняя переполнение третьего компьютера. При использовании RRL можно настроить следующие параметры.  
  
-   **Ответов в секунду**. Это максимальное число раз, когда один и тот же ответ будет передан клиенту в течение одной секунды.  
  
-   **Количество ошибок в секунду**. Это максимальное число попыток отправки ответа об ошибке одному клиенту в течение одной секунды.  
  
-   **Окно**. Число секунд, в течение которых ответы на клиент будут приостановлены при слишком большом количестве запросов.  
  
-   **Скорость утечки**. Так часто DNS-сервер будет отвечать на запрос во время приостановки ответов. Например, если сервер приостанавливает ответы на клиент в течение 10 секунд, а скорость утечки составляет 5, сервер по-прежнему будет отвечать на один запрос для каждых 5 отправленных запросов. Это позволяет законным клиентам получать ответы, даже если DNS-сервер применяет ограничение скорости ответа для своей подсети или полного доменного имени.  
  
-   **Скорость TC**. Это позволяет клиенту попытаться подключиться по протоколу TCP, если ответы на клиент приостановлены. Например, если скорость TC составляет 3, а сервер приостанавливает ответы на заданный клиент, сервер выдает запрос на TCP-соединение для каждого полученного 3 запроса. Убедитесь, что значение параметра "скорость TC" меньше, чем скорость утечки, чтобы предоставить клиенту возможность подключения через TCP перед утечкой ответов.  
  
-   **Максимальное количество ответов**. Это максимальное число ответов, которые сервер будет выдавать клиенту, пока отменяются ответы.  
  
-   **Список доменов белого списка**. Это список доменов, исключаемых из параметров RRL.  
  
-   **Список подсетей белого списка**. Это список подсетей, исключаемых из параметров RRL.  
  
-   **Интерфейсы сервера белого списка**. Это список интерфейсов DNS-сервера, исключаемых из параметров RRL.  
  
## <a name="dane-support"></a>Поддержка область «данные

Вы можете использовать поддержку область «данные \(RFC 6394 и 6698\), чтобы указать клиентам DNS, какие ЦС должны получать сертификаты для имен доменов, размещенных на DNS-сервере. Это предотвращает атаку "злоумышленник в середине", когда кто-то может повредить кэш DNS и указать DNS-имя на свой IP-адрес.  
  
Например, предположим, что вы размещаете защищенный веб-сайт, использующий SSL по адресу www.contoso.com, используя сертификат из хорошо известного центра с именем CA1. Кто-то может получить сертификат для www.contoso.com от другого хорошо известного центра сертификации с именем CA2. Затем сущность, в которой размещается фальшивый веб-сайт www.contoso.com, может повредить кэш DNS клиента или сервера, чтобы указать www.contoto.com на свой фальшивый сайт. Конечный пользователь будет представлять сертификат из CA2 и может просто подтвердить его и подключиться к поддельному сайту. При использовании область «данные клиент отправляет запрос на DNS-сервер для contoso.com с запросом на запись ТЛСА и узнает, что сертификат для www.contoso.com был вызван CA1. Если он представлен сертификатом из другого ЦС, подключение прерывается.  
  
## <a name="unknown-record-support"></a>Неизвестная поддержка записи

"Неизвестная запись" — это запись типа RR, формат RDATA которой неизвестен DNS-серверу. Недавно Добавленная поддержка для типов неизвестных записей (RFC 3597) означает, что можно добавить неподдерживаемые типы записей в зоны DNS-сервера Windows в двоичном формате. Сопоставитель Windows Caching уже имеет возможность обрабатывать неизвестные типы записей. DNS-сервер Windows не будет выполнять обработку записей для неизвестных записей, но будет отправлять их обратно в ответ, если для него получены запросы.  
  
## <a name="ipv6-root-hints"></a>Корневые указания IPv6

Корневые указания IPV6, опубликованные IANA, были добавлены на DNS-сервер Windows. Теперь запросы имен Интернета могут использовать корневые серверы IPv6 для выполнения разрешения имен.

## <a name="windows-powershell-support"></a>Поддержка Windows PowerShell

В Windows Server 2016 появились следующие новые командлеты и параметры Windows PowerShell.
  
-   **Add-днссерверрекурсионскопе**. Этот командлет создает новую область рекурсии на DNS-сервере. Области рекурсии используются политиками DNS для указания списка серверов пересылки, используемых в запросе DNS.  
  
-   **Remove-днссерверрекурсионскопе**. Этот командлет удаляет существующие области рекурсии.  
  
-   **Set-днссерверрекурсионскопе**. Этот командлет изменяет параметры существующей области рекурсии.  
  
-   **Get-днссерверрекурсионскопе**. Этот командлет извлекает сведения о существующих областях рекурсии.  
  
-   **Add-днссерверклиентсубнет**. Этот командлет создает новую подсеть клиента DNS. Подсети используются политиками DNS для обнаружения места расположения клиента DNS.  
  
-   **Remove-днссерверклиентсубнет**. Этот командлет удаляет существующие подсети клиента DNS.  
  
-   **Set-днссерверклиентсубнет**. Этот командлет изменяет параметры существующей подсети клиента DNS.  
  
-   **Get-днссерверклиентсубнет**. Этот командлет извлекает сведения о существующих подсетях клиента DNS.  
  
-   **Add-днссерверкуериресолутионполици**. Этот командлет создает новую политику разрешения DNS-запросов. Политики разрешения DNS-запросов используются для указания того, как или если запрос отвечает на основании различных критериев.  
  
-   **Remove-днссерверкуериресолутионполици**. Этот командлет удаляет существующие политики DNS.  
  
-   **Set-днссерверкуериресолутионполици**. Этот командлет изменяет параметры существующей политики DNS.  
  
-   **Get-днссерверкуериресолутионполици**. Этот командлет извлекает сведения о существующих политиках DNS.  
  
-   **Enable-днссерверполици**. Этот командлет включает существующие политики DNS.  
  
-   **Disable-днссерверполици**. Этот командлет отключает существующие политики DNS.  
  
-   **Add-днссерверзонетрансферполици**. Этот командлет создает новую политику зонных передач DNS-сервера. Политики зонных передач DNS определяют, следует ли запрещать или игнорировать зонную пересылку на основе различных критериев.  
  
-   **Remove-днссерверзонетрансферполици**. Этот командлет удаляет существующие политики зонных передач DNS-сервера.  
  
-   **Set-днссерверзонетрансферполици**. Этот командлет изменяет параметры существующей политики зонных передач DNS-сервера.  
  
-   **Get-днссерверреспонсерателимитинг**. Этот командлет извлекает параметры RRL.  
  
-   **Set-днссерверреспонсерателимитинг**. Этот командлет изменяет параметры RRL.  
  
-   **Add-днссерверреспонсерателимитинжексцептионлист**. Этот командлет создает список исключений RRL на DNS-сервере.  
  
-   **Get-днссерверреспонсерателимитинжексцептионлист**. Этот командлет извлекает списки RRL екскцептион.  
  
-   **Remove-днссерверреспонсерателимитинжексцептионлист**. Этот командлет удаляет существующий список исключений RRL.  
  
-   **Set-днссерверреспонсерателимитинжексцептионлист**. Этот командлет изменяет списки исключений RRL.  
  
-   **Add-днссерверресаурцерекорд**. Этот командлет был обновлен для поддержки неизвестного типа записи.  
  
-   **Get-днссерверресаурцерекорд**. Этот командлет был обновлен для поддержки неизвестного типа записи.  
  
-   **Remove-днссерверресаурцерекорд**. Этот командлет был обновлен для поддержки неизвестного типа записи.  
  
-   **Set-днссерверресаурцерекорд**. Этот командлет был обновлен для поддержки неизвестного типа записи

Дополнительные сведения см. в следующих разделах справки по командам Windows PowerShell для Windows Server 2016.

- [Модуль DnsServer](https://docs.microsoft.com/powershell/module/dnsserver/?view=win10-ps)
- [Модуль Днсклиент](https://docs.microsoft.com/powershell/module/dnsclient/?view=win10-ps)

## <a name="see-also"></a>См. также:  
  
-   [Новые возможности DNS-клиента](What-s-New-in-DNS-Client.md)  
  

  

