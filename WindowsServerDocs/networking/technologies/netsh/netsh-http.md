---
title: Команды Netsh для протокола HTTP
description: Используйте netsh http для запроса и настройки параметров и параметров HTTP. sys.
ms.prod: windows-server
ms.technology: networking
ms.topic: article
ms.assetid: ''
manager: dougkim
ms.author: pashort
author: shortpatti
ms.openlocfilehash: 7b9032eb05128532c8bf90a0db2f685b4435e6eb
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/27/2019
ms.locfileid: "71401872"
---
# <a name="netsh-http-commands"></a>Команды http для Netsh


Используйте **netsh http** для запроса и настройки параметров и параметров HTTP. sys.  

>[!TIP]
>Если вы используете Windows PowerShell на компьютере под Windows Server 2016 или Windows 10, введите **команду netsh** и нажмите клавишу ВВОД. В командной строке netsh введите **http** и нажмите клавишу ВВОД, чтобы получить запрос netsh http.
>
>&nbsp; @ no__t-1 @ no__t-2 @ no__t-3 @ no__t-4 @ no__t-5 @ no__t-6netsh HTTP @ no__t-7

Доступные команды netsh http:

- [Добавить иплистен](#add-iplisten)
- [Добавить sslcert](#add-sslcert)
- [Добавить время ожидания](#add-timeout)
- [Добавить urlacl](#add-urlacl)
- [удалить кэш](#delete-cache)
- [удалить иплистен](#delete-iplisten)
- [удалить sslcert](#delete-sslcert)
- [время ожидания удаления](#delete-timeout)
- [удалить urlacl](#delete-urlacl)
- [Сброс логбуффер](#flush-logbuffer)
- [показывать качестате](#show-cachestate)
- [показывать иплистен](#show-iplisten)
- [показывать servicestate](#show-servicestate)
- [показывать sslcert](#show-sslcert)
- [показывать время ожидания](#show-timeout)
- [показывать urlacl](#show-urlacl)

## <a name="add-iplisten"></a>Добавить иплистен

Добавляет новый IP-адрес в список прослушивания IP-адресов, исключая номер порта.

**Синтаксис**

```powershell
add iplisten [ ipaddress= ] IPAddress
```

**Вход**

|               |                                                                                                                                                                                                                          |          |
|---------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|
| **IP** | Адрес IPv4 или IPv6, добавляемый в список прослушивания IP-адресов. Список прослушивания IP-адресов используется для определения области списка адресов, к которым привязывается служба HTTP. "0.0.0.0" означает любой адрес IPv4 и "::" означает любой IPv6-адрес. | Обязательно |

---

**Примеры**

Ниже приведены четыре примера команды **Add иплистен** .

-   Add иплистен IPAddress = FE80:: 1
-   Добавление иплистен IPAddress = 1.1.1.1
-   Добавить иплистен IPAddress = 0.0.0.0
-   Добавить иплистен IPAddress =::

---

## <a name="add-sslcert"></a>Добавить sslcert

Добавляет новую привязку сертификата сервера SSL и соответствующие политики сертификатов клиента для IP-адреса и порта.

**Синтаксис**

```powershell
add sslcert [ ipport= ] IPAddress:port [ certhash= ] CertHash [ appid= ] GUID [ [ certstorename= ] CertStoreName [ verifyclientcertrevocation= ] enable | disable [verifyrevocationwithcachedclientcertonly= ] enable | disable [ usagecheck= ] enable | disable [ revocationfreshnesstime= ] U-Int [ urlretrievaltimeout= ] U-Int [sslctlidentifier= ] SSLCTIdentifier [ sslctlstorename= ] SLCtStoreName [ dsmapperusage= ] enable | disable [ clientcertnegotiation= ] enable | disable ] ]
```

**Вход**


|                                              |                                                                                                                                                                                          |          |
|----------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|
|                  **иппорт**                  |                       Указывает IP-адрес и порт для привязки. Знак двоеточия (:) используется в качестве разделителя между IP-адресом и номером порта.                        | Обязательно |
|                 **certhash**                 |                                     Указывает хэш SHA сертификата. Этот хэш имеет длину 20 байт и задается в виде шестнадцатеричной строки.                                      | Обязательно |
|                  **ИД**                   |                                                                  Указывает идентификатор GUID для идентификатора приложения-владельца.                                                                  | Обязательно |
|              **цертсторенаме**               |                                  Указывает имя хранилища для сертификата. По умолчанию имеет значение MY. Сертификат должен храниться в контексте локального компьютера.                                  | Необязательный |
|        **верификлиентцертревокатион**        |                                                      Указывает, включает или выключает проверку отзыва сертификатов клиента.                                                       | Необязательный |
| **верифиревокатионвискачедклиентцертонли** |                                      Указывает, включена или отключена возможность использования только кэшированного сертификата клиента для проверки отзыва.                                       | Необязательный |
|                **усажечекк**                |                                                      Указывает, включена или отключена проверка использования. Значение по умолчанию — включено.                                                       | Необязательный |
|         **ревокатионфрешнесстиме**          | Указывает интервал времени (в секундах) для проверки обновленного списка отзыва сертификатов (CRL). Если это значение равно нулю, новый CRL обновляется только в том случае, если истек срок действия предыдущего. | Необязательный |
|           **урлретриевалтимеаут**            |                            Указывает интервал времени ожидания (в миллисекундах) после попытки получить список отзыва сертификатов для удаленного URL-адреса.                            | Необязательный |
|             **сслктлидентифиер**             |                Указывает список издателей сертификатов, которые могут быть доверенными. Этот список может быть подмножеством издателей сертификатов, которые являются доверенными для компьютера.                 | Необязательный |
|             **сслктлсторенаме**              |                                                Указывает имя хранилища сертификатов в LOCAL_MACHINE, где хранится Сслктлидентифиер.                                                | Необязательный |
|              **дсмапперусаже**               |                                                        Указывает, включены или отключены модули сопоставления DS. Значение по умолчанию — отключено.                                                         | Необязательный |
|          **клиентцертнеготиатион**           |                                              Указывает, включено или отключено согласование сертификата. Значение по умолчанию — отключено.                                               | Необязательный |

---

**Примеры**

Ниже приведен пример команды **add sslcert** .

add sslcert иппорт = 1.1.1.1:443 certhash = 0102030405060708090A0B0C0D0E0F1011121314 AppID = {00112233-4455-6677-8899-ААББККДДИФФ}

---

## <a name="add-timeout"></a>Добавить время ожидания

Добавляет глобальное время ожидания в службу.

**Синтаксис** 

```powershell
add timeout [ timeouttype= ] IdleConnectionTimeout | HeaderWaitTimeout [ value=] U-Short
```

**Вход**

|                 |                                                                                                     |
|-----------------|-----------------------------------------------------------------------------------------------------|
| **тимеауттипе** |                                    Тип времени ожидания для параметра.                                     |
|    **value**    | Значение времени ожидания (в секундах). Если значение указано в шестнадцатеричном формате, добавьте префикс 0x. |

---

**Примеры**

Ниже приведены два примера команды **добавления времени ожидания** .

-   Добавить время ожидания тимеауттипе = значение idleconnectiontimeout = 120
-   Добавить время ожидания тимеауттипе = значение хеадерваиттимеаут = 0x40

---

## <a name="add-urlacl"></a>Добавить urlacl

Добавляет запись резервирования универсального указателя ресурсов (URL). Эта команда резервирует URL-адрес для пользователей и учетных записей без прав администратора. Список DACL можно указать с помощью имени учетной записи NT с параметрами Listen и Delegate либо с помощью строки SDDL.

**Синтаксис**

```powershell
add urlacl [ url= ] URL [ [user=] User [ [ listen= ] yes | no [ delegate= ] yes | no ] | [ sddl= ] SDDL ]
```

**Вход**

|              |                                                                                                                                                  |          |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------------------|----------|
|   **URL-адрес**    |                                          Указывает полный URL-адрес (URI).                                           | Обязательно |
|   **нажат**   |                                                      Указывает имя пользователя или группы пользователей                                                       | Обязательно |
|  **слушивают**  | Задает одно из следующих значений: Да. Разрешает пользователю регистрировать URL-адреса. Это значение по умолчанию. Нет: Запрещает пользователю регистрировать URL-адреса. | Необязательный |
| **получить** |  Задает одно из следующих значений: Да. Разрешить пользователю делегировать URL-адреса: Запрещает пользователю делегирование URL-адресов. Это значение по умолчанию.  | Необязательный |
|   **авторизации**   |                                                Задает строку SDDL, описывающую список DACL.                                                 | Необязательный |

---

**Примеры**

Ниже приведены четыре примера команды **add urlacl** .

- Добавить URL-адрес urlacl = https://+:80/MyUri пользователь = домен @ no__t-1user
- Добавить URL-адрес urlacl = <https://www.contoso.com:80/MyUri> пользователь = домен @ no__t-1user Listen = да
- Добавление URL-адреса urlacl = <https://www.contoso.com:80/MyUri> пользователь = домен @ no__t-1user делегат = No
- Добавить URL-адрес urlacl = https://+:80/MyUri SDDL =...

---

## <a name="delete-cache"></a>удалить кэш

Удаляет все записи или указанную запись из кэша URI ядра службы HTTP.

**Синтаксис**

```powershell
delete cache [ [ url= ] URL [ [recursive= ] yes | no ]
```

**Вход**

|               |                                                                                                                              |          |
|---------------|------------------------------------------------------------------------------------------------------------------------------|----------|
|    **URL-адрес**    |                    Указывает полный URL-адрес, который необходимо удалить.                     | Необязательный |
| **рекурсивного** | Указывает, будут ли удалены все записи в кэше URL-адресов. **Да**: удалить **все записи:** не удалять все записи | Необязательный |

---

**Примеры**

Ниже приведены два примера команды **удалить кэш** .

- удалить URL-адрес кэша = <https://www.contoso.com:80/myresource/> recursive = Yes
- удалить кэш

---

## <a name="delete-iplisten"></a>удалить иплистен

Удаляет IP-адрес из списка прослушивания IP-адресов. Список прослушивания IP-адресов используется для определения области списка адресов, к которым привязывается служба HTTP.

**Синтаксис**

```powershell
delete iplisten [ ipaddress= ] IPAddress
```

**Вход**

|               |                                                                                                                                                                                                                                                                     |          |
|---------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|
| **IP** | Адрес IPv4 или IPv6, удаляемый из списка прослушивания IP-адресов. Список прослушивания IP-адресов используется для определения области списка адресов, к которым привязывается служба HTTP. "0.0.0.0" означает любой адрес IPv4 и "::" означает любой IPv6-адрес. Это не включает номер порта. | Обязательно |

---


**Примеры**

Ниже приведены четыре примера команды **Delete иплистен** .

-   Delete иплистен IPAddress = FE80:: 1
-   Delete иплистен IPAddress = 1.1.1.1
-   Delete иплистен IPAddress = 0.0.0.0
-   удалить иплистен IPAddress =::

---

## <a name="delete-sslcert"></a>удалить sslcert


Удаляет привязки сертификатов сервера SSL и соответствующие политики сертификатов клиентов для IP-адреса и порта.

**Синтаксис**

```powershell
delete sslcert [ ipport= ] IPAddress:port
```

**Вход**

|            |                                                                                                                                                                                          |          |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|
| **иппорт** | Указывает адрес или порт IPv4 или IPv6, для которого удаляются привязки SSL-сертификатов. Знак двоеточия (:) используется в качестве разделителя между IP-адресом и номером порта. | Обязательно |

---


**Примеры**

Ниже приведены три примера команды **Delete sslcert** .

- Delete sslcert иппорт = 1.1.1.1:443
- Delete sslcert иппорт = 0.0.0.0:443
- Delete sslcert иппорт = [::]: 443

---

## <a name="delete-timeout"></a>время ожидания удаления

Удаляет глобальное время ожидания и возвращает службе значения по умолчанию.

**Синтаксис**

```powershell
delete timeout [ timeouttype= ] idleconnectiontimeout | headerwaittimeout
```

**Вход**

|                 |                                        |          |
|-----------------|----------------------------------------|----------|
| **тимеауттипе** | Указывает тип параметра времени ожидания. | Обязательно |

---


**Примеры**

Ниже приведены два примера команды " **Удалить время ожидания** ".

-   Удалить время ожидания тимеауттипе = idleconnectiontimeout
-   Удалить время ожидания тимеауттипе = хеадерваиттимеаут

---

## <a name="delete-urlacl"></a>удалить urlacl

Удаляет резервирования URL-адресов.

**Синтаксис**

```powershell
delete urlacl [ url= ] URL
```

**Вход**

|         |                                                                                       |          |
|---------|---------------------------------------------------------------------------------------|----------|
| **URL-адрес** | Указывает полный URL-адрес, который необходимо удалить. | Обязательно |

---


**Примеры**

Ниже приведены два примера команды **Delete urlacl** .

- удалить URL-адрес urlacl = https://+:80/MyUri
- удалить URL-адрес urlacl = <https://www.contoso.com:80/MyUri>

---

## <a name="flush-logbuffer"></a>Сброс логбуффер

Очищает внутренние буферы для файлов журнала.

**Синтаксис**

```powershell
flush logbuffer
```

---

## <a name="show-cachestate"></a>показывать качестате

Перечисляет кэшированные ресурсы URI и связанные с ними свойства. Эта команда выводит все ресурсы и связанные с ними свойства, которые кэшируются в кэше HTTP-ответов, или отображает один ресурс и связанные с ним свойства.

**Синтаксис**

```powershell
show cachestate [ [url= ] URL]
```

**Вход**

|         |                                                                                                                                                    |          |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------|----------|
| **URL-адрес** | Указывает полный URL-адрес, который требуется отобразить. Если не указано, отобразите все URL-адреса. URL-адрес также может быть префиксом для зарегистрированных URL-адресов. | Необязательный |

---


**Примеры**

Ниже приведены два примера команды " **отобразить качестате** ":

- показывать URL-адрес качестате = <https://www.contoso.com:80/myresource>
- показывать качестате

---

## <a name="show-iplisten"></a>показывать иплистен

Отображает все IP-адреса в списке прослушивания IP-адресов. Список прослушивания IP-адресов используется для определения области списка адресов, к которым привязывается служба HTTP. "0.0.0.0" означает любой адрес IPv4 и "::" означает любой IPv6-адрес.

**Синтаксис**

```powershell
show iplisten
```

---

## <a name="show-servicestate"></a>показывать servicestate

Отображает моментальный снимок службы HTTP.

**Синтаксис**
```powershell
show servicestate [ [ view= ] session | requestq ] [ [ verbose= ] yes | no ]
```

**Вход**

|             |                                                                                                                      |          |
|-------------|----------------------------------------------------------------------------------------------------------------------|----------|
|  **Вид**   | Указывает, следует ли просматривать моментальный снимок состояния службы HTTP на основе сеанса сервера или очереди запросов. | Необязательный |
| **Verbose** |                Указывает, следует ли отображать подробные сведения, в которых также отображаются сведения о свойствах.                | Необязательный |

---

**Примеры**

Ниже приведены два примера команды " **отобразить servicestate** ".

-   Показать servicestateное представление = "сеанс"
-   Показать servicestate View = "рекуестк"

---

## <a name="show-sslcert"></a>показывать sslcert

Отображает привязки сертификата сервера SSL (SSL) и соответствующие политики сертификатов клиента для IP-адреса и порта.

**Синтаксис**

```powershell
show sslcert [ ipport= ] IPAddress:port
```

**Вход**

|            |                                                                                                                                                                                                                                                |          |
|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|
| **иппорт** | Указывает адрес или порт IPv4 или IPv6, для которого отображаются привязки SSL-сертификатов. Знак двоеточия (:) используется в качестве разделителя между IP-адресом и номером порта. Если не указать иппорт, отображаются все привязки. | Обязательно |

---


**Примеры**

Ниже приведены пять примеров команды « **Показывать sslcert** ».

-   показывать sslcert иппорт = [fe80:: 1]: 443
-   показывать sslcert иппорт = 1.1.1.1:443
-   показывать sslcert иппорт = 0.0.0.0:443
-   показывать sslcert иппорт = [::]: 443
-   показывать sslcert

---

## <a name="show-timeout"></a>показывать время ожидания

Отображает в секундах значения времени ожидания службы HTTP.

**Синтаксис**

```powershell
show timeout
```

---

## <a name="show-urlacl"></a>показывать urlacl

Отображает списки управления доступом на уровне пользователей (DACL) для указанного зарезервированного URL-адреса или всех зарезервированных URL-адресов.

**Синтаксис**

```powershell
show urlacl [ [url= ] URL]
```

**Вход**

|         |                                                                                                |          |
|---------|------------------------------------------------------------------------------------------------|----------|
| **URL-адрес** | Указывает полный URL-адрес, который требуется отобразить. Если не теге, отобразите все URL-адреса. | Необязательный |

---


**Примеры**

Ниже приведены три примера команды " **отобразить urlacl** ".

- показывать URL-адрес urlacl = https://+:80/MyUri
- показывать URL-адрес urlacl = <https://www.contoso.com:80/MyUri>
- показывать urlacl

---