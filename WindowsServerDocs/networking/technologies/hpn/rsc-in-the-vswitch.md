---
title: Объединение полученных сегментов в виртуальном коммутаторе
description: Объединение полученных сегментов (RSC) в vSwitch — это функция обновления для Windows Server 2019 и Windows 10 от октября 2018, которая позволяет сократить загрузку ЦП узла и повысить пропускную способность для виртуальных рабочих нагрузок за счет объединения нескольких сегментов TCP в меньшее количество, но более крупные сегменты. Обработка меньшего количества больших сегментов (Объединенных) более эффективна, чем обработка многочисленных небольших сегментов.
manager: dougkim
ms.prod: windows-server
ms.technology: networking
ms.topic: article
ms.author: dacuo
author: dcuomo
ms.date: 09/07/2018
ms.openlocfilehash: e7db6656bd9331e5cc6c2deaee143b3602ef1239
ms.sourcegitcommit: d99bc78524f1ca287b3e8fc06dba3c915a6e7a24
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/27/2020
ms.locfileid: "87181820"
---
# <a name="rsc-in-the-vswitch"></a>RSC в vSwitch
>Область применения: Windows Server 2019

Объединение полученных сегментов (RSC) в vSwitch — это функция обновления для Windows Server 2019 и Windows 10 от октября 2018, которая позволяет сократить загрузку ЦП узла и повысить пропускную способность для виртуальных рабочих нагрузок за счет объединения нескольких сегментов TCP в меньшее количество, но более крупные сегменты. Обработка меньшего количества больших сегментов (Объединенных) более эффективна, чем обработка многочисленных небольших сегментов.

В Windows Server 2012 и более поздних версиях включена аппаратная разгрузка (реализованная в физическом сетевом адаптере) технологии, также называемая объединением сегментов. Эта разгруженных версия RSC по-прежнему доступна в более поздних версиях Windows. Однако она несовместима с виртуальными рабочими нагрузками и была отключена после подключения физического сетевого адаптера к vSwitch. Дополнительные сведения о версии RSC, которая доступна только для оборудования, см. в разделе [Получение сегмента приема (RSC)](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh997024(v=ws.11)).

## <a name="scenarios-that-benefit-from-rsc-in-the-vswitch"></a>Сценарии, выигрывающие от RSC в vSwitch

Рабочие нагрузки, которые пути к данным проходят через виртуальный коммутатор, имеют преимущества от этой функции.

Пример:

-   Размещение виртуальных сетевых адаптеров, включая:

    -   Программно-конфигурируемая сеть

    -   Узел Hyper-V

    -   Локальные дисковые пространства

-   Гостевые виртуальные сетевые карты Hyper-V

-   Программно определяемые Сетевые шлюзы GRE

-   Контейнер

К рабочим нагрузкам, несовместимым с этой функцией, относятся:

-   Программно определяемые Сетевые шлюзы IPSEC

-   Виртуальные сетевые адаптеры с поддержкой SR-IOV

-   SMB Direct

## <a name="configure-rsc-in-the-vswitch"></a>Настройка RSC в vSwitch


По умолчанию на External коммутаторы vSwitch включен параметр RSC.

**Просмотр текущих параметров:**

```PowerShell
Get-VMSwitch -Name vSwitchName | Select-Object *RSC*
```

**Включение и отключение RSC в vSwitch**


>[!IMPORTANT]
>Важно. RSC в vSwitch можно включить и отключить на лету без влияния на существующие подключения.


**Отключение RSC в vSwitch**

```PowerShell
Set-VMSwitch -Name vSwitchName -EnableSoftwareRsc $false
```

**Повторное включение RSC в vSwitch**

```PowerShell
Set-VMSwitch -Name vSwitchName -EnableSoftwareRsc $True
```
Дополнительные сведения см. в разделе [Set-VMSwitch](https://docs.microsoft.com/powershell/module/hyper-v/set-vmswitch?view=win10-ps).
