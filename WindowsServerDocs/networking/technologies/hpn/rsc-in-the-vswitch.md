---
title: Объединение полученных сегментов в виртуальном коммутаторе
description: Объединение полученных сегментов (RSC) в vSwitch — это функция обновления для Windows Server 2019 и Windows 10 от октября 2018, которая позволяет сократить загрузку ЦП узла и повысить пропускную способность для виртуальных рабочих нагрузок за счет объединения нескольких сегментов TCP в меньшее число, но больше сегментов. Обработка меньшего количества больших сегментов (Объединенных) более эффективна, чем обработка многочисленных небольших сегментов.
manager: dougkim
ms.prod: windows-server
ms.technology: networking
ms.topic: article
ms.assetid: ''
ms.author: dacuo
author: shortpatti
ms.date: 09/07/2018
ms.openlocfilehash: dce890d5ae542789c49bf08b5e7f25e62ea2e8c2
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/27/2019
ms.locfileid: "71355302"
---
# <a name="rsc-in-the-vswitch"></a>RSC в vSwitch
>Относится к: Windows Server 2019

Объединение полученных сегментов (RSC) в vSwitch — это функция обновления для Windows Server 2019 и Windows 10 от октября 2018, которая позволяет сократить загрузку ЦП узла и повысить пропускную способность для виртуальных рабочих нагрузок за счет объединения нескольких сегментов TCP в меньшее число, но больше сегментов. Обработка меньшего количества больших сегментов (Объединенных) более эффективна, чем обработка многочисленных небольших сегментов.

В Windows Server 2012 и более поздних версиях включена аппаратная разгрузка (реализованная в физическом сетевом адаптере) технологии, также называемая объединением сегментов. Эта разгруженных версия RSC по-прежнему доступна в более поздних версиях Windows. Однако она несовместима с виртуальными рабочими нагрузками и была отключена после подключения физического сетевого адаптера к vSwitch. Дополнительные сведения о версии RSC, которая доступна только для оборудования, см. в разделе [Получение сегмента приема (RSC)](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh997024(v=ws.11)).

## <a name="scenarios-that-benefit-from-rsc-in-the-vswitch"></a>Сценарии, выигрывающие от RSC в vSwitch

Рабочие нагрузки, которые пути к данным проходят через виртуальный коммутатор, имеют преимущества от этой функции.

Пример:

-   Размещение виртуальных сетевых адаптеров, включая:

    -   Программно-конфигурируемая сеть

    -   Узел Hyper-V

    -   Локальные дисковые пространства

-   Гостевые виртуальные сетевые карты Hyper-V

-   Программно определяемые Сетевые шлюзы GRE

-   Контейнер

К рабочим нагрузкам, несовместимым с этой функцией, относятся:

-   Программно определяемые Сетевые шлюзы IPSEC

-   Виртуальные сетевые адаптеры с поддержкой SR-IOV

-   SMB Direct

## <a name="configure-rsc-in-the-vswitch"></a>Настройка RSC в vSwitch


По умолчанию на External коммутаторы vSwitch включен параметр RSC.

**Просмотр текущих параметров:**

```PowerShell
Get-VMSwitch -Name vSwitchName | Select-Object *RSC*
```

**Включение и отключение RSC в vSwitch**


>[!IMPORTANT]
>Внимание! RSC в vSwitch можно включать и отключать на лету, не влияя на существующие подключения.


**Отключение RSC в vSwitch**

```PowerShell
Set-VMSwitch -Name vSwitchName -EnableSoftwareRsc $false
```

**Повторное включение RSC в vSwitch**

```PowerShell
Set-VMSwitch -Name vSwitchName -EnableSoftwareRsc $True
```
Дополнительные сведения см. в разделе [Set-VMSwitch](https://docs.microsoft.com/powershell/module/hyper-v/set-vmswitch?view=win10-ps).
