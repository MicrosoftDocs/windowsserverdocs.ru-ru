---
title: Высокая доступность сетевого контроллера
description: С помощью этого раздела можно узнать о высокой доступности сетевого контроллера для программно-определяемой сети (SDN) в Windows Server 2016.
manager: brianlic
ms.prod: windows-server
ms.technology: networking-sdn
ms.topic: get-started-article
ms.assetid: 334b090d-bec4-4e67-8307-13831dbdd1d8
ms.author: pashort
author: shortpatti
ms.openlocfilehash: 11f392e99803f0e0ddd0f8b62c9dbca5827a831c
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/27/2019
ms.locfileid: "71405937"
---
# <a name="network-controller-high-availability"></a>Высокая доступность сетевого контроллера

>Относится к: Windows Server (Semi-Annual Channel), Windows Server 2016

С помощью этого раздела можно узнать о высокой доступности и масштабируемости сетевого контроллера для программно-определяемой сети @no__t — 0SDN @ no__t-1.

При развертывании SDN в вашем центре обработки данных можно использовать сетевой контроллер для централизованного развертывания, мониторинга и управления множеством сетевых элементов, включая шлюзы RAS, подсистемы балансировки нагрузки, политики виртуальных сетей для связи с клиентами, брандмауэр центра обработки данных. политики, качество обслуживания \(QoS @ no__t-1 для политик SDN, политики гибридной сети и многое другое.

Поскольку сетевой контроллер является важнейшим руководством по управлению SDN, для развертывания сетевых контроллеров очень важно обеспечить высокий уровень доступности и возможность легко масштабировать узлы сетевого контроллера с вашими потребностями в центре обработки данных.

Несмотря на то, что сетевой контроллер можно развернуть как кластер с одним компьютером, для обеспечения высокой доступности и отработки отказа необходимо развернуть сетевой контроллер в кластере с несколькими компьютерами, используя не менее трех компьютеров.

>[!NOTE]
>Сетевой контроллер можно развернуть на любом сервере или на виртуальных машинах \(VMs @ no__t-1, работающих под управлением Windows Server 2016 Datacenter Edition. При развертывании сетевого контроллера на виртуальных машинах виртуальные машины должны работать на узлах Hyper-V, на которых также работает Datacenter Edition. Сетевой контроллер недоступен в Windows Server 2016 Standard Edition.

## <a name="network-controller-as-a-service-fabric-application"></a>Сетевой контроллер как приложение Service Fabric

Для обеспечения высокой доступности и масштабируемости сетевой контроллер использует Service Fabric. Service Fabric предоставляет платформу распределенных систем для создания масштабируемых, надежных и легко управляемых приложений.

В качестве платформы Service Fabric предоставляет функциональные возможности, необходимые для создания масштабируемой распределенной системы. Он обеспечивает размещение служб на нескольких экземплярах операционной системы, синхронизацию сведений о состоянии между экземплярами, выполняя выбор лидера, обнаружение сбоев, балансировку нагрузки и многое другое.

>[!NOTE]
>Сведения о Service Fabric в Azure см. в статье [обзор Service Fabric Azure](https://docs.microsoft.com/azure/service-fabric/service-fabric-overview).

При развертывании сетевого контроллера на нескольких компьютерах сетевой контроллер работает как одно Service Fabricное приложение в кластере Service Fabric. Вы можете сформировать Service Fabric кластер, подключив набор экземпляров операционной системы.

Приложение сетевого контроллера состоит из нескольких служб Service Fabric с отслеживанием состояния. Каждая служба отвечает за сетевую функцию, такую как Управление физической сетью, Управление виртуальными сетями, управление брандмауэрами или Управление шлюзами. 

Каждая служба Service Fabric имеет одну первичную реплику и две вторичные реплики. Основная реплика службы обрабатывает запросы, а две вторичные реплики службы обеспечивают высокий уровень доступности в случаях, когда первичная реплика по какой-либо причине отключена или недоступна.

На следующем рисунке показан сетевой контроллер Service Fabric кластер с пятью компьютерами. Четыре службы распределяются по пяти компьютерам: Служба брандмауэра, служба шлюза, программная балансировка нагрузки \(SLB @ no__t-1 Service и виртуальная сеть \(Vnet @ no__t-3.  Каждая из четырех служб включает одну первичную реплику службы и две вторичные реплики службы.

![Сетевой контроллер Service Fabric кластер](../../../media/Network-Controller-HA/Network-Controller-HA.jpg)

## <a name="advantages-of-using-service-fabric"></a>Преимущества использования Service Fabric

Ниже приведены основные преимущества использования Service Fabric для кластеров сетевого контроллера.

### <a name="high-availability-and-scalability"></a>Высокий уровень доступности и масштабируемость

Поскольку сетевой контроллер является ядром сети центра обработки данных, он должен быть устойчивым к сбоям и быть достаточно масштабируемым, чтобы обеспечить гибкие изменения в сетях центра обработки данных с течением времени. Следующие функции предоставляют эти возможности: 

- **Быстрая отработка отказа**. Service Fabric обеспечивает чрезвычайно быструю отработку отказа. Несколько реплик с горячей вторичной службой доступны всегда. Если экземпляр операционной системы становится недоступным из-за сбоя оборудования, одна из вторичных реплик немедленно повышается до первичной реплики. 
- **Гибкость масштабирования**. Вы можете легко и быстро масштабировать эти надежные службы из нескольких экземпляров до тысяч экземпляров, а затем выполнять резервное копирование на несколько экземпляров в зависимости от потребностей ресурса. 

### <a name="persistent-storage"></a>Постоянное хранилище

Приложение сетевого контроллера имеет большие требования к хранению в конфигурации и состоянии. Приложение также должно быть доступно в запланированных и незапланированных простоях. Для этой цели Service Fabric предоставляет хранилище "ключ-значение" \(KVS @ no__t-1, которое является реплицируемым, транзакционным и материализованным хранилищем.

### <a name="modularity"></a>Модульность

Сетевой контроллер разработан с помощью модульной архитектуры, каждая из которых имеет такие сетевые службы, как служба виртуальных сетей и брандмауэр, а в качестве отдельных служб — no__t-0in. 

Эта архитектура приложения предоставляет следующие преимущества.

1. Модульность сетевого контроллера обеспечивает независимую разработку каждой из поддерживаемых служб по мере развития потребностей. Например, службу балансировки нагрузки программного обеспечения можно обновить, не затрагивая другие службы или нормальную работу сетевого контроллера.
2. Модульность сетевого контроллера позволяет добавлять новые службы по мере развития сети. Новые службы могут быть добавлены к сетевому контроллеру без влияния на существующие службы.

>[!NOTE]
>В Windows Server 2016 Добавление сторонних служб к сетевому контроллеру не поддерживается.

Service Fabric модульности использует схемы модели служб для повышения простоты разработки, развертывания и обслуживания приложения.

## <a name="network-controller-deployment-options"></a>Параметры развертывания сетевого контроллера

Сведения о развертывании сетевого контроллера с помощью System Center Virtual Machine Manager \(VMM @ no__t-1 см. [в разделе Настройка сетевого контроллера Sdn в структуре VMM](https://technet.microsoft.com/system-center-docs/vmm/scenario/sdn-network-controller).

Сведения о развертывании сетевого контроллера с помощью сценариев см. в статье [развертывание программно-определяемой сетевой инфраструктуры с помощью сценариев](../../deploy/Deploy-a-Software-Defined-Network-infrastructure-using-scripts.md).

Сведения о развертывании сетевого контроллера с помощью Windows PowerShell см. в статье [Развертывание сетевого контроллера с помощью Windows PowerShell](../../deploy/Deploy-Network-Controller-using-Windows-PowerShell.md) .

Дополнительные сведения о сетевом контроллере см. в разделе [сетевой контроллер](Network-Controller.md).