---
title: Сетевой контроллер
description: В этом разделе приводятся общие сведения о сетевом контроллере в Windows Server 2019 и 2016.
manager: grcusanz
ms.topic: article
ms.assetid: 31f3fa4e-cd25-4bf3-89e9-a01a6cec7893
ms.author: anpaul
author: AnirbanPaul
ms.date: 12/08/2020
ms.openlocfilehash: 81a85a5625538ccba7de48d78b471f04a9f23d49
ms.sourcegitcommit: da2508fb978f2686178a08a9b5a65d7ae208da36
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/12/2021
ms.locfileid: "100335453"
---
# <a name="network-controller"></a>Сетевой контроллер

>Применяется к: Windows Server 2019, Windows Server 2016

Новый в Windows Server 2016, сетевой контроллер предоставляет централизованную, программируемую точку автоматизации для управления, настройки, мониторинга и устранения неполадок виртуальной и физической сетевой инфраструктуры в центре обработки данных.

С помощью сетевого контроллера можно автоматизировать настройки сетевой инфраструктуры и отказаться от ручной настройки сетевых устройств и служб.

> [!NOTE]
> Помимо этого раздела, доступна следующая документация по сетевому контроллеру.
> - [Высокий уровень доступности сетевого контроллера](network-controller-high-availability.md)
> - [Требования для установки и подготовки к развертыванию сетевого контроллера](../../plan/Installation-and-Preparation-Requirements-for-Deploying-Network-Controller.md)
> - [Развертывание сетевого контроллера с помощью Windows PowerShell](../../deploy/Deploy-Network-Controller-using-Windows-PowerShell.md)
> - [Установка роли сервера сетевого контроллера с помощью диспетчера серверов](Install-the-Network-Controller-server-role-using-Server-Manager.md)
> - [Шаги, выполняемые после развертывания сетевого контроллера](post-deploy-steps-nc.md)
> - [Командлеты сетевого контроллера](/powershell/module/networkcontroller/)

## <a name="network-controller-overview"></a><a name="bkmk_overview"></a>Обзор сетевого контроллера

Сетевой контроллер — это высокодоступная и масштабируемая роль сервера, которая предоставляет один API интерфейса программирования приложений \( \) , который позволяет сетевому контроллеру взаимодействовать с сетью, а второй API, который позволяет взаимодействовать с сетевым контроллером.

Сетевой контроллер можно развернуть как в домене, так и в среде, отличной от домена. В средах домена сетевой контроллер проверяет подлинность пользователей и сетевых устройств с помощью Kerberos. в средах, не являющихся доменами, необходимо развернуть сертификаты для проверки подлинности.

>[!IMPORTANT]
>Не развертывайте роль сервера сетевого контроллера на физических узлах. Чтобы развернуть сетевой контроллер, необходимо установить роль сервера сетевого контроллера на виртуальной машине Hyper-V \( \) , установленной на узле Hyper-v. После установки сетевого контроллера на виртуальных машинах на трех разных \- узлах Hyper-v необходимо включить узлы Hyper- \- v для программно-определяемой сети \( Sdn \) , добавив узлы к сетевому контроллеру с помощью команды Windows PowerShell **New нетворкконтроллерсервер**. Таким образом, вы включаете программное обеспечение SDN Load Balancer для работы. Дополнительные сведения см. в разделе [New-нетворкконтроллерсервер](https://technet.microsoft.com/itpro/powershell/windows/network-controller/new-networkcontrollerserver).

Сетевой контроллер взаимодействует с сетевыми устройствами, службами и компонентами с помощью "южного" API-интерфейса. С его помощью сетевой контроллер находит сетевые устройства, отслеживает конфигурации служб и собирает необходимые данные о сети. Кроме того, "южный" API-интерфейс обеспечивает для сетевого контроллера маршрут для отправки данных в сетевую инфраструктуру, например внесенных вами изменений конфигурации.

"Северный" API-интерфейс контроллера дает возможность извлекать данные из сетевого контроллера, а также использовать его для мониторинга и настройки сети.

API сетевого контроллера обмена позволяет настраивать, отслеживать, устранять неполадки и развертывать новые устройства в сети с помощью Windows PowerShell, API-интерфейса RESTful передачи состояния представления \( \) или приложения управления с графическим пользовательским интерфейсом, например System Center Virtual Machine Manager.

>[!NOTE]
>Северный API-интерфейс сетевого контроллера реализован как интерфейс REST.

Вы можете управлять сетью центра обработки данных с помощью сетевого контроллера, используя приложения управления, такие как System Center Virtual Machine Manager \( SCVMM \) и System Center Operations Manager \( SCOM \) , так как сетевой контроллер позволяет настраивать, отслеживать, программировать и устранять неполадки в сетевой инфраструктуре, которая находится под управлением.

С помощью Windows PowerShell, API-интерфейса REST или приложения управления вы можете управлять следующими физическими и виртуальными сетевыми инфраструктурами посредством сетевого контроллера:

- виртуальные машины и коммутаторы Hyper-V;

- Брандмауэр центра обработки данных

- \(Многоклиентские шлюзы RAS службы удаленного доступа \) , виртуальные шлюзы и пулы шлюзов

- Программные подсистемы балансировки нагрузки

На следующей иллюстрации показано, как администратор использует средство управления, взаимодействующее напрямую с сетевым контроллером. Сетевой контроллер предоставляет сведения о сетевой инфраструктуре, включая как виртуальную, так и физическую инфраструктуру, средство управления и вносит изменения в конфигурацию в соответствии с действиями администратора при использовании этого средства.

![Общие сведения о сетевом контроллере](../../../media/Network-Controller/NetController_overview.png)

При развертывании сетевого контроллера в тестовой среде можно запустить роль сервера сетевого контроллера на виртуальной машине виртуальной машины Hyper-V \( \) , установленной на узле Hyper-v.

Для обеспечения высокой доступности в больших центрах обработки данных можно развернуть кластер с помощью трех виртуальных машин, установленных на трех и более узлах Hyper-V. Дополнительные сведения см. в разделе [высокий уровень доступности сетевого контроллера](network-controller-high-availability.md).

## <a name="network-controller-features"></a><a name="bkmk_features"></a>Функции сетевого контроллера

Следующие функции сетевого контроллера позволяют осуществлять настройку виртуальных и физических сетевых устройств и служб, а также управлять ими.

-   [Управление брандмауэром](#bkmk_firewall)

-   [Программное управление подсистемой балансировки нагрузки](#bkmk_slb)

-   [Управление виртуальной сетью](#bkmk_virtual)

-   [Управление шлюзами RAS](#bkmk_gateway)

>[!IMPORTANT]
>Резервное копирование и восстановление сетевого контроллера в настоящее время недоступно в Windows Server 2016.

### <a name="firewall-management"></a><a name="bkmk_firewall"></a>Управление брандмауэром

Эта функция сетевого контроллера позволяет осуществлять управление правилами предоставления доступа брандмауэра и их настройку для рабочих нагрузок виртуальных машин в центре данных для направлений передачи данных "восток-запад" и "север-юг". Правила брандмауэра встроены в порт vSwitch рабочих нагрузок виртуальных машин, что обеспечивает применение правил для всех рабочих нагрузок центра данных. С помощью северного API-интерфейса можно задать правила брандмауэра как для входящего, так и исходящего потока данных рабочих нагрузок виртуальных машин. Также можно создать отдельное правило брандмауэра для внесения в журнал всех данных, пропущенных или отклоненных в соответствии с правилами.

Дополнительные сведения см. в разделе [Общие сведения о брандмауэре центра обработки данных](../../../sdn/technologies/network-function-virtualization/Datacenter-Firewall-Overview.md).

### <a name="software-load-balancer-management"></a><a name="bkmk_slb"></a>Программное управление подсистемой балансировки нагрузки

Эта функция сетевого контроллера позволяет размещать одну и ту же рабочую нагрузку на нескольких серверах, что обеспечивает высокий уровень доступности и масштабирование.

Дополнительные сведения см. в разделе [Программная балансировка нагрузки &#40;&#41; SLB для Sdn](../network-function-virtualization/software-load-balancing-for-sdn.md).

### <a name="virtual-network-management"></a><a name="bkmk_virtual"></a>Управление виртуальной сетью

Эта функция сетевого контроллера позволяет производить развертывание виртуализованных сетей Hyper-V и настройку их компонентов, включая виртуальный коммутатор Hyper-V и виртуальные сетевые адаптеры на отдельных ВМ, а также хранить и распространять политики для виртуальных сетей.

Сетевой контроллер поддерживает традиционную инкапсуляцию при маршрутизации для виртуализации сети (NVGRE) и виртуальные расширяемые локальные сети (VXLAN).

### <a name="ras-gateway-management"></a><a name="bkmk_gateway"></a>Управление шлюзами RAS

Этот компонент сетевого контроллера позволяет развертывать, настраивать и администрировать виртуальные машины, которые являются членами пула шлюзов RAS, предоставляя им службы шлюза для клиентов. Сетевой контроллер позволяет автоматически развертывать виртуальные машины с шлюзом RAS со следующими компонентами шлюза:

> [!NOTE]
> В System Center Virtual Machine Manager шлюз RAS называется шлюзом Windows Server.

- Добавление к шлюзу ВМ из кластера и их удаление, а также определение требуемого уровня резервного копирования.

- Обеспечение подключения VPN типа "сеть-сеть" через шлюз между удаленными сетями клиентов и центром данных с помощью IPsec.

- Обеспечение подключения VPN типа "сеть-сеть" через шлюз между удаленными сетями клиентов и центром данных с помощью GRE.

- Перенаправление для уровня 3.

- Маршрутизация протокол BGP (BGP), позволяющая управлять маршрутизацией сетевого трафика между сетями виртуальных машин и их удаленными сайтами.

Сетевой контроллер может размещать разные подключения клиента на отдельных шлюзах. Вы можете использовать один общедоступный IP-адрес для всех подключений шлюза или разные общедоступные адреса для подмножества подключений. Сетевой контроллер регистрирует все настройки шлюза и изменения состояния, которые можно использовать для аудита и устранения неполадок.

Дополнительные сведения об BGP см. в статье [протокол BGP &#40;bgp&#41;](../../../../remote/remote-access/bgp/Border-Gateway-Protocol-BGP.md).

Дополнительные сведения о шлюзе RAS см. в статье [шлюз RAS для Sdn](../../../sdn/technologies/network-function-virtualization/RAS-Gateway-for-SDN.md).

## <a name="network-controller-deployment-options"></a>Параметры развертывания сетевого контроллера

Сведения о развертывании сетевого контроллера с помощью System Center Virtual Machine Manager \( VMM \) см. [в разделе Настройка сетевого контроллера Sdn в структуре VMM](/system-center/vmm/sdn-controller).

Сведения о развертывании сетевого контроллера с помощью сценариев см. в статье [развертывание программно-определяемой сетевой инфраструктуры с помощью сценариев](../../deploy/Deploy-a-Software-Defined-Network-infrastructure-using-scripts.md).

Сведения о развертывании сетевого контроллера с помощью Windows PowerShell см. в статье [Развертывание сетевого контроллера с помощью Windows PowerShell](../../deploy/Deploy-Network-Controller-using-Windows-PowerShell.md) .
