---
title: Руководство пользователя по Server Performance Advisor
description: Руководство пользователя по Server Performance Advisor
ms.assetid: be99a5a9-b9c0-436b-912c-e5c5839a533d
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: manage
ms.openlocfilehash: 97fab1a36db2e903b3a909bee9e2f1748f7841fd
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59834145"
---
# <a name="server-performance-advisor-users-guide"></a>Руководство пользователя по Server Performance Advisor

>Область применения. Windows Server (полугодовой канал), Windows Server 2016, Windows Server 2012 R2, Windows Server 2012, Windows 10, Windows 8

Данное руководство пользователя для помощника по производительности Microsoft Server (SPA) содержит рекомендации о том, как использовать SPA для выявления узких мест производительности в системах, развернутых в различных ролей сервера.

SPA поможет выполнить следующие действия:

* Управление производительностью сервера и устранение проблем с производительностью сервера.

* Укажите отчеты с данными и рекомендации о типичной конфигурации и проблемы с производительностью.

* Предоставить рекомендации pratice, на основе собранных данных.

> [!NOTE]
> Консоль SPA изменений на серверы.

Дополнительные сведения о разработке пакетов SPA Advisor см. в разделе [руководство по разработке пакетов в помощник по производительности сервера](server-performance-advisor-pack-development-guide.md).

## <a name="server-performance-advisor-overview"></a>Общие сведения о Server Performance Advisor


В этом разделе объясняется истории SPA, описание его целевая аудитория и сценариев и представляет обзор архитектуры средства.

### <a name="history-of-spa"></a>Журнал SPA

Исходная версия помощника по производительности сервера Microsoft (SPA) было выпущено в 2006 г.-2005. Он в основном нацелена Windows Server 2003, включая ядро операционной системы и ролей сервера, таких как Internet Information Services (IIS) и active directory. Средства призван помочь оценить производительность сервера и устранение проблем с производительностью сервера.

SPA предоставляет отчеты с данными и рекомендации для системных администраторов о типичной конфигурации и проблемы с производительностью. SPA собирает данные, связанные с производительностью из различных источников на серверах, например, счетчики производительности, разделы реестра, WMI запросов, файлы конфигурации и трассировки событий для Windows (ETW). На основе данных производительности сервера, которые оно собирает, одностраничного приложения можно предоставить подробно ознакомиться с текущей ситуации производительности сервера и проблемы рекомендации о том, что можно улучшить.

Были более миллиона загрузок исходное средство SPA, и он помогал многие администраторы контролировать производительность своих серверов. Это было очень успешной производительности инструмент устранения неполадок.

Начиная с выпуска исходного SPA есть несколько серьезных изменений в мире производительности сервера. Прежде всего выпуск Windows Server 2012 R2, Windows Server 2012, Windows Server 2008 R2 и Windows Server 2008 с новыми версиями соответствующих ролей сервера как Internet Information Services (IIS) 8.5. Более новые версии Server Performance Advisor расширить функциональные возможности из исходного SPA последних серверных операционных систем и ролям сервера.

Несмотря на то, что SPA 3.1 shares же целей разработки и парадигме анализа производительности, что и исходное средство, он был переписан с новейшей технологией. Он также имеет следующие основные улучшения:

* Можно выполнять анализ на серверах под управлением Windows Server 2012 R2, Windows Server 2012, Windows Server 2008 R2 и Windows Server 2008.

* Поддерживает удаленный анализ возможность, позволяющая SPA 3.1 для сбора и анализа данных с помощью центральной консоли, нет необходимости устанавливать на серверах, чтобы проанализировать код.

* Использует Microsoft SQL Server для анализа данных и хранилище, которое позволяет обработки и хранения большого объема данных.

* Разделяет средство пакеты Advisor. Логику анализа производительности для каждой роли сервера выпускается в виде пакета advisor, который может быть выпущен или обновлять по отдельности с помощью средства.

* Предоставляет пакеты Advisor, разработанных в скриптах SQL с помощью открытую архитектуру. Стороны сторонних разработчиков могут разрабатывать пакеты advisor и расширить существующие пакеты advisor от корпорации Майкрософт, чтобы охватить особых требований.

* Поддерживает новые функции, например side-by-side сравнительные отчеты и трендов и исторические диаграммы и помогает находить аномалии.

* Предоставляет функции, например изменение, импорта и экспорта пороговые значения, чтобы помочь вам точно настроить отчеты и уведомления и поделиться этими tunings с другими пользователями SPA.

* Поддерживает несколько проектов, которые можно использовать для группирования всех целевых серверах.

* Предоставляет повторяющихся сбор данных из консоли SPA.

* Позволяет пользовательских запросов и создания отчетов с помощью Microsoft SQL Server (для опытных пользователей).

* Настраиваемые командлеты Windows PowerShell доступны для использования с SPA

* Обладает обратной совместимостью для импорта и просмотр отчетов из базы данных SPA 3.0

### <a name="target-audience"></a>Целевая аудитория

Средство SPA в первую очередь предназначено для системных администраторов, которые управляют не более 100 серверов в различных ролей сервера. Он может также использоваться специалистами службы поддержки для сбора данных производительности и диагностики проблем с производительностью для клиентов.

SPA предлагает рекомендации по устранению проблем с производительностью; Тем не менее он основан на предположениях, которые не могут быть применимы к вашей среде конкретного сервера. Рекомендации, которые предоставляются в SPA следует рассматривать предложения. Мы ожидаем, что пользователи SPA хорошо понимать их конфигурацию системы, варианты использования и влияние на поведение всей системы настройки системы. Системные администраторы должны решить, если рекомендации SPA должна применяться к своей среде.

### <a href="" id="what-s-new-in-spa-3-1-"></a>Какие возможности SPA 3.1 s?

В версии 3.1 SPA были добавлены следующие функции и улучшения:

* Active directory пакет ядра СУБД позволяет анализировать общую производительность роли сервера доменных служб active directory s сервер.

* Поддержка для разработчиков для добавления в пакеты advisor потеряны предупреждение уведомления о событии трассировки событий Windows и отображаете оповещение при отчет был создан и события были утрачены из-за высокой частотой ведение журнала медленных или сильно состязаний диска

### <a name="target-scenarios"></a>Целевые сценарии

Ниже приведены целевые сценарии для одностраничного приложения.

* **Серверной среды**

    SPA позволяет легко настроить и поддерживать. Он применяется к серверных средах, использующих 1 до 100 серверов. Также в том случае, если вы пытаетесь управлять производительностью для более чем 100 серверов SPA не масштабируется. Для больших или сложных средах можно использовать System Center Operations Manager.

* **Устранение проблем с производительностью**

    Можно использовать SPA как производительности, устранение неполадок со средством. Предоставляет возможность сбора данных высокого уровня производительности, он выполняет тщательную post, обработки данных, которые помогут лучше понять их поведение системы в целом, и отмечает любые аномалии. Если проблемы с производительностью основания полагать, что клиентом, можно использовать SPA собирать и анализировать данные о производительности с сервера.

    SPA создает отчет, можно просмотреть. SPA отчеты предоставляют список уведомлений, который выделяет потенциальные проблемы и раздел данных, который включает в себя различные индекса производительности, конфигурации и параметры для сервера. Этот отчет можно использовать для идентификации проблемы производительности и рекомендации для поиска решений для проблемы. Отчеты можно сравнивать с другими отчетами, которые были созданы в другое время или на другом сервере. Используя такое сравнение side-by-side, можно определить различия между базовой обычного и аномального поведения.

    **Примечание** SPA не должна быть отладки или отслеживания использования средства. Кроме того с точки зрения серверов, его можно считать средство только для чтения и не изменяет конфигурации серверов.

     

* **Мониторинг производительности индекса**

    Для наблюдения за индекс производительности серверов можно использовать SPA. Вы можете SPA следует регулярно выполнять на серверах, чтобы собирать данные о производительности, а затем запустите диаграмму тренда или Хронологическая диаграмма для выявления нарушений. Можно просмотреть отчет для определенного анализа, получить дополнительные сведения об этой проблеме производительности и выполните рекомендации или других данных отчета, чтобы устранить проблему.

### <a name="spa-architecture"></a>Архитектура SPA

Логику сбора данных SPA лежит протокол в Windows, журналы производительности и оповещения (PLA). PLA позволяет программам для сбора данных о производительности из локальных или удаленных серверах, например счетчики производительности, WMI запросы, ETW трассировок, разделы реестра и файлов конфигурации. При выполнении анализа производительности на целевых серверах SPA создается на основе конкретного пакета помощник по SPA, выбранный набор сборщика данных PLA. Пакет advisor содержит источник данных, собираемых и файловый ресурс, где будут храниться журналы. Сбор данных SPA хранит только одной учетной записи; той же учетной записью, используемые PLA также используется для записи журналов.

SPA использует базу данных SQL Server для хранения журналов производительности, получаемые от всех целевых серверах. SPA импортирует все журналы производительности из общей папки в базу данных и затем использует логику анализа данных внутри каждого пакета помощник для обработки данных, а также создавать отчеты. Пакет ядра СУБД анализирует данные производительности, собранных из целевых серверов и создает отчеты SPA. Дополнительные сведения о построении пакет ядра СУБД см. в разделе [руководство по разработке пакетов в помощник по производительности сервера](server-performance-advisor-pack-development-guide.md).

Как часть SPAConsole.exe создаются SPA консоли пользовательских интерфейсов и взаимодействия. Чтобы создать в базе данных, добавить или удалить пакеты advisor, управление целевыми серверами, анализ производительности и просмотр отчетов о производительности можно использовать консоль.

Консоль SPA можно выполнить в следующих операционных системах:

* Windows 8.1

* Windows 8

* Windows 7

* Windows Server 2012 R2

* Windows Server 2012

* Windows Server 2008 R2

* Windows Server 2008

В типичных бизнес-приложения, существует три уровня: уровень представления, уровня бизнес-логики и уровня хранилища. SPA — простое два уровня продукта, консоли и базы данных. Консоль служит в качестве уровня представления с помощью определенных логика относящихся к процессу, а также служит базы данных на уровне хранилища и уровня бизнес-логики. Консоль захватывает ввод пользователя, и он управляет, шаги для сбора данных, обработки данных и создания отчетов. SPA не зависит от системных служб Windows.

Следующей схеме показана архитектура высокого уровня системы SPA. Процесс происходит.

1.  Из консоли SPA запустите анализ производительности на указанных серверов.

2.  Время сбора данных производительности, PLA на целевых серверах записывает журналы назад, к файловому ресурсу, идентифицируемому сборщиков данных.

3.  По завершении сбора данных на целевом компьютере консоли SPA импортирует журналы к базе данных SQL Server.

4.  Консоль вызывает логику обработки данных пакета конкретного помощника.

5.  Пакет ядра СУБД обрабатывает данные и вызывает API SPA для вставки записей в системные таблицы отчетов, которые определяются платформы одностраничных ПРИЛОЖЕНИЙ.

6.  Средство просмотра отчетов в консоли можно использовать для просмотра отчетов, которые созданы. Для устранения проблем с производительностью, SPA предоставляет три типа отчетов: единый отчеты, отчеты side-by-side и тенденций или исторические диаграммы. Дополнительные сведения об отчетах см. в разделе [Просмотр отчетов](#bkmk-viewingreports).

![Архитектура SPA](../media/server-performance-advisor/spa-user-manual-architecture.png)

## <a name="getting-started-with-spa"></a>Приступая к работе с SPA


### <a name="requirements"></a>Требования

Консоль SPA может устанавливаться на Windows 8.1, Windows 8, Windows 7, Windows Server 2012 R2, Windows Server 2012, Windows Server 2008 R2 и Windows Server 2008. Запуск одностраничного приложения в более ранних версиях операционной системы Windows Server не поддерживается. SPA выполняется на x86 или x64, но он не поддерживает архитектуры IA64 или ARM.

SPA встроена в Windows Presentation Foundation (WPF) 2.0, входящий в состав платформы Microsoft .NET Framework 4, поэтому .NET Framework 4 не требуется.

Также необходимо установить SQL Server 2008 R2 Express на том же компьютере, где установлен SPA. SQL Server 2008 R2 Express — это механизм бесплатную базу данных, предоставляемая корпорацией Майкрософт. Microsoft SQL Server 2008 R2 Express можно загрузить из центра загрузки Майкрософт. Хотя мы советуем использовать SQL Server 2008 R2 Express, более новых версиях SQL Server может также быть совместим с SPA.

**Примечание** SPA не включает SQL Server или .NET Framework как часть пакета установки SPA. После установки Microsoft SQL Server 2008 R2 и .NET Framework 4.0, рекомендуется выполнить обновление Windows, прежде чем устанавливать SPA.

 

Так как пользователи могут создавать и управлять базами данных с помощью одностраничного приложения, учетную запись, используемая для работы SPA следует иметь те же права администратора, что SQL Server.

### <a href="" id="bkmk-setupspa"></a>Настройка SPA

SPA упакована в виде CAB-файл, включающий все двоичные файлы для платформы SPA, командлеты Windows PowerShell, которые используются в сложных сценариях, и помощник по следующие пакеты: Основной операционной системы, Hyper-V, active directory и IIS. После извлечения CAB-файл в папку, Дополнительные установки не является обязательным. Тем не менее чтобы запустить SPA, вам потребуется включить сбор данных из целевых серверов, как показано ниже:

* Для выполнения сбора данных PLA, учетная запись, используемая для запуска консоли SPA должны быть частью группы безопасности "Администраторы" на целевом сервере. Если целевой сервер и консоль находятся в том же домене, учетная запись пользователя домена должен быть частью группы безопасности "Администраторы" на целевом сервере. Если целевой сервер и консоль не в том же домене, создайте учетную запись пользователя с правами администратора на целевом сервере с тем же именем пользователя и пароль, как учетная запись, используемая для запуска консоли SPA.

* Создайте общую папку для результатов на сервере.

* Убедитесь, что учетная запись пользователя, которая использовалась для запуска консоли SPA разрешения чтение и запись в общую папку. PLA использует эту учетную запись для записи журналов в папке.
Консоль SPA использует ту же учетную запись для чтения журналов и импортируйте их в базу данных.

    **Примечание** реализует кольцевой буфер для хранения трассировки ETW и перемещает их в общую папку, если это возможно. Если сервер занят или низкая скорость операции записи, ETW удаляет данные трассировки, при заполнении буфера. Это важно, общую папку, расположенную на сервере с помощью быстрого доступа ввода-вывода. Мы рекомендуем, что каждый целевой сервер имеет общую папку, чтобы минимизировать потерю данных, из-за медленных файлового ввода-вывода.

     

* Для PLA для доступа к целевым серверам установите брандмауэр Windows так, чтобы разрешить удаленный журналы производительности и оповещения на целевых серверах. PLA использует TCP-порт 139.

* Убедитесь, что **журналы и оповещения производительности** служба запущена.

* Если консоль и сервер находятся в разных подсетях, необходимо также задать поле удаленного IP-адреса в правила брандмауэра для входящих подключений в **область** параметры на **журналы и оповещения производительности** страница, как показано ниже.

    ![свойства PLA](../media/server-performance-advisor/spa-user-manual-pla-firewall.png)

* Включите сетевое обнаружение в консоли, так и на каждом из целевых серверов.

* Если целевой сервер не присоединен к домену, необходимо включите следующий параметр реестра: **HKLM\\программного обеспечения\\Microsoft\\Windows\\Currentversion\\политики\\системы\\LocalAccountTokenFilterPolicy**.

**Примечание** по умолчанию SPA записывает журналы диагностики в папку, где находится SpaConsole.exe. Если SPA устанавливается в папке Program Files, SPA можно только для записи журнала, когда SpaConsole.exe выполнялись с правами администратора.

Если вы хотите запустить анализ данных для работы на компьютере консоли, необходимо запустить SPA от имени администратора. PLA проходит через различные кодовые пути, при работе с локального компьютера, которой требуются права администратора.

Если вы хотите запустить пакет IIS SPA Advisor для ваших серверов, необходимо включить запрос WMI и ETW для сервера IIS. Это можно сделать, включив **трассировки** под **работоспособность и диагностика** службу роли и **IIS сценарии и средства управления** под **средства управления**  из **веб-сервер (IIS)** роли сервера.

 

### <a name="creating-your-first-project"></a>Создание первого проекта

После настройки, можно создать свой первый проект SPA. Как описано в предыдущем разделе, SPA сохраняет всю информацию, которая относится к производительности анализ данных внутри базы данных. Каждый проект SPA соответствует одной базе данных. **Впервые воспользуйтесь мастером** помогает выполнить следующие действия.

**Создание проекта SPA**

1.  Запустите SpaConsole.exe. Консоль переходит в отключенном режиме, где SPA не подключен к любой базе данных, а главное окно приложения является пустым.

2.  Чтобы создать новый проект, щелкните **файл**, а затем нажмите кнопку **новый проект**. Будет запущен в первый раз, воспользуйтесь мастером. На первой странице отображаются действия, которые можно выполнить при использовании мастера:

    * Создание базы данных

    * Пакеты подготовки advisor

    * Добавить серверы в список целевых серверов

3.  Нажмите кнопку **Далее**. **Создание проекта базы данных** страницы запросит ввести имя экземпляра Microsoft SQL Server, где вы хотите создать базу данных. Например, если это на том же компьютере, что и консоль, можно использовать **localhost\\&lt;имя сервера SQL&gt;**.

    **Примечание** имя экземпляра по умолчанию для установки SQL Server 2008 R2 Express — SQLExpress. Для экземпляра SQL Server 2008 R2 Express, установленной на локальном компьютере, базы данных может обычно по умолчанию **localhost\\SQLExpress**. Тем не менее он будет изменено во время установки SQL Server, поэтому необходимо использовать справа имя экземпляра SQL Server.

     

4.  Укажите имя базы данных. Только буквы, цифры и символы подчеркивания (\_) разрешены в качестве допустимых символов для имени базы данных. Было бы разумным предложение для имени базы данных SPA **SPA**. Если введено недопустимое имя, отображается красный значок ошибки. Связанные подсказки определите причину сбоя проверки.

    **Примечание** это важно помнить имя базы данных и имя экземпляра сервера, так как это только идентификаторы для вашего проекта. Необходимо предоставить эти сведения, если требуется перейти к этой базе данных.

     

5.  После того как вы укажете имя экземпляра сервера и имя базы данных, первый раз используйте мастер создает расположение файла базы данных.

6.  На **Создание проекта базы данных** щелкните **Далее**. В первый раз используйте мастер создает базу данных и создает все схемы базы данных, связанных с SPA, функций и хранимых процедур в базе данных. Этот шаг может занять несколько секунд в зависимости от скорости подключения оборудования и сети.

    **Примечание** Если этот шаг завершается ошибкой, появится сообщение об ошибке. Ниже приведены некоторые из распространенных проблем. Консоли не удается подключиться к экземпляру SQL Server, недостаточно привилегий для создания базы данных, или имя базы данных уже существует.

     

7.  При успешном предыдущий шаг, вы увидите **подготовить пакет advisor** страницы. В ней перечислены все пакеты advisor, доступные на компьютере. SPA автоматически проверяет папку с именем **APs** в корневом каталоге SPA. Он содержит полное имя, версию и автором для каждого пакета помощник по.

    **Примечание** Дополнительные сведения об использовании полного имени и версии в SPA см. в разделе [управление пакеты advisor](#bkmk-manageadvisorpacks)

     

8.  Выберите, какие пакеты advisor, необходимо подготовить в базе данных проекта и нажмите кнопку **Далее**. Или можно щелкнуть **Skip** для перемещения к следующему шагу без подготовки какие-либо пакеты advisor.

    **Примечание** пакеты advisor можно подготовить любое время вы используете средство. Дополнительные сведения см. в разделе [управление пакеты advisor](#bkmk-manageadvisorpacks).

     

9.  На **добавить серверы** страницы, для каждого сервера, добавляемого в список целевых серверов содержатся два поля, обязательные для заполнения: **Имя сервера** и **общей папки**.

    **Примечание** также **замечание** поле, которое в основном используется для классификации или найти сервер. В случаях, когда имеется много серверов можно импортировать файл с разделителями-запятыми (CSV), который содержит имя сервера, папку результатов и необязательный комментарий поля. **Замечание** поле используется для описания сервера и термин может использоваться для фильтрации серверы для сбора данных. При инициализации серверов посредством CSV-файл, ошибка синтаксического анализа в файле не загрузить серверы.

     

10. Несколько конфигураций необходимо настроить для включения сбора данных PLA, как описано в разделе [Настройка SPA](#bkmk-setupspa). **Добавить сервер** страница содержит функцию конфигурации теста для устранения проблемы с конфигурацией. Установите флажок, связанные с компьютером, а затем нажмите кнопку **Проверка подключения**. SPA пытается создать набор сборщиков данных на целевых серверах, и пытается импортировать результаты обратно в базу данных. Если все работает правильно, **состояние** показывает **передать**. Если не удается, появляется подсказка, которая описывает причину сбоя.

11. Для каждого сервера автоматически добавляется в базу данных даже если оно не проходит проверки конфигурации. Чтобы удалить серверы из списка, выберите имя сервера и нажмите кнопку **удалить**.

12. Когда все будет выполнена, щелкните **Готово** закрытие в первый раз, воспользуйтесь мастером. Если вы закроете в первый раз используйте мастер до завершения его, сохранить все предыдущие действия, и ни одна из них откат автоматически. Необходимо вручную внести изменения в будущем.

## <a name="running-analysis"></a>Выполнение анализа


После настройки базы данных, можно выполнить анализ производительности на серверах.

Каждый раз, запустится консоль SPA, автоматически откроется последний проект, который использовался для текущего пользователя. Главное окно со списком серверов. Каждый сервер имеет четыре свойства: Имя сервера, результаты анализа, текущее состояние и замечания.

* **Имя сервера** имя сервера, который является идентификатором для сервера. Повторяющиеся имена не допускаются.

* **Результат анализа** по умолчанию, он показывает результат последней анализа производительности выполнения на сервере. Если не была любого анализа производительности, выполните на сервере, он показывает **отчет не**. Если предупреждение, возникшее в отчете, он показывает **предупреждение** и метка времени, когда был создан последний отчет. Если проблем не обнаружено во время последней анализа на сервере, он показывает **ОК** и отметку времени.

    **Примечание** Если вы недавно изменили системных настроек, рекомендуется выполнять анализ еще раз, чтобы оценить влияние изменения и получить обновленный отчет состояния системы. SPA не отслеживает изменения конфигурации для тестируемой системы.

     

* **Текущее состояние** состояние производительности задач анализа, выполняемых на сервере. Выполняемая задача можно отменить, щелкнув **отменить** значок, который обозначается красный значок X.

* **Замечание** описание текущей целевой сервер. Например вы можете описать серверу с помощью роли сервера (например, SQL Server) или расположение (например, Кент). Использует SPA **имя_сервера** и **замечание** для поиска и найти соответствующий сервер. Можно ввести в текстовом поле поиска. Если **имя_сервера** или **замечание** столбцов содержит точных строк, введенного в поле поиска сам сервер отображается в списке серверов.

Следующие элементы управления, также доступны в консоли:

* **Повторите** флажок, который описывает возможность регулярно Повторяйте коллекции, основана на интервале времени. Для большинства установок сервера нужно иметь коллекцию SPA повторите каждый час, чтобы иметь достаточно журнал для анализа. Если вы хотите запустить только один раз в коллекцию, не следует выбирать **повторите** "флажок".

* **Удалить повторение** кнопку, которая позволяет отменять завершена повторите задание сбора. Он отменяет повторов коллекции, но не текущей коллекции (если таковые имеются) выполняется. Этот параметр позволяет сбросить новый интервал повторения коллекции или запустить коллекцию вручную.

Перед началом анализа производительности выберите длительность сбора данных. Несмотря на то, что сбор дополнительных данных поможет предоставить более точные образ ситуации производительности сервера, она также создает большее количество журналов, и он может иметь дополнительные потенциальное влияние на сервере. Выберите длительность соответствующие данные коллекции, в соответствии с конкретными потребностями. Каждый пакет ядра СУБД определяет Минимальная длительность допустимым. Длительность сбора данных, выбираемая должно содержать больше минимальной длительности пакеты выбранного advisor.

Для выполнения анализа производительности на целевых серверах, выберите серверы, которые вы хотите запустить анализ производительности с, а затем нажмите кнопку ** Запустить анализ ** диалоговое окно появляется и предлагается выбрать пакеты advisor для запуска на серверах. Одновременно запускать пакеты выбранного advisor. Создаваемые отчеты основаны на данных производительности, собранные во время тот же период времени.

**Примечание** при выборе сервера, с повторяющейся анализ производительности под управлением, **Удалить повторение** кнопка позволяет отменить повторяющихся сбора данных. SPA не поддерживает несколько сеансов сбора данных, в то же время на одном компьютере.

 

## <a href="" id="bkmk-viewingreports"></a>Просмотр отчетов


В SPA существует три вида отчета об анализе производительности: Один отчет, отчет side-by-side и трендов и ведением журнала графики.

После выполнения анализа производительности для каждого из пакетов advisor, запустите на целевом компьютере создается отчет. Из списка серверов в главном окне, можно развернуть **результат анализа** чтобы увидеть все пакеты ядра СУБД, которые были выполнены на определенном сервере. Можно щелкнуть имя отчета, чтобы просматривать один отчет.

Существуют три значка рядом с именем пакет ядра СУБД, которые показывают состояние последней анализа, выполните на сервере:

* **Последнюю** значок показан отчет, который был создан в ходе последней анализа производительности на этом сервере для пакета помощник по.

* **Найти** значок отображается список производительность аналитических отчетов, что дает возможность выбрать правильный отчета. **Пакет Advisor** и **целевой сервер** поля будут автоматически заполненный с advisor пакет и целевого сервера сведения о текущем. Диапазон времени по умолчанию имеет значение одну неделю, а конечная дата установлена на текущий день. Если щелкнуть **поиска** кнопки в правом верхнем углу, можно получить список всех отчеты об анализе производительности для выбранного сервера и ядра СУБД пакета в течение интервала времени.

* **Просмотр диаграмм** значок открывает трендов и представления Хронологическая диаграмма.

На следующем рисунке показан **последнюю**, **найти**, и **Просмотр диаграмм** значки после каждого пакета помощник по:

![значки отчетов](../media/server-performance-advisor/spa-user-manual-report-icons.png)

### <a name="searching-for-and-within-reports"></a>При поиске для и в отчетах

Поиск отчетов выполняется с помощью **обозреватель отчетов**. Это дает возможность поиска отчетов, диапазон дат, имени сервера и пакет advisor. Это рекомендуемый способ найти отчет интерес, отличные от последнего выполнения отчета. Последний запуск отчета доступна через **отчет** для этого сервера.

При просмотре конкретного отчета, можно легко перейдите к следующему и предыдущему отчету по времени или просмотрите связанных отчетов, таких как различные тихоокеанского Региона, в то же время. Эти параметры доступны в разделе **действия**.

Кроме того, возможен поиск в отчете. Иметь некоторое количество отчетов **найти** поле поиска строки, которые доступны для поиска строки краткий текст в отчете. Чтобы удалить текстовое поле, его можно закрыть. Чтобы активировать поле поиска (в windows, содержащие текст поиска), можно использовать элемент управления + F ярлыка. **Найти** поле позволяет пользователю указать регистр при поиске с соответствующим образом **учитывать регистр** параметр.

На следующем рисунке показан **найти** поле поиска со строкой **Power** на **отчетов** вкладки.

![поле поиска для поиска](../media/server-performance-advisor/spa-user-manual-find-search-box.png)

### <a name="single-report"></a>Один отчет

Один отчет показаны результаты анализа производительности из одного запуска помощника по пакета на одном компьютере. В отчете отображается имя пакета advisor, имя целевого сервера, время создания отчета и длительность для сбора данных.

Один отчет содержит раздел уведомлений и в данных разделах.

### <a name="notification-section"></a>Раздел уведомлений

Раздел уведомлений состоит из набора правил анализа производительности. Каждое уведомление содержит какого-либо источника данных, некоторые пороговые значения и бизнес-логику. При выполнении анализа производительности, бизнес-логика оценивает источников данных с пороговыми значениями, чтобы определить, прошел ли правило или нет. В противном случае появится предупреждение о потенциальных проблем производительности. Также приведены рекомендации по устранению проблемы. Раздел уведомлений всегда является первая вкладка в представлении один отчет.

В разделе уведомлений состоит из двух частей: **Предупреждение** и **остальные уведомления**.

Если источник данных для правила соответствуют определенным условиям, на основе логики и порогового значения параметров, появится предупреждение в **предупреждение** области. Предупреждение состоит из следующих частей:

* Значок предупреждения указывает на наличие потенциальных проблем.

* Имя правила. Например **сети получать удаляет пакет** является ссылкой на страницу сведений о правиле, как описано в разделе [управление пакеты advisor](#bkmk-manageadvisorpacks).

* Простое описание о потенциальной проблеме.

* Рекомендации по изменению возможных решений для потенциальных проблем с производительностью.

Различных серверах может быть существенно различаться конфигурации и особенностей использования, и вы не сможете установить пороговые значения и правила, применимые для всех серверов в группе все условия. SPA предоставляет возможность изменить пороговые значения. Можно также отключить правило, если правило не применяется к вашему сценарию. По умолчанию все правила включены. Отключенное правило не отображается в области уведомлений. Дополнительные сведения см. в разделе [управление пакеты advisor](#bkmk-manageadvisorpacks).

**Остальные уведомления** область содержит все другие правила, где нет предупреждение или правило не применяется. Он содержит аналогичные части, указанный в **предупреждение** области. Главное отличие состоит в том, что если предупреждение не возникает или не применяется правило, обычно не приводятся рекомендации по.

### <a name="data-sections"></a>Разделы данных

Разделы данных содержат данные производительности, создает пакет advisor, в зависимости от необработанных данных, собранных из целевых серверов. Разделы данных содержат набор разделов верхнего уровня и несколько уровней из подразделов. Разделы верхнего уровня представлены в виде вкладок. Все подразделы в разделе верхнего уровня, представлены в раскрывающиеся области. Можно свернуть или развернуть каждый из разделов для сужения области интересов, как показано на рисунке ниже.

![разделы данных](../media/server-performance-advisor/spa-user-manual-data-sections.png)

От пакета помощник по SPA ядра ОС и пакет IIS SPA Advisor содержат **Обзор системы** раздел. Этот раздел содержит сведения верхнего уровня по использованию ресурсов и конфигурации. Другие разделы верхнего уровня представляют области данных о производительности. SPA представляет данные отчета следующими способами:

* **Доступное значение** пару ключ значение. Ключ является строка, представляющая значение значение. Значение может быть строка, числовое значение или логическое значение. Это часто используется для отображения статическую информацию, как архитектура конфигурации, например, ЦП, от общего объема памяти и версия BIOS, которые меняются со временем.

* **Выведите список значений** иногда это пару ключ/значение, но значение списка может содержать несколько полей. Например атрибут ЦП может отображаться в таблице с несколькими столбцами и несколько строк. Каждая строка представляет один ЦП, и каждый столбец представляет атрибут ЦП.

* **Статистика** можно считать это особая разновидность одно значение. Оно может содержать только числовые данные. Во время сбора данных многие из точки числовых данных колебаться вместо Будьте константа. Например использование ЦП изменяется при каждом PLA собирает значение счетчика производительности. Отображение только одно значение не может точно отражать ситуации производительности. Вместо отображения только одно значение, среднее, максимум, минимум и 90% значение используются для таких точек динамических числовых данных. Значение 90% представляет действие равна или превышает 90-й процентиль для всех операций для данного счетчика за этот интервал данной коллекции.

* **Верхний список** обычно содержит основных потребителей определенного ресурса или верхних сущностей, которые столкнулись с определенных событий. Например **10 самых популярных обрабатывает с точки зрения средняя загрузка ЦП** входят десять процессов с наивысшим средняя загрузка ЦП во время сбора данных. Так как загрузка ЦП также точку динамического числовых данных, другие статистические данные, например максимальное, минимальное и значение 90% также включены в списке, чтобы предоставить пользователю более полную картину потребление ресурсов ЦП.

Как упоминалось в предыдущих разделах, SPA полагается на PLA для сбора трассировки ETW, запросы WMI, счетчики производительности, разделы реестра и файлы конфигурации для создания отчета. Это важно, чтобы определить источник данных за каждой точки данных в отчете. SPA предоставляет эти сведения с помощью всплывающих подсказок. Можно навести указатель ключевых столбцов или строк, чтобы просмотреть подсказку источника данных. Например **WMI:Win32\_DisDrive: заголовок** означает, что источник данных — запрос WMI, имя класса WMI Win32\_поставляется, а свойство — **заголовок**.

### <a href="" id="side-by-side-report-"></a>Отчет Side-by-side

Единый отчеты обеспечивают уведомления и раздел данных, чтобы помочь пользователю поиск возможных проблем с производительностью, но часто бывает трудно идентифицировать потенциальные проблемы с производительностью непосредственно в одном отчете. Один отчет может содержать слишком много точек данных, которая затрудняет обнаружение возможных проблем.

Чтобы решить эту проблему, SPA предоставляет возможность сравнивать два отчета. Вы можете сравнить отчет с потенциальной проблемы в базовый отчет, для поиска различий.

Side-by-side отчеты можно запустить из средства просмотра отчетов одним. Пользователь может щелкнуть **действия**, а затем нажмите кнопку **Сравнить отчеты** пользователям выбирать отчеты. Применяется только для сравнения отчетов из один и тот же пакет ядра СУБД. Вы можете сравнить отчет с предыдущим отчетом времени, следующий отчет в времени или произвольный отчета, который выбирается с помощью возможностей поиска. Например чтобы изолировать Аномальное поведение, можно сравнить базовые серверного отчета в отчет, который был создан в другое время на одном компьютере или в отчет, который был создан на другом компьютере, который имеет ту же роль сервера и загрузить.

Side-by-side отчет выглядит очень похожим один отчет. Он содержит раздел уведомлений и разделы данных. Он содержит столько уведомления и разделы данных как средство просмотра, один отчет. Единственным различием является то, что отчеты отображаются в виде side-by-side. Каждый раздел содержит данные из источника отчет (1) и целевой отчет (2). Отчет side-by-side имя пакета advisor, имя целевого сервера (1 слева) и отчета 2 справа, время, когда был создан данный отчет и во время сбора данных для каждого отчета.

Если закрыть **найти** диалоговом окне вы можете повторно активировать его, введя Control + F. Это диалоговое окно находит и выделяет текстовые строки в текущем разделе.

В разделе уведомлений, если любой из результатов из двух отчетов, которые сравниваются является предупреждением, это отображается в **предупреждение** области. В противном случае результаты отображаются в **другие уведомления** области. Так как ключ для отчета side-by-side определить различия между отчетами, отображается не подробные сведения о правиле. Пользователей можно щелкнуть имя правила, чтобы открыть подробных правил, Дополнительные сведения о правиле.

В данных разделах данные представлены в виде side-by-side с данными из 1 в левой части отчета и данных из отчета 2 справа. SPA показаны отдельные значения в той же таблице, но вместо добавления меток столбцов **значение**, они называются **Report 1** и **Report 2** соответственно. В отчете side-by-side отображаются все другие виды данных в таблицах side-by-side.

Средство просмотра отчетов side-by-side также предоставляет подсказки об источнике данных.

### <a name="historical-and-trend-charts"></a>Диаграммы Historical и трендов

Смысл только для отображения тенденций и исторические гистограммы для конкретного сервера и пакет для конкретного помощника. Необходимо выбрать диапазон времени (который является параметром по умолчанию данные за последнюю неделю) и нажмите кнопку **ОК** откроется тенденции и статистическая диаграмма средства просмотра.

Тенденции и статистическая диаграмма средство просмотра содержит три вкладки: Хронологическая диаграмма, 24-часовой график и диаграмма тренда 7 дней.

### <a name="historical-chart"></a>Статистическая диаграмма

Статистическая диаграмма показывает ряд значений для точки числовых данных через заданный интервал времени. Например **– Средняя задержка запроса** для служб IIS на одном сервере за последние 15 дней. Каждой точке данных на диаграмме исторические представляет значение конкретного источника данных в один сеанс анализа производительности.

Существует несколько способов использования Хронологическая диаграмма:

1.  Чтобы найти аномалии в определенное время для точки данных для примера, в 2:00 каждый день, **– Средняя задержка запроса** служб IIS переходит от около 200 мс 500 мс.

2.  Чтобы сопоставить несколько точек данных. Например, отображение **– Средняя задержка запроса** и **запроса среднего числа** вместе за последние 15 дней. В отчете может отображаться, задержки при выполнении запросов и увеличивает количество запросов, в то же время spot, это может указывать, что увеличение задержки запроса вызвано увеличением числа запросов.

В диаграмме исторические пользователям можно сделать следующее:

* Отображение нескольких рядов данных в области диаграммы. Каждого ряда данных отображается в виде графика в средстве просмотра отчетов. Каждый график автоматически масштабируется по размерам в средстве просмотра отчетов.

* Добавить или удалить из списка рядов данных в нижней части средства просмотра Хронологическая диаграмма ряда данных.

* Показать или скрыть ряд данных в списке рядов данных. Пользователи могут щелкнуть определенного ряда данных в списке, чтобы выделить соответствующий график в области диаграммы.

* Увеличить масштаб определенный период времени, выбрав период времени внутри области диаграммы. Чтобы уменьшить масштаб, нажмите кнопку, расположенную в левом нижнем углу диаграммы.

* Исследуйте один отчет, дважды щелкнув определенной точке данных.

* Скопируйте данные и сделать его доступным для других программ, таких как Microsoft Excel. Это позволяет использовать Microsoft Excel, построение диаграмм возможности, когда это необходимо.

### <a name="trend-charts"></a>Диаграммы трендов

Много повторяющихся производительности проблемы, вызванные периодических задач, выполняющихся на или от целевых серверов. Например веб-сайт развлекательных могут быть дополнительные найдено несколько совпадений в выходные дни или задачу резервного копирования диска расписания могут нарушить работу производительности сервера ежедневно в 2:00.

График предназначен для поиска проблем с производительностью. Проблемы с производительностью может произойти несколько раз в различных шаблонов. Наиболее распространенные шаблоны являются ежедневного шаблонов и еженедельные закономерности складывается проблем с производительностью в течение одного часа дня или же день недели. Таким образом SPA предоставляет 24-часовой график и график 7 дней.

График анализа тенденций обеспечивает более глубокий уровень исследования на набор данных, и он ищет тенденции на основе времени суток. Ось x имеет значение 24-часового периода, начиная с 0:00 (полночь) и заканчивая в 23:59. В то же время SPA не отображаются тренды для нескольких рядов данных. Можно щелкнуть **выбрать ряда данных** выберите ряд данных для просмотра.

Чтобы обработать данные, SPA ищет все моментальные между 0:00 до 0:59 за каждый час. SPA определяет минимальное, максимальное, среднее и значения «сигма» для набора моментальных снимков в течение этого часа и представляет их графически как диаграммы "японские свечи". SPA повторяет этот процесс для моментальных снимков между 1:00 до 1:59, а затем 2:00 до 2:59 и т. д. Если моментальные снимки не существует для заданного часа, SPA оставляет пустым этого часа на диаграмме и выполняется до следующего значения.

7-дневные график очень похожа на 24-часовой график. Единственным различием является группировка ряд данных, в зависимости от дня недели, а не час дня.

Ряд данных, выбранные в тенденциях и исторические диаграммы хранятся в виде пользовательских параметров. При следующем запуске тенденции и статистическая диаграмма было открыто средство просмотра для один и тот же пакет ядра СУБД, в списке тот же набор рядов данных отображаются по умолчанию.

## <a name="managing-reports"></a>Управление отчетами


### <a name="deleting-reports"></a>Удаление отчетов

Отчеты могут быть удалены, чтобы свести к минимуму количество отчетов, которые должны управляться SPA. В зависимости от частоты отчетов и число серверов рекомендуется удаление ненужных отчетов. Хотя SPA не имеет ограничение на отчеты, которые он может управлять, основной базе данных может иметь ограничений по размеру.

**Примечание** удаленные отчеты не может быть отменено.

 

### <a name="exporting-and-importing-reports"></a>Экспорт и Импорт отчетов

Отчеты можно экспортировать в XML-файл для транспорта электронной почты другому пользователю или другой консоль SPA. Экспорт отчета не приводит к удалению отчета. Отчет экспортируется в текущей просматриваемой, из **средство просмотра отчетов**, нажмите кнопку **действия**, а затем нажмите кнопку **Экспорт**. Для экспорта нескольких отчетов из **обозреватель отчетов**, нажмите кнопку **включить множественное выделение**, выберите несколько отчетов из поля выбора и нажмите кнопку **Экспорт**. Выполняется экспорт отчетов в формате XML в качестве назначения выбран каталог.

Экспортированный отчет можно просмотреть в SPA. импортированные отчеты не добавляются в базу данных SPA. В основном они предназначены для использования в качестве приложения для просмотра XML для экспортируемого отчета. Сервер для импортированных отчета не нужно иметь те же пакеты ядра СУБД, установлен в качестве исходной консоли SPA экспортированный отчет.

## <a href="" id="bkmk-manageadvisorpacks"></a>Пакеты управления advisor


SPA содержит пакеты advisor для операционной системы core, Hyper-V, active directory и IIS. SPA предоставляет открытую архитектуру для разработки пакетов advisor с помощью SQL, поэтому есть возможность сторонним разработчикам для построения версий пакетов advisor. Ниже приведены четыре параметра для управления пакет ядра СУБД: Подготовка, Настройка, сбросить или удалить.

### <a name="provision-new-advisor-packs"></a>Подготовка новых пакетов advisor

Новые пакеты advisor могут быть выпущены корпорацией Майкрософт или сторонних разработчиков. Пакет ядра СУБД включает provisionMetaData.xml и набор сценариев SQL, которые описывают логику.

**Чтобы подготовить новый пакет ядра СУБД**

1.  Скопируйте все содержимое пакета в разделе помощник по *% SpaRoot %*\\APs directory.

2.  В главном окне выберите **конфигурации**, а затем нажмите кнопку **пакеты помощника по настройке**. **Настроить пакеты Advisor** откроется диалоговое окно.

    **Примечание** это диалоговое окно аналогичен **подготовить пакет advisor** страницы в первый раз используйте мастер. Он отображается список пакетов advisor, которые доступны для управления. Каждый пакет ядра СУБД в списке имеет свойства, такие как имя, установлена версия, версию и автора. Имя — полное имя пакета advisor и установленная версия является версией этого пакета помощник по, которая уже подготовлена в проекте. Если пакет advisor не подготовлена в текущей базе данных, в текстовом поле установленная версия отображается **не установлен**. Поле версии указывает версию этого пакета помощник по, которая фигурирует в папке пакетов, помощник по.

     

3.  Выберите пакет advisor из списка. Если пакет advisor не были подготовлены, или при наличии более новой версии в для папки помощника пакетов в базе данных, чем **подготовки** кнопка включена. Нажмите кнопку **подготовки** кнопки.

4.  После завершения подготовки **установленная версия** поле для пакет выбранного advisor содержит сведения о новой версии.

### <a name="customize-advisor-packs"></a>Настройка пакетов advisor

SPA определяет открытую архитектуру, пользователи могут изменять пакеты advisor. Пользователи могут изменять файлы пакета advisor путем изменения пороговых значений, совместное использование пороговых значений и включения или отключения правила.

Дополнительные сведения о том, как изменять и создавать пакеты advisor см. в разделе [руководство по разработке пакетов в помощник по производительности сервера](server-performance-advisor-pack-development-guide.md).

### <a name="changing-thresholds"></a>Изменение пороговых значений

Пороговые значения используются в SPA, чтобы определить, выполняется ли условие триггера правила. Фактические пороговые значения, для реальных клиентских сценариев могут значительно отличаться из-за рабочей нагрузки, аппаратной среды и бизнеса требуется. Пороговые значения по умолчанию может оказаться для текущего варианта пользователя, так что SPA предоставляет возможность изменять существующие пороговое значение.

Пороговые значения можно изменить, щелкнув имя правила в отчете один или side-by-side. Или для управления всеми правилами пакета конкретного ядра СУБД, можно изменить пороговые значения из **конфигурации** меню.

**Чтобы изменить пороговое значение**

1.  В **конфигурации** меню, щелкните **настроить пакеты Advisor**, щелкните имя пакета, который помощник по необходимо изменить, а затем нажмите кнопку **Настройка**.

    **Примечание** появится список всех правил, включенных в пакет advisor. Флажок слева от имени пакета advisor определяющее, включено ли правило. Если правило отключено, он скрыт из всех отчетов.

     

2.  Щелкните нужное правило, которое вы хотите изменить. **Дополнительные сведения о правиле** по открывает выбранное правило.

Форма сведений правило содержит подробные сведения о них. Он включает имя, описание, состояние, возможных результатов и пороговые значения. SPA поддерживает два типа результатов правила **предупреждение** и **ОК**. Для каждого типа имеется текст рекомендаций и рекомендации.

Некоторые правила не указаны пороги. Например **HTTP поддерживать в активном состоянии** правило проверяет наличие логический параметр для служб IIS. Поэтому список пороговые значения может быть пустым. В противном случае отображается все пороговые значения, которые используются текущим правилом. Подробное описание о том, как пороговое значение используется в правиле включено как часть описания.

Если **Дополнительные сведения о правиле** форма запускается из **конфигурации** меню, списке пороговое значение состоит из трех столбцов: имя, исходное значение и изменить параметр. Если он запускается из одного или side-by-side отчета, пороговые значения, которые используются в отчете также быть включены. Пользователи могут изменять текущий пороговых значений, изменив значение в **изменить параметр** столбец, а затем щелкнув **Сохранить** чтобы сохранить изменения в базе данных.

Для отчетов, создаваемых после изменения необходимо применить все изменения, сделанные пороговые значения только в том случае. Существующие отчеты, не будут затронуты этими изменениями.

### <a name="sharing-thresholds"></a>Совместное использование пороговых значений

Если вы управляете серверов в разделе подобных ситуаций в сети, можно использовать тот же набор пороговых значений. Можно экспортировать и импортировать пороговые значения для конкретного помощника пакета с помощью **конфигурации** меню. Можно выбрать пакет конкретных advisor и нажмите кнопку **Настройка**. Файл экспортированных пороговое значение находится в формате XML.

При импорте порогового значения, SPA проверяет формат XML-файла и проверяет, что файл соответствует пакет выбранного advisor. Если это удалось, SPA импортирует все значения из файла пороговое значение в текущей базе данных проекта. Как и в предыдущем сценарии изменение пороговых значений, все изменения значения порога в силу только в отчетах, создаваемых в будущем. Существующие отчеты, не затрагиваются.

### <a name="enable-or-disable-rules"></a>Включение и отключение правила

Правило может быть включен или отключен от **Дополнительные сведения о правиле** формы. Вам потребуется нажать **Сохранить** для сохранения изменений. Если правило отключено, это не для отображения в любой из отчетов. Но базовой бизнес-логика запускается при создании отчета, поэтому если вы решили включить правило, оно отображается в отчетах еще раз.

### <a name="reset-advisor-packs-to-original-state"></a>Сброс пакеты advisor в исходное состояние

Вы можете изменить пакет для подготовленного advisor в базе данных. Кроме изменения пороговых значений, может также изменить скрипты SQL. SPA не поддерживает изменение метаданных отчета, добавление или удаление правила для пакета подготовленной advisor. Изменять эти области вручную может привести к непредвиденному поведению.

Дополнительные сведения об изменении пакет подготовленной advisor см. в разделе [руководство по разработке пакетов в помощник по производительности сервера](server-performance-advisor-pack-development-guide.md).

Если вы хотите откатить изменения, внесенные на пакет подготовленной advisor, вы можете сбросить пакет advisor. Это приводит к перезаписи всех сценариев SQL, относящиеся к пакету advisor и сбросить все значения пороговые значения по умолчанию. Это позволяет сохранять все существующие отчеты.

Сброс пакет advisor можно сделать с помощью **настроить пакеты Advisor** формы. Необходимо выбрать пакет advisor сброшены, а затем нажмите кнопку **сбросить**.

### <a name="remove-advisor-packs"></a>удалить пакеты advisor

Когда пакет ядра СУБД больше не используется, пользователи могут удалять его из базы данных. При удалении пакет advisor удаляется все о пакет advisor из базы данных, включая правил и пороговых значений, все скрипты SQL и все отчеты. Никакие действия можно выполнить откат.

Удаление пакета advisor можно сделать с помощью **настроить пакеты Advisor** формы. Необходимо выбрать пакет advisor, который необходимо удалить и нажмите кнопку **Deprovision**.

### <a name="update-existing-advisor-packs"></a>Обновить существующие пакеты advisor

Обновление существующих пакетов advisor очень похожа на сброс пакет advisor в исходное состояние. Чтобы обновить пакет advisor до более новой версии, скопируйте новый пакет ядра СУБД для пакета папки помощника. Пакет ядра СУБД считается обновлением существующий пакет ядра СУБД, только в том случае, если нет изменений метаданных отчета. Отчет и правила идентификаторы должны совпадать. В противном случае они должны рассматриваться как два разных advisor пакеты.

Если имеется только изменения логики бизнеса и изменения метаданных не отчетов для пакета advisor, следует присвоить ему номер новой версии, например от 1.0 до 2.0. Если изменение метаданных отчетов, пакет advisor следует присвоить другое полное имя. Например Microsoft.ServerPerformanceAdvisor.IIS.V1 может быть изменен на Microsoft.ServerPerformanceAdvisor.IIS.V2.

Если существует более новая версия пакета advisor, в список в **пакеты помощника по настройке** автоматически заполняет форму **версии** столбца с последней версией пакета advisor. Можно выбрать пакет advisor и нажмите кнопку **сбросить**. Обновления пакета advisor с бизнес-логика и пороговых значений. Все отчеты для этого пакета помощник по сохраняются.

## <a name="managing-servers"></a>Управление серверами


SPA предоставляет базовые возможности для управления целевыми серверами. Вы можете добавить новые серверы в список целевых серверов, удалить серверы из списка или изменить "Примечания" для серверов.

**Чтобы добавить или удалить серверы или изменить сведения о сервере**

1.  Нажмите кнопку **конфигурации** меню, щелкните **Настройка серверов**.

2.  В списке серверов, которые в настоящее время существует в базе данных проекта последняя строка пуста. Щелкните строку и заполните поля. **Имя_сервера** и **общей папки** папку поля являются обязательными, и имя сервера должно быть уникальным.

3.  Введите сведения о других серверах в **замечание** столбец для каждого сервера.

    **Примечание** это поле используется формат произвольный текст, чтобы можно было использовать как поле описания. Или это поле используется для маркировки серверы таким образом, чтобы их можно легко в главном окне или на серверах группы, например, расположение или роль сервера.

     

4.  Если вы хотите использовать SPA с большим количеством серверов, SPA поддерживает формате с разделителями-запятыми (CSV) для импорта. Файл должен содержать по крайней мере два поля: **Сервер** и **расположение общей папки,**. Третье поле **замечание** является необязательным, но рекомендуется для организации серверов. Список серверов также можно экспортировать в CSV-файл, определите соответствующий формат, или создать резервную копию конфигурации сервера.

### <a name="searching-and-filtering"></a>Поиск и фильтрация

Если вы управляете более чем на несколько серверов, SPA обеспечивает базовую поддержку для быстрого поиска серверы в главном окне. Можно щелкнуть столбец заголовка для сортировки на основе имени сервера, результаты анализа, текущее состояние задачи или "Примечания". Также можно воспользоваться функциональными возможностями поиска. В правом верхнем углу основного окна можно ввести строку для поиска. **Целевой сервер** списка в главном окне использует строку для фильтрации серверов и для отображения только серверы с полями name или замечания, которые содержат строку поиска.

На следующем рисунке показано, как строка **delL** соответствует серверов со строкой **delL** или серверов с помощью **замечание** поле, содержащее **delL**.

![Пример поиска и фильтрации](../media/server-performance-advisor/spa-user-manual-find-search-example.png)

## <a name="advanced-functionality"></a>Расширенные функциональные возможности


### <a name="working-with-spa-windows-powershell-cmdlets"></a>Работе с командлетами SPA Windows PowerShell

Консоль SPA поддерживает через пользовательский Интерфейс для повторяющихся сбора данных. Если эти функции не достаточно для вашей среды, существуют командлеты Windows PowerShell, которые дополнительно администратор может использовать для настройки сбора данных. Эти командлеты Windows PowerShell позволяют системным администраторам автоматически запустить анализ производительности на целевых серверах и использовать SPA для поддержки удаленных пользователей. Например системных администраторов можно написать скрипты, чтобы вызвать SPA командлеты в определенные интервалы времени для периодической выборки условие производительности целевых серверов.

Рекомендуется, чтобы закрыть приложение SPAConsole.exe перед использованием этих командлетов.

Прежде чем запускать любые командлеты Windows PowerShell необходимо зарегистрировать командлеты на компьютере с консолью.

**Для регистрации командлетов Windows PowerShell**

1.  Строке с повышенными привилегиями Windows PowerShell команд, введите **registerSpaCmdlets.cmd**. **Успешно регистрации командлетов SPA** появится сообщение.

2.  Запустите **SPA PowerShell.cmd**. Если передать путь к файлу сценария Windows PowerShell, он автоматически выполнять сценарии. В противном случае он открывает командную строку Windows PowerShell, в который готов к выполнению командлетов SPA Windows PowerShell.

В следующей таблице описаны командлеты SPA Windows PowerShell:

| Имя командлета | Параметры | Описание |
| ------ | ------- | ------ |
| Start-SpaAnalysis | **-ServerName** имя целевого сервера.<br>**-AdvisorPackName** полное имя пакета помощник будет поставлен в очередь на сервере. Если несколько пакетов запланировано выполнение в то же время, значение параметра должен быть в формате AP1name AP2name.<br>**-Duration** длительность для сбора данных.<br>**-Credential** учетные данные учетной записи, в которой выполняется сбор данных на целевом сервере.<br>**-SqlInstanceName** имя экземпляра SQL Server.<br>**-SqlDatabaseName** имя базы данных проекта SPA. | Запускает сеанс сбора данных SPA на указанном сервере. |
| STOP-SpaAnalysis | **-SqlInstanceName** имя экземпляра SQL Server.<br>**-SqlDatabaseName** имя базы данных проекта SPA.<br>**-ServerName** имя целевого сервера. | Пытается остановить открытого сеанса SPA. Если сеанс уже завершена, он возвращает не выполняя никаких действий. |
| Get-SpaServer | **-SqlInstanceName** имя экземпляра SQL Server.<br>**-SqlDatabaseName** имя базы данных проекта SPA. | Возвращает список серверов в базе данных. Он возвращает список объектов, включая следующие свойства: Имя, состояние, общая папка и замечания. |
| Get-SpaAdvisorPacks | **-SqlInstanceName** имя экземпляра SQL Server<br>**-SqlDatabaseName** имя базы данных проекта SPA | Получает список пакет ядра СУБД в базе данных. Он возвращает список объектов, включая следующие свойства: Имя, отображаемое имя, автор и версии. |

Windows PowerShell предоставляет возможность передать учетные данные через зашифрованные файлы для поддержки сценариев автоматизации. Дополнительные сведения об использовании зашифрованных файлов для передачи учетных данных для командлета см. в разделе [создания сценариев Windows PowerShell, учетные данные, принимать](https://technet.microsoft.com/magazine/ff714574.aspx).

### <a name="automating-spa-report-collection-by-using-windows-powershell"></a>Автоматизация коллекции SPA отчета с помощью Windows PowerShell

Следующие процедуры представляют собой пример автоматизации коллекции отчетов одностраничного приложения с помощью командлетов SPA Windows PowerShell.

Учетные данные пользователя можно шифруются и кэширования с помощью Windows PowerShell. Эти учетные данные используются для входа на удаленных серверах. Несмотря на то что не относятся к SPA, в следующем примере демонстрируется этот метод:

``` syntax
$fileName = 'D:\temp\operator.txt'
$userName = 'domainname\operator'
 
# save credential to file
$(Get-Credential).Password | convertFrom-SecureString | Set-Content $fileName
 
# load credential from file
$credential = New-Object System.Management.Automation.PsCredential $userName, $(Get-Content $fileName | convertTo-SecureString)
 
# run command
.\start-SpaAnalysis  ServerName: Server1  Credential: $credential  AdvisorPackName:Microsoft.ServerPerformanceAdvisor.CoreOS.V1 10  Duration:10  SqlInstanceName: .\SQLExpress  SqlDatabaseName:SPA8294
```

Перед запуском этого файла, необходимо запустить **set-executionpolicy remoteSigned**

Его можно запустить из пакетного файла, используя следующую команду:

``` syntax
PowerShell -command "& '.\RunSpa.ps1' "
```

### <a name="use-t-sql-to-generate-reports"></a>Использовать T-SQL для создания отчетов

С помощью SQL для построения пользовательских отчетов, не предоставляемых в рамках SPAConsole.exe можно извлечь данные отчета SPA.

Например следующие команды T-SQL предоставляет 10 самых популярных список серверов по ЦП для временного интервала, охватывающий последние три дня:

``` syntax
select TOP 10
   MachineName,
   AverageCpu
FROM (
   select
      __MachineName MachineName,
      AVG(AverageValue) AverageCpu
   FROM [SPA].[Microsoft.ServerPerformanceAdvisor.CoreOS.V1].vwCpuPerformance
   WHERE __Creationtime > dateadd(DAY, -3, GETUTcdate())
      AND Name = N'% Processor time' AND CpuId = N'_Total'
   GROUP BY __MachineName
) t
OrdER BY t.AverageCpu DESC 
```

### <a name="working-with-multiple-projects"></a>Работа с несколькими проектами

В некоторых случаях может потребоваться секционирование баз данных SQL Server, используемые SPA. Это может помочь уменьшить размер данных базы данных SQL Server или помогают логически разделять серверов. В этом случае консоль SPA поддерживает несколько проектов. Можно создать новую базу данных проекта, щелкнув **файл**и выбрав **новый проект**. При первом запуске откроется мастер для создания новой базы данных проекта.

После создания проектов, можно щелкнуть **файл**, а затем нажмите кнопку **Открытие проекта** для переключения между проектами. Консоль SPA не допускает переключения базы данных, когда исключительной производительности анализ выполняется в настоящее время открытый проект. Это позволяет обеспечить целостность данных о производительности.

Если вы решили создать новую базу данных проекта или открыть другой проект базы данных, закрытия текущего проекта. Открытие отчетов закрываются после закрытия текущего проекта.

**Примечание** SQL Server 2008 R2 Express имеет ограничение на 10 ГБ базы данных. С помощью нескольких проектов, можно использовать один или несколько баз данных SQL Server и не превысить ограничение SQL Server 2008 R2 Express в 10 ГБ.

 

### <a name="logging-and-debugging"></a>Ведение журнала и отладки

SPA предоставляет функциональные возможности из базовой регистрации событий. Разрешает только журналы для записи в файл журнала, который находится в той же папке, что SPAConsole.exe. Учетная запись пользователя, где запущена консоль SPA должна иметь разрешение на запись в папку, в котором была установлена SPA, чтобы убедиться в том, что журналы могут записываться в файл журнала.

SPA содержит следующие уровни ведения журнала допустимым:

* **Информационное** выводит журналы для каждого действия, которая принимает консоль SPA, и она предназначена главным образом для целей отладки.

* **Предупреждение** записывает все ошибки и исключения, которые происходят внутри консоли SPA. Некоторые сбои являются просто сбои при выполнении проверки, которые могут быть обработаны консоль SPA.

* **Критические** регистрируется только сбои и исключения, которые не могут быть обработаны консоль SPA. Эти сбои вызывали сбой консоли SPA. Журналы содержат сведения о контексте для подобных сбоев.

По умолчанию уровень ведения журнала — предупреждение, означающее, что SPA только журналы ошибок и исключений, которые происходят в SPA. Уровень ведения журнала можно изменить путем редактирования **SpaConsole.exe.config** файл SpaConsole.exe находится в той же папке. Все журналы записываются в файл log.txt в той же папке.

SPA также предоставляет некоторые основные возможности для отладки. Чтобы включить отладку для одностраничного приложения, пользователи должны вручную изменить базу данных проекта SPA. Параметр хранится в таблице конфигурации. Пользователь должен запустить следующий сценарий SQL для изменения проекта SPA режим отладки:

``` syntax
UPdate [Configurations] SET Value = N'true' WHERE Name = N'Debugmode'.
```

В режиме отладки платформы одностраничных ПРИЛОЖЕНИЙ сохраняет временные данные, создаваемых во время анализа производительности, устранения неполадок в пакетах advisor. Этот сценарий в основном предназначен для использования разработчиками пакет ядра СУБД.

Дополнительные сведения о функции отладки, доступные в SPA, см. в разделе [руководство по разработке пакетов в помощник по производительности сервера](server-performance-advisor-pack-development-guide.md).

### <a name="managing-the-database"></a>Управление базой данных

### <a name="backup-and-restore-the-database"></a>Резервное копирование и восстановление базы данных

Консоль SPA не предоставляет функциональные возможности для резервного копирования и восстановления базы данных SPA. Следует использовать стандартные средства Microsoft SQL Server и скрипты для резервного копирования и восстановления баз данных.

### <a name="clean-up-the-database"></a>Очистка базы данных

Ростом размеров баз данных проекта SPA можно при запуске более подробного анализа производительности. По умолчанию SPA хранит все отчеты. Можно удалить старые отчеты для повышения производительности. Вы можете удалить отчетов с помощью **обозреватель отчетов** интерфейс.

## <a name="privacy-and-security"></a>Конфиденциальность и безопасность


SPA поддерживает только сбор данных из целевых серверов на консоль SPA. Не позволяет отправлять любые сведения в корпорацию Майкрософт или сторонних разработчиков. Дополнительные сведения о конфиденциальности SPA см условия лицензионного соглашения на использование программного обеспечения Майкрософт для Server Performance Advisor.

Все данные, собранные SPA хранится в базах данных проекта. Из-за особенностей некоторые трассировки событий Windows SPA может собирать конфиденциальные данные, которые может иметь крайне важна для бизнеса. Вы должны помнить потенциальных угроз, связанных с общим доступом к базам данных проекта SPA. Временные файлы журнала сохраняются в общих папках, указанных на каждом конечном компьютере. Несмотря на то, что SPA пытается удалить эти временные журнал файлов после завершения импорта данных, нет никакой гарантии, что эти файлы журналов всегда быть удаляются. Следует убедиться, что общие папки находятся в безопасных местах.

Пакеты SPA advisor содержит скрипты SQL для анализа и анализа журналов производительности для создания отчетов о производительности. SPA предпринимается попытка ограничить привилегии эти скрипты выполняются. Тем не менее по-прежнему есть вероятность, что сценарии можно собирать конфиденциальной информации по SPA из целевых серверов, или получить или изменить конфиденциальные сведения, которые хранятся в одной и той же базе данных проекта SPA. Необходимо обеспечить наличие всех пакетов advisor, подготовленные к базе данных проекта SPA из надежных источников.

## <a name="errors-and-troubleshooting"></a>Ошибки и устранение неполадок


### <a name="spaconsoleexe-does-not-start-or-write-log-file"></a>SPAConsole.exe не запускаться или записи файла журнала

При попытке запуска SPAConsole.exe в первый раз, если не установлена платформа .NET Framework, приложения не запускаются или записать в файл журнала. Убедитесь, что compatible.NET Framework установлена и работает должным образом перед началом SPA.

### <a name="locating-log-information"></a>Поиск сведений о журнале

SPA хранит сведения об ошибках в файл log.txt в папке SPA. Подробные сообщения об ошибках и сведений стека вызовов, записываются в эту папку. При возникновении сбоев, которые требуются дополнительные сведения для интерпретации, можно открыть файл log.txt, чтобы просмотреть сведения об ошибке.

### <a name="database-size-limitations-for-sql-server-express"></a>Ограничения размера базы данных для SQL Server Express

SQL Server Express имеет ограничение на размер 10 ГБ для пользовательской базы данных. Эта база данных размером достаточна для хранения отчетов 20 000 до 30 000. Чтобы снизить вероятность достижения этого ограничения базы данных, рекомендуется регулярно удаление отчетов и/или с помощью другой версии SQL Server не поддерживает ограничение на 10 ГБ для базы данных пользователя.

### <a name="sql-server-express-log-size-and-disk-capacity"></a>SQL Server Express емкости размер и диск журнала

Если вы используете SQL Server Express, пользовательской базы данных ограничен 10 ГБ, но соответствующий файл журнала может превышать 70 ГБ. По этим причинам рекомендуется 100 ГБ или больше свободного дискового пространства для SQL Server Express. Места на диске должно быть достаточно для хранения примерно на 20 000 к 30 000 отчетов. Этот файл журнала называется SPADB\_log.ldf и он находится по адресу **% Program Files %\\Microsoft SQL Server\\MSSQL10. SQLEXPRESS\\MSSQL\\данных**.

### <a name="failure-to-connect-to-target-server"></a>Не удалось подключиться к целевому серверу

При выполнении анализа производительности на целевых серверах, учетная запись пользователя, где запущена консоль SPA должна иметь определенные привилегии в очередь сборщиков данных PLA на целевых серверах. Также необходимо изменить для разрешения подключения PLA проходить через параметры брандмауэра Windows. Подробные инструкции по настройке, см. в разделе [Настройка SPA](#bkmk-setupspa).

### <a name="failure-to-create-pla-data-collection-set-on-the-target-server"></a>Ошибка создания набора элементов сбора данных PLA на целевом сервере

Если не удается создать набор сбора данных PLA на сообщения целевой сервер, убедитесь, что можно делать следующее:

* Убедитесь, что **журналы и оповещения производительности** служба запущена

* Параметр безопасности **сетевой доступ: Не разрешать хранение паролей или учетных данных для проверки подлинности сети** отключена. Настройка безопасности должна быть отключена, так как SPA должен использовать учетные данные пользователя для создания набора элементов сбора данных на целевом сервере.

### <a href="" id="running-spa-against-the-console-"></a>Выполнение SPA консоли

PLA проходит через другой канал, если целевой сервер является таким же, как консоль SPA. Даже если учетной записи пользователя выполняется консоль одностраничных ПРИЛОЖЕНИЙ с правами администратора, PLA завершается ошибкой. Если консоль SPA установлена на целевом сервере, пользователи должны запустить SPA как администратор, чтобы убедиться в том, что задача анализа производительности можно работать на консоль.

### <a name="running-multiple-consoles-at-the-same-time"></a>Выполнение нескольких консолей, в то же время

SPA не поддерживает несколько консолей, использующим одну и ту же базу данных проекта SPA, в то же время. SPA также не предоставляют механизм блокировки и синхронизации, чтобы предотвратить ситуацию. Если две консоли SPA выполняются одновременно, консоль будет выполняться несогласованно в зависимости от времени последовательности, работающих под управлением этих консолей SPA. Чтобы избежать этого, все сеансы анализа производительности в очереди должны удаляться из списка, прежде чем оно обрабатывается консоль, которая запускает анализ.

SPA защищает целостность всех отчетов, успешно созданные SPA. в то же время SPA не гарантирует, что выполнены все задачи в очереди анализа. Если вы видите несогласованное состояние изменения для сеансов анализа производительности или ошибок, которые утверждения системе не удается найти журналы производительности, созданных набор сборщиков данных, это может быть вызвано несколько экземпляров консоли SPA, под управлением для работы с одним База данных проекта SPA.

Выполнение командлетов SPA Windows PowerShell может также повлиять на консоль SPA, который работает с одной и той же базе данных SPA. Рекомендуется, чтобы закрыть консоль SPA, перед выполнением командлетов SPA Windows PowerShell.

### <a name="spaconsoleexe-recurring-collection-is-disrupted"></a>Повторяющиеся коллекции SPAConsole.exe будет прервано

При использовании повторяющихся данных коллекции (например, почасовая коллекции) при выполнении SPAConsole.exe, и сервер, выполняющий SPAConsole.exe должна находиться в режиме энергосбережения, не таким образом, чтобы его можно приостановить. SPA не проверяет наличие энергосбережения политики. Это действие приостановки может нарушить регулярных повторяющихся сбора данных.

### <a name="lost-etw-events"></a>Потерянных событий трассировки событий Windows

Чтобы создать минимальное влияние на целевых серверах, PLA предназначен для работы с низким приоритетом, хотя он собирает данные производительности. Если целевой сервер занят, PLA можно удалить некоторые задачи сбора данных для получения задачи высоким приоритетом, работающих под управлением на целевых серверах. Следует рекомендуется настроить общую папку, где события записываются на диск t конфликтующие с s рабочей нагрузки ввода-вывода или диска быстрее, например диске SSD. При события будут удалены, они выводятся в представлении отчета, так как потерю событий может повлиять на надежность метрики производительности, созданный.

Также может вызвать определенных проблем с разрешениями, реестр или запросов WMI, которые нужно пропустить. Тем не менее это менее вероятно, чем потеря событий трассировки событий Windows. Таким образом набор результатов сборщика данных иногда не содержат все значения, которые запрашиваются. Необходимо, чтобы убедиться в том, что ситуация с помощью сценариев T-SQL для всех пакетов, помощник по. Если данные не существуют в результате сбора данных, он помечается как данные в отчетах.

Так как для PLA характерно потери событий трассировки событий Windows, доступ к данным, которые создаются на основе трассировки приложения трассировки событий Windows может не быть согласованное с точками данных, которые создаются на основе, к примеру, счетчиков производительности. Например можно увидеть что совокупное использование ЦП службами IIS 80% (который содержит от счетчиков производительности), что верхней URL-адреса приложения использовать только 10% от общего времени ЦП (который представляет собой точку данных, которые поступают от трассировки событий Windows). Как правило источник данных для одного элемента данных можно просмотреть с помощью подсказку точки данных. Необходимо учитывать последствия потери данных.

Чтобы избежать потери событий, следует закрыть папку результатов на целевой сервер.

Если результаты сборщика данных содержат неполные данные, отличные от потери трассировки ETW и разработчик пакет ядра СУБД была добавлена поддержка уведомлений потери событий трассировки событий Windows, информационная панель отображается поверх один отчет для уведомления пользователя о потенциально несогласованные отчета, из-за потери данных. информации об ущербе подробных данных можно найти в файл log.txt.

## <a name="glossary"></a>Глоссарий


Ниже приведены некоторые термины, используемые с SPA.

* **Пакет Advisor** коллекцию метаданных и сценарии T-SQL, которые обрабатывают журналов производительности, собираемых с целевого сервера. Затем пакет advisor создает отчеты на основе данных журнала производительности. Метаданные в пакет advisor определяет данные, собираемых с целевого сервера для измерения производительности. Метаданные также определяет набор правил, пороговые значения и формат отчета. Чаще всего пакет ядра СУБД записывается специально для роли один сервер, например, Internet Information Services (IIS).

* **Консоль SPA** SpaConsole.exe, который является центральной частью SPA. SPA не должны выполняться на целевой сервер, который вы тестируете. Консоль SPA содержит все пользовательские интерфейсы для одностраничного приложения, от настройки проекта для выполнения анализа и просмотр отчетов. По своей структуре SPA является 2 уровневого приложения. Консоль SPA содержит слой пользовательского интерфейса и части бизнес-логики. Консоль SPA планирует и обрабатывает запросы анализа производительности.

* **SPA framework** предоставляет все пользовательские интерфейсы, обработка журнала производительности, конфигурации, обработка ошибок и процедур управления и интерфейсы API баз данных.

* **Проект одностраничного приложения** базы данных, который содержит все сведения о целевых серверах, пакеты advisor и анализ производительности отчеты, которые создаются на целевых серверах для пакетов advisor. Можно сравнить и просматривать журнал и тенденции диаграммы в один и тот же проект SPA. Можно создать более одного проекта. Проекты SPA независимо друг от друга и нет данных, используемых проектами.

* **Целевой сервер** физическом компьютере или виртуальной машины под управлением Windows Server с определенными ролями сервера, такими как службы IIS.

* **Сеанс анализа данных** анализа производительности на указанном целевом сервере. Сеанс анализа данных может включать несколько пакетов advisor. Наборы сборщиков данных из этих пакетов advisor объединяются в набора сборщиков данных single. Все журналы производительности для сеанса анализа данных собираются в процессе тот же период времени. Анализ отчетов, создаваемых пакетов advisor, в том же сеансе анализа данных может помочь пользователям понять общую производительность ситуации и определить основные причины проблем с производительностью.

* **Трассировка событий для Windows** это система трассировки высокой производительности, низкими издержками, масштабируемое, представленного в Windows. Он предоставляет возможности, которые можно использовать для устранения неполадок в разнообразных сценариях отладки и профилирования. SPA использует события трассировки событий Windows в качестве источника данных для создания отчетов о производительности. Общие сведения о трассировке событий Windows см. в разделе [улучшение отладки и настройки производительности с помощью ETW](https://msdn.microsoft.com/magazine/cc163437.aspx).

* **Инструментарий управления Windows (WMI)** инфраструктуру для управления данными и выполнения операций в Windows. Можно написать скрипты WMI или приложения, автоматизировать задачи администрирования на удаленных компьютерах. WMI также предоставляет данные управления с другими частями операционной системы, а также продуктов. SPA использует сведения о классе WMI и точек данных в качестве источников для создания отчетов о производительности.

* **Счетчики производительности** используется для предоставления сведений о том, как хорошо работает операционной системы или приложения, службы или драйвера. Данные счетчика производительности помогает определить узкие места и оптимизировать производительность системы и приложения. На операционной системе, сети и устройства предоставляют данные счетчика, который приложение может использовать для предоставления пользователям графическое представление того, насколько хорошо работает система. SPA использует сведений о счетчиках производительности и точек данных в качестве источников для создания отчетов о производительности.

* **Журналы производительности и оповещения (PLA)** производительности собирает журналы, трассировки и выдает оповещения производительности, когда выполняются определенные триггеры. PLA можно использовать для сбора данных счетчиков производительности, трассировки событий для Windows (ETW), запросы WMI, разделов реестра и конфигурации файлы. PLA также поддерживает удаленный сбор данных через удаленные вызовы процедур (RPC). Пользователь определяет набор сборщиков данных, включающее информацию о собираемых данных, частота сбора данных, длительность сбора данных, фильтров и расположение для сохранения файлов результат. SPA использует PLA для сбора всех данных производительности из целевых серверов.

* **Единый отчет** SPA отчет, который создается на основании сеанс анализа данных для одного ядра СУБД пакета на одном целевом сервере. Оно может содержать уведомлений и различные разделы данных.

* **Отчет Side-by-side** SPA отчет, который сравнивает два одного отчета для один и тот же пакет ядра СУБД. Два отчета могут создаваться из разных целевых серверов или отдельные производительность анализа запусков на том же целевом сервере. Отчет side-by-side создает возможность сравнивать два отчета, которые помогут пользователям определить ненормальное поведение или параметры в один из отчетов. Side-by-side отчет содержит уведомления и различные разделы данных. В каждом разделе данные из обоих отчетов являются перечисленных side-by-side.

* **Диаграмма тренда** SPA отчет, который используется для изучения повторяющихся шаблонов проблем с производительностью. Много повторяющихся производительности проблемы вызваны изменения нагрузки запланированных сервера с сервера или из клиентских компьютеров, что может случиться, ежедневно или еженедельно. SPA предоставляет 24-часовой график и график 7 дней для выявления этих проблем.

    Пользователь может выбрать один или несколько рядов данных одновременно, который является числовым значением внутри одного отчета, такие как **среднее общее использование ЦП**. в частности числовое значение получается скалярное значение из одного сервера, созданного одной точки беспроводного доступа на момент времени экземпляр. SPA группирует эти значения в 24 групп, по одной для каждого часа дня (семь для отчета, 7 дней, один для каждого дня недели). SPA вычисляет среднее, минимальное, максимальное и стандартные отклонения для каждой группы.

* **Статистическая диаграмма** SPA отчет, который используется для отображения изменений в определенных числовых значений внутри одной отчеты для данного сервера и ядра СУБД пары пакет со временем. Пользователь может выбрать несколько рядов данных и отобразить их в Хронологическая диаграмма, чтобы понять взаимосвязь между другому ряду данных.

* **Ряды данных** числовые данные, собираемые из одного источника данных за период времени. Тот же источник означает, что данные должен поступать от одного целевого сервера, такое как длина очереди запроса среднего для служб IIS на одном сервере.

* **Правила** комбинации логики, пороговые значения и описания. Они представляют собой потенциальные проблемы производительности. Каждый пакет advisor содержит несколько правил. Каждое правило активируется процесса создания отчета. Пороговые значения и логика применяется правило, к данным в одном отчете. Если условия выполнены, возникает предупреждение уведомление. Если нет, уведомление **ОК** состояния. Если правило не применяется, уведомление будет присвоено не применяется (**NA**) состояние.

* **Уведомления** информации, правило для пользователей. Он включает в себя состояние правила (**ОК**, **NA**, или **предупреждение**), имя правила и возможных рекомендаций для решения проблем производительности.
