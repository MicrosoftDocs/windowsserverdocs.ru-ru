---
title: Просмотр и настройка событий производительности и обслуживания данных
description: Диспетчер серверов
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-server-manager
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: ccd59c35-4dbf-48e7-88a4-c519c00184d1
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 727b81d1ba2cda32a7568e4e2f23065b1589e745
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59861905"
---
# <a name="view-and-configure-performance-event-and-service-data"></a>Просмотр и настройка данных о производительности, событиях и службе

>Область применения. Windows Server (полугодовой канал), Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

В этом разделе описывается просмотр и настройка записи журнала событий, счетчики производительности и служебных оповещений, отображаемых для локальных и удаленных серверов в диспетчере сервера.  

Данные журнала событий, служб и производительности отображается в двух местах в консоли диспетчера серверов в Windows Server.  

-   На панели мониторинга, можно щелкнуть **события**, **производительности**, и **служб** строки эскизов для настройки событий, производительности и данные журнала службы, который вы хотите просмотреть для ролей, всего пула серверов диспетчера серверов, созданных пользователем групп серверов и локального сервера. Щелкнув гипертекст каждой строки откроется **подробном представлении** диалоговым окнам, которые позволяют указать данные, о котором вы хотите получать оповещения на панели мониторинга. После настройки событий, службы и данные журнала производительности, вы должны отображаться в эскизах панели мониторинга журнала, соответствующих выбранным условиям, приводится в нижней части **подробном представлении** диалоговым окнам.  

-   Плитки **События**, **Службы** и **Производительность** являются частью домашних страниц ролей и групп. Команды меню **Задачи** этих плиток позволяют указывать конкретные данные, подлежащие сбору с управляемых серверов. Плитки содержат фильтры и запросы, предназначенные для последующего ограничения записей журнала, отображаемых в определенной плитке, если это необходимо.  

Эта статья содержит следующие разделы.  

-   [Что такое эскизы?](#BKMK_thumb)  

-   [Просмотр и настройка событий](#BKMK_events)  

-   [Просмотреть и настроить счетчики производительности](#BKMK_perf)  

-   [Управление службами и настройка служебных оповещений](#BKMK_services)  

-   [Просмотр и копирование записей о событии или производительности](#BKMK_copy)  

## <a name="BKMK_thumb"></a>Что такое эскизы?  
*Эскизы* , отображаются на панели мониторинга диспетчера серверов для каждой роли (эскиз роли отражает данные, собранные обо всех серверах в пуле диспетчера серверов, работающих под управлением роли), для каждой группы серверов для **все Серверы** группы (все серверы в пуле диспетчера сервера) и для локального сервера. После Server Manager получает данные с управляемых серверов, эскизы создаются автоматически для ролей, которые выполняются на серверах в пуле серверов.  

Если консоль диспетчера сервера выполняется на клиентском компьютере как часть средств удаленного администрирования сервера, не **локального сервера** эскиз.  

Эскиз отображает выборку данных о состоянии и управляемости ролей, серверов и групп серверов. Строка заголовка эскиза меняет цвет (и в левом поле отображаются числа) когда события, счетчики производительности, результаты анализатора соответствия рекомендациям, служб или общей управляемости соответствуют критериям, настроенные в **подробном представлении** диалоговым окнам, открываемых при нажатии на строки эскизов. Приведенная ниже таблица содержит описание данных, отображаемых в эскизах.  

|Строка эскиза|Описание|  
|---------|--------|  
|Управляемость|Управляемость сервера включает в себя несколько мер:, работает ли сервер сети или автономно, будь то доступными и отчетов данных в диспетчер сервера, наличие у пользователя, вошедшего на локальном компьютере права пользователя на доступ и управление удаленный сервер, удаленный сервер работает ли все программное обеспечение, необходимое для удаленного управления или ли сервер настроен способом, который позволяет запрашивать и управлять ими с помощью диспетчера сервера. Единственным параметром управляемости, диспетчера сервера можно собирать с сервера, на котором работает Windows Server 2003 выравнивается, является ли сервер интерактивном или автономном режиме. Подробные сведения об ошибках состояния управляемости и способы их устранения см. в [руководстве по устранению неполадок диспетчера серверов](https://social.technet.microsoft.com/wiki/contents/articles/13443.windows-server-2012-server-manager-troubleshooting-guide-part-i-overview.aspx).|  
|События|Вы можете настроить строку **События** эскиза на отображение оповещений при регистрации событий, соответствующих предварительно выбранным степеням серьезности, источникам, периодам времени, серверам или ИД событий. Просмотр подробных сведений о событиях и изменение оповещения, вы хотите просмотреть, нажав кнопку **события** строки, а также открытие **события подробном представлении** диалоговое окно для роли или группы серверов.|  
|Службы|Можно настроить **служб** строки на отображение оповещений при выявлении в роли или группы серверов, соответствующих типам запуска, состояние службы, имена служб и серверов, указанные в **служб подробном представлении**  диалоговое окно.<br /><br />После добавления сервера в пул серверов диспетчера серверов, если нет пользователей, выполнивших вход на управляемом сервере могут отображаться оповещения службы о службе определение оборудования оболочки. Это происходит потому, что служба "Определение оборудования оболочки" выполняется только тогда, когда пользователи выполнили вход на управляемом сервере или подключены к сеансу удаленного рабочего стола на управляемом сервере. Во избежание просмотра оповещений службы "Определение оборудования оболочки" в этом случае щелкните **Службы** в эскизах для групп серверов, включая группу **Все серверы**. В **служб подробном представлении** диалоговом окне **служб** стрелку раскрывающегося списка, снимите флажок для **определение оборудования оболочки**, а затем нажмите кнопку **ОК**.|  
|Производительность|Можно настроить **производительности** строки на отображение оповещений для роли или группы серверов при выдаче оповещений о производительности, которые соответствуют типам ресурсов, серверы или периодов времени, указываемые в **сведения о производительности представление** диалоговое окно.<br /><br />По умолчанию счетчики производительности отключены. Управляемых серверов, работающих под управлением операционных систем более новой версии Windows Server 2003, а для производительности не были запущены счетчики, обычно показывают сообщения управления об ошибках состояния **online — не запущены счетчики производительности** в **серверы** плитки страниц роли или группы. Чтобы включить счетчики производительности для управляемых серверов, на **все серверы** странице, щелкните правой кнопкой мыши записи в **производительности** плитки, которые показывают **состояние счетчика** значение  **Отключение**, а затем нажмите кнопку **запустить счетчики производительности**. Счетчики производительности также можно запустить, щелкнув правой кнопкой мыши записи для серверов на **серверы** плитки роли или группы страниц, затем нажмите кнопку **запустить счетчики производительности**.|  
|Результаты BPA|Можно настроить **результаты BPA** строку для отображения оповещений для роли или группы серверов при результатов проверки BPA выявлении, степени серьезности, серверам или категориям BPA, указываемые на **результаты BPA подробном представлении** диалоговое окно.|  

## <a name="BKMK_events"></a>Просмотр и настройка событий  
В этом разделе вы научитесь указывать, какие данные журнала событий собираются с серверов в пул серверов диспетчера серверов, и какие события должны отображаться в эскизах.  

> [!NOTE]  
> События, о которых вы получаете оповещения в эскизах являются подмножеством всех событий, которые вы указываете диспетчера серверов для сбора с управляемых серверов. Несмотря на то, что изменение условия события в **Настройка данных события** диалогового окна в **события** плиток можно изменению числа оповещений, отображаемых на панели мониторинга диспетчера серверов, изменение критерия оповещения о событии в Эскизы не влияет на данные журнала событий, собираемые с управляемых серверов.  

#### <a name="to-configure-the-events-collected-from-managed-servers"></a>Настройка событий, собираемых с управляемых серверов  

1.  В консоли диспетчера сервера откройте любую страницу, исключая панель мониторинга. События, собираемые с управляемых серверов, можно настроить в плитке **События** на страницах роли, группы серверов или локального сервера.  

2.  В меню **Задачи** плитки **События** щелкните **Настройка данных события**.  

3.  Выберите степени серьезности событий, которые требуется собирать с серверов в выбранной группе. Степени серьезности **Критическая**, **Ошибка** и **Предупреждение** выбраны по умолчанию.  

4.  Укажите период времени для событий. По умолчанию срок жизни событий составляет 24 часа.  

5.  Выберите файлы журнала событий, с которых будет осуществляться собираемые события. По умолчанию это файлы **Приложение**, **Настройка**и **Система**.  

6.  Чтобы сохранить изменения и закрыть диалоговое окно **Настройка данных события** , нажмите кнопку **ОК** . Данные события автоматически обновляются при сохранении изменений.  

#### <a name="to-configure-the-events-highlighted-in-thumbnails"></a>Настройка событий, отображаемых в эскизах  

1.  Если диспетчер серверов уже открыт, переходите к следующему шагу. Если диспетчер серверов еще не открыт, откройте его одним из следующих способов.  

    -   На рабочем столе Windows запустите диспетчер серверов, щелкнув **Диспетчер серверов** на панели задач Windows.  

    -   На **начальном экране** Windows выберите плитку "Диспетчер серверов".  

2.  На панели мониторинга, в плитке **Роли и группы серверов** эскиза, щелкните строку **События** .  

3.  В **события подробном представлении** диалоговом окне добавьте степень серьезности событий, которые вы хотите отображать. По умолчанию в эскизах отображается только оповещение для критических событий. Обратите внимание, что количество событий, отображаемых в **подробном представлении** диалоговое окно увеличивается при добавлении уровня серьезности, о котором вы хотите получать оповещения.  

4.  В поле **Источники событий** выберите источники событий для оповещения. Значение по умолчанию — **All**.  

5.  Если эскиз предназначен для роли, установленной на нескольких серверах, или группы из нескольких серверов, можно выбрать серверы, для которых требуется настроить оповещения о событиях в **серверы** стрелку раскрывающегося списка.  

6.  В **период времени** поле, укажите период времени, не превышающий 1440 минут, 24 часа или 1 день.  

7.  В поле **ИД событий** введите кодовые числа определенных событий для оповещения. Вы можете вводить диапазон ИД событий, разделив их дефисом (**-**), а также исключать ИД событий из диапазона, вводя дефис перед исключаемым ИД события или диапазоном ИД событий. Например, значение **1,3,5-99,-76** означает, что оповещения вызываются для событий с идентификаторами 1 и 3, а также для всех событий с идентификаторами в диапазоне от 5 до 99, за исключением события с идентификатором 76.  

8.  При изменении условий отображения оповещений число оповещений о событиях, отображаемых в области результатов в нижней части диалогового окна, может измениться. Выберите записи в списке и нажмите кнопку **скрыть оповещения** во избежание их влияния на отображение счетчика оповещений, отображаемых в эскизе источника. Для выбора нескольких оповещений нажмите и удерживайте клавишу **CTRL** при выборе оповещений. Вы также можете сделать это для оповещений, соответствующих ранее выбранным условиям оповещения о событиях, которые не нужно отображать.  

9. Щелкните **Показать все** для возврата скрытых оповещений в список.  

10. Нажмите кнопку **ОК** для сохранения изменений, закройте **подробном представлении** диалоговое окно и просмотрите предупреждение о событии изменения в эскизе источника.  

## <a name="BKMK_perf"></a>Просмотреть и настроить данные журнала производительности  
В этом разделе вы научитесь указывать, какие данные журнала производительности собираются с серверов в пул серверов диспетчера серверов, и какие оповещения счетчика производительности вы должны отображаться в эскизах.  

По умолчанию счетчики производительности отключены. Управляемых серверов, работающих под управлением операционных систем более новой версии Windows Server 2003, а для производительности не были запущены счетчики, обычно показывают сообщения управления об ошибках состояния **online — не запущены счетчики производительности** в **серверы** плитки страниц роли или группы. Чтобы включить счетчики производительности для управляемых серверов, на **все серверы** странице, щелкните правой кнопкой мыши записи в **производительности** плитки, которые показывают **состояние счетчика** значение  **Отключение**, а затем нажмите кнопку **запустить счетчики производительности**. Счетчики производительности также можно запустить, щелкнув правой кнопкой мыши записи для серверов на **серверы** плитки роли или группы страниц, затем нажмите кнопку **запустить счетчики производительности**.  

> [!NOTE]  
> Оповещения производительности, отображаемые в эскизах представляют собой подмножество данных счетчиков производительности всего, вы указываете диспетчера серверов для сбора с управляемых серверов. Несмотря на то, что изменение критерия оповещения о производительности в **Настройка оповещений о производительности** диалогового окна в **производительности** плиток можно изменению числа оповещений, отображаемых на панели мониторинга диспетчера серверов, изменение критерия оповещения о производительности в эскизах не влияет на данные журнала производительности, собираемые с управляемых серверов.  
>   
> По этой причине максимальный срок хранения данных производительности, которые можно отобразить в виде эскизов, не может быть больше, чем максимальный период отображения графика, установленный в диалоговом окне **Настройка оповещений о производительности** . Например если **период отображения графика** значение в **Настройка оповещений о производительности** — **1 день**, максимальное значение для **период времени**в **сведения о производительности представление** диалогового окна, открываемого из информационной панели диспетчера сервера может быть **1 день**, **24 часа**, или **1440 минут**.  

#### <a name="to-configure-the-performance-log-data-collected-from-managed-servers"></a>Настройка данных журнала производительности, собираемых с управляемых серверов  

1.  В консоли диспетчера сервера откройте любую страницу, исключая панель мониторинга. Данные о производительности, собираемые с управляемых серверов, можно настроить в плитке **Производительность** на страницах роли, группы серверов или локального сервера.  

2.  Для сбора данных журнала производительности с управляемых серверов счетчики производительности должны быть включены. Если счетчики производительности выключены, щелкните правой кнопкой мыши запись в **производительности** список плиток, а затем нажмите кнопку **запустить счетчики производительности**. На сбор данных счетчика производительности может потребоваться время, зависящее от числа серверов, с которых собираются данные, и пропускной способности сети. Просмотрите текущее состояние в столбце **Состояние счетчика** .  

3.  В меню **Задачи** плитки **Производительность** выберите **Настроить оповещения о производительности**.  

4.  для серверов в выбранной группе или используете выбранной роли, укажите, при каком проценте загрузки ЦП оповещений счетчика производительности, собранные диспетчером серверов. Значение по умолчанию — 85%.  

5.  Укажите в мегабайтах остаток доступной памяти серверов, при достижении которого должен начинаться сбор оповещений счетчика производительности. По умолчанию выбрано 2 МБ.  

6.  Укажите период времени, отображаемый на графиках ресурсов **Загрузка ЦП** и **Доступная память** в плитке **Производительность** на выбранной странице. По умолчанию используется период в 1 день. Нажмите кнопку **Сохранить**.  

    Помните, что число оповещений о производительности в плитке **Производительность** и отображение на графике сопоставленных оповещений по времени может измениться после нажатия кнопки **Сохранить**.  

    > [!NOTE]  
    > для виртуальных машин, имеющих [динамической памяти](https://technet.microsoft.com/library/ff817651.aspx) включена, повышение порога оповещений о производительности может привести к ложному срабатыванию оповещений.  

7.  Для обновления списка оповещений о производительности, собираемых с серверов, в меню **Задачи** выберите **Обновить**.  

#### <a name="to-configure-the-performance-alerts-highlighted-in-thumbnails"></a>Настройка оповещений о производительности, отображаемых в эскизах  

1.  На панели мониторинга, в плитке **Роли и группы серверов** эскиза, щелкните строку **Производительность** .  

2.  В **сведения о производительности представление** диалоговом окне установите или снимите флажки для пороговых значений производительности ресурсов, о которых вы хотите получать оповещения в **тип ресурса** поля. Обратите внимание, что количество оповещений о производительности, отображаемых в **подробном представлении** диалоговое окно можно увеличить, при добавлении порога производительности ресурса, о котором вы хотите получать оповещения.  

3.  Если эскиз предназначен для роли, установленной на нескольких серверах, или группы из нескольких серверов, можно выбрать серверы, для которых требуется настроить предупреждения о производительности в **серверы** стрелку раскрывающегося списка.  

4.  В **период времени** поле, укажите период времени, не превышающий 1440 минут, 24 часа или 1 день.  

5.  При изменении условий отображения оповещений число оповещений, отображаемых в области результатов в нижней части диалогового окна, может измениться. Щелкните **Скрыть оповещения** , чтобы скрыть все оповещения старше текущего времени во избежание их влияния на отображение счетчика оповещений, отображаемого в эскизе источника.  

6.  Щелкните **Показать все** для возврата скрытых оповещений в список.  

7.  Нажмите кнопку **ОК** для сохранения изменений, закройте **подробном представлении** диалоговое окно и просмотрите изменения предупреждения о производительности в эскизе источника.  

#### <a name="to-view-the-properties-of-performance-alerts"></a>Просмотр свойств оповещений о производительности  

1.  Выполните одно из указанных ниже действий.  

    -   На панели мониторинга, в плитке **Роли и группы серверов** эскиза, щелкните строку **Производительность** .  

    -   Откройте домашнюю страницу роли или группы и найдите плитку **Производительность** для данной роли или группы.  

2.  Дважды щелкните в списке любое оповещение о производительности для просмотра его свойств. Или щелкните любое оповещение о производительности правой кнопкой мыши и выберите **Просмотр свойств**.  

3.  В диалоговом окне **Свойства оповещений о производительности** выберите записи журнала для просмотра информации о процессах, связанных с записью в области **Процессы**.  

4.  По завершении просмотра свойств оповещений о производительности закройте диалоговое окно.  

### <a name="analyze-performance-data-and-solve-problems"></a>Анализ данных о производительности и решение проблем  
Дополнительные сведения об анализе данных счетчиков производительности, которое можно просмотреть в диспетчере сервера и решению проблем с производительностью на управляемых серверах см. следующие ресурсы.  

-   [Анализ данных о производительности](https://go.microsoft.com/fwlink/?LinkId=239829)  

-   [Повышение производительности](https://go.microsoft.com/fwlink/?LinkId=239831)  

Дополнительные сведения о расширенных средствах производительности, мониторинга и анализа, доступные для Windows Server 2012 и более поздних выпусках Windows Server, включая Server Performance Advisor 3.0, см. в разделе [производительности](https://msdn.microsoft.com/windows/hardware/gg463374.aspx) на сайте MSDN.  

## <a name="BKMK_services"></a>Управление службами и настройка служебных оповещений  
В этом разделе описано, узнайте, как запустить, остановить, перезапустить, приостановки и возобновления службы, отображаемые в **служб** плитки на страницах роли и server группы в диспетчере сервера. Также можно настроить службы, о которых вы получаете оповещения в эскизах на панели мониторинга диспетчера серверов.  

> [!NOTE]  
> Невозможно изменить тип запуска для служб, зависимости служб, параметры восстановления или другие свойства служб в плитке служб в диспетчере сервера. Для изменения свойств службы, отличных от состояния службы, откройте оснастку **Службы**. Ярлык, открывающий **служб** оснастки можно найти в **средства** меню в диспетчере сервера.  

#### <a name="to-start-stop-restart-pause-or-resume-a-service"></a>Запуск, остановка, перезапуск, приостановка и возобновление службы  

1.  В консоли диспетчера сервера откройте любую страницу, исключая панели мониторинга (другими словами, любой роли или группы Домашняя страница).  

2.  В плитке **Службы** данной роли или группы щелкните любую службу правой кнопкой мыши.  

3.  В контекстном меню выберите выполняемое действие для данной службы. Если служба остановлена, единственным доступным действием будет ее запуск. Аналогичным образом, если служба приостановлена, единственным доступным действием будет ее возобновление.  

4.  Помните, что при запуске, остановке, перезапуске, приостановке или возобновлении службы значение столбца **Состояние** в плитке **Службы** для данной службы изменяется.  

#### <a name="to-configure-service-alerts-highlighted-in-thumbnails"></a>Настройка служебных оповещений, отображаемых в эскизах  

1.  На панели мониторинга, в плитке **Роли и группы серверов** эскиза, щелкните строку **Службы**.  

2.  В **служб подробном представлении** диалоговом окне выберите типы запуска для служб, о которых вы хотите получать оповещения. По умолчанию **автоматически (отложенный запуск)** и **автоматического** выбраны.  

3.  Выберите состояния служб, о которых вы хотите получать оповещения. По умолчанию выбрано **Все** .  

4.  Выберите службы, о которых вы хотите получать оповещения. По умолчанию выбрано **Все** .  

5.  Выберите серверы, связанные с данной роли или группы, для которого вы хотите получать оповещения о службах. По умолчанию выбрано **Все** .  

6.  При изменении условий отображения оповещений число оповещений, отображаемых в области результатов в нижней части диалогового окна, может измениться. Щелкните **Скрыть оповещения** , чтобы скрыть все оповещения старше текущего времени во избежание их влияния на отображение счетчика оповещений, отображаемого в эскизе источника.  

7.  Щелкните **Показать все** для возврата скрытых оповещений в список.  

8.  Нажмите кнопку **ОК** для сохранения изменений, закройте **подробном представлении** диалоговое окно и просмотрите изменения служебным оповещениям, в эскизе источника.  

## <a name="BKMK_copy"></a>Просмотр и копирование записей событий, службы или производительности  
Можно копировать записи свойств событий, службы или производительности в обоих **подробном представлении** диалоговым окнам и **события** и **производительности** плитки для роли или группе. Щелкните правой кнопкой мыши запись о событии или производительности, а затем нажмите кнопку **копирования**.  

Кроме того, при выделении любого события в списке плитка **События** позволяет просмотреть записи свойств данного события в нижней половине плитки. Для копирования свойств, показанных в предварительной версии, щелкните правой кнопкой мыши в области предварительного просмотра и нажмите кнопку **копирования**.  

## <a name="see-also"></a>См. также  
[Диспетчер серверов](server-manager.md)  
[Фильтрация, сортировка и запрос данных в плитках диспетчера серверов](filter-sort-and-query-data-in-server-manager-tiles.md)  
