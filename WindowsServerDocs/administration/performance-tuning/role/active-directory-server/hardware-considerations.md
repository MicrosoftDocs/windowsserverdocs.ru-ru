---
title: Вопросы оборудования в настройке производительности AD
description: Вопросы оборудования в настройке производительности AD
ms.prod: windows-server-threshold
ms.technology: performance-tuning-guide
ms.topic: article
ms.author: TimWi; ChrisRob; HerbertM; KenBrumf;  MLeary; ShawnRab
author: phstee
ms.date: 10/16/2017
ms.openlocfilehash: 0f1aa1e3c07c5cb9238a332156abfec248e74176
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59866095"
---
# <a name="hardware-considerations-in-adds-performance-tuning"></a>Вопросы оборудования в настройке производительности ADDS 

>[!Important]
> Ниже приведен краткий перечень ключевые советы и рекомендации для оптимизации серверного оборудования для рабочих нагрузок Active Directory, рассматриваются более подробно в [планирование мощности для доменных служб Active Directory](https://go.microsoft.com/fwlink/?LinkId=324566) статьи. Читатели, настоятельно рекомендуется просмотреть [планирование мощности для доменных служб Active Directory](https://go.microsoft.com/fwlink/?LinkId=324566) больше технические сведения и последствия этих рекомендаций.

## <a name="avoid-going-to-disk"></a>Избежать вхождения на диск

Active Directory кэширует столько базы данных позволяет память. Получение страницы из памяти являются порядки быстрее, чем на физический носитель ли носитель является жестким диском или на основе SSD. Увеличить объем памяти, чтобы свести к минимуму дискового ввода-вывода.

-   Рекомендации по работе Active Directory, рекомендуем сначала разместить достаточно ОЗУ для загрузки в память всего дерева КАТАЛОГОВ, а также для работы операционной системы и других установленных приложений, например антивирусные программы, то команда backup программы, мониторинг и так далее.

    -   Ограничения устаревшие платформы, см. в разделе [использование памяти процессом Lsass.exe на контроллерах домена, работающих под управлением Windows Server 2003 или Windows 2000 Server](https://support.microsoft.com/kb/308356).

    -   Использование памяти\\Long-Term среднее Standby время существования кэша (s) &gt; счетчика производительности в течение 30 минут.

-   Поместите операционной системы, журналы и базы данных на разных томах. Если все или большинство информационного дерева КАТАЛОГА могут кэшироваться, после подготовки кэша и в устойчивом состоянии, это становится менее актуальны и немного больше гибкости в структуру хранилища. В сценариях, где весь информационного дерева КАТАЛОГА не может быть кэширован важность разделение операционной системы, журналы и базы данных на разных томах становится все более важным.

-   Как правило коэффициенты ввода-вывода для информационного дерева КАТАЛОГА, около 90% чтения и записи 10%. Сценарии, где тома записи ввода-вывода значительно превышает 10 – 20%, считаются интенсивными операциями записи. Сценарии с интенсивными операциями записи никак не значительно из кэша Active Directory. Чтобы гарантировать надежность транзакций данных, которая записывается в каталог, Active Directory не выполняет кэширование записи диска. Вместо этого он фиксирует все операции записи на диск, прежде чем он возвращается в состояние успешного завершения операции, при отсутствии явного запроса не для этого. Таким образом высокая скорость дискового ввода-вывода важна для производительности операций записи в Active Directory. Ниже приведены рекомендации по оборудованию, которые могут увеличить производительность для этих сценариев.

    -   RAID-контроллерах оборудования

    -   Увеличить количество низкой задержки и высокой RPM дисках, где размещаются файлы информационного дерева КАТАЛОГА и журналов

    -   Кэширование записи на контроллер

-   Просмотр производительности подсистемы диска по отдельности для каждого тома. Большинство сценариев Active Directory основаны на преимущественно чтения, тем самым статистику на томе, где расположены информационного дерева КАТАЛОГА наиболее важны для проверки. Тем не менее не пропускать мониторинга rest дисков, включая операционную систему и дисков файлов журнала. Чтобы определить, если контроллер домена правильно настроен для избежать хранения, что узким местом для производительности, ссылки в разделе в подсистемах хранения стандартов рекомендации по хранению данных. Во многих средах философии — убедитесь, что имеется достаточно головных места для размещения обслуживания или всплески нагрузки. Эти пороговые значения предупреждение становится ограниченное пороговые значения, где места для маневра для размещения обслуживания или всплески нагрузки и снижает скорость ответа клиентов. Короче говоря превышающие эти пороговые значения не страшно в краткосрочной перспективе (5 – 15 минут несколько раз в день), тем не менее системой длительного такого рода статистики полностью не кэширует базы данных может быть общем и следует изучить.

    -   База данных ==&gt; Instances(lsass/NTDSA)\\усредненного задержка чтения базы данных операций ввода-вывода &lt; мс

    -   База данных ==&gt; Instances(lsass/NTDSA)\\чтения базы данных операций ввода-вывода в секунду &lt; 10

    -   База данных ==&gt; Instances(lsass/NTDSA)\\усредненного задержка записи в журнал операций ввода-вывода &lt; 10 мс.

    -   База данных ==&gt; Instances(lsass/NTDSA)\\ввода-вывода журнала операций записи в секунду — информационное только.

        Для поддержания согласованности данных, все изменения должны записываться в журнал. Нет хорошего или плохого с номером здесь, это только мера поддерживает объем хранилища.

-   Планирование загрузки неосновных дискового ввода-вывода, такие как проверка резервной копии и антивирусные программы, периоды наименьшей нагрузки. Кроме того использование резервного копирования и антивирусные решения, которые поддерживают функция низким приоритетом ввода-вывода, впервые представленная в Windows Server 2008, чтобы уменьшить конкуренцию с учетом потребностей ввода-вывода Active Directory.

## <a name="dont-over-tax-the-processors"></a>Не более чем уплаты налогов процессоров

Процессоры, которые не имеют достаточно свободного циклов может привести к длительное время ожидания получения потоков на процессор для выполнения. Во многих средах философии — убедиться, что имеется достаточно головных места для размещения обслуживания или пики нагрузки, чтобы свести к минимуму влияние на скорость ответа клиентов в этих сценариях. Короче говоря, превышения пороговых значений не страшно в краткосрочной перспективе (5 – 15 минут несколько раз в день), однако система устойчивый такого рода статистики не предоставляет заголовок любого место для Аномальное нагрузкой и легко могут быть помещены в чрезмерно общем s скрипта. Систем, расходы длительного выше пороговых значений следует проверить как снижают нагрузку на процессор.

-   Дополнительные сведения о том, как выбрать процессор, см. в разделе [Настройка производительности для серверного оборудования](../../hardware/index.md).

-   Установка оборудования, оптимизировать нагрузки, направлять клиентов в другом месте или удалите загрузки из сети, чтобы снизить нагрузку на ЦП.

-   Использовать сведения о процессоре (\_общее)\\% использования процессора &lt; счетчика производительности для 60%.

## <a name="avoid-overloading-the-network-adapter"></a>Избегайте переполнения содержащего сетевого адаптера

Так же, как с процессорами, использование чрезмерное сетевого адаптера приведет к длительное время ожидания для исходящего трафика получить по сети. Active Directory обычно имеют небольшой входящие запросы и относительно значительно большего объема данных, возвращаемых на клиентские системы. Отправленные данные намного превосходит полученных данных. Во многих средах философии — убедитесь, что имеется достаточно головных места для размещения обслуживания или всплески нагрузки. Это пороговое значение — пороговое значение предупреждения, где места для маневра для размещения обслуживания или всплески нагрузки становится ограничен, и снижает скорость ответа клиентов. Короче говоря превышающие эти пороговые значения не страшно в краткосрочной перспективе (5 – 15 минут несколько раз в день), однако системой длительного такого рода статистики находится на общем и следует изучить.

-   Дополнительные сведения о том, как настроить подсистему сети, см. в разделе [Настройка производительности для подсистемы сети](../../../../networking/technologies/network-subsystem/net-sub-performance-top.md).

-   Использовать NetworkInterface сравнения (\*)\\отправлено байтов/с с помощью сетевого интерфейса (\*)\\счетчика производительности текущей пропускной способности. Отношение, следует использовать меньше, чем на 60%.

## <a name="see-also"></a>См. также
- [Настройка серверов Active Directory производительности](index.md)
- [Рекомендации по LDAP](ldap-considerations.md)
- [Правильное размещение контроллеров домена и рекомендации по сайта](site-definition-considerations.md)
- [Устранение проблем с производительностью ADDS](troubleshoot.md) 
- [Планирование емкости для доменных служб Active Directory](https://go.microsoft.com/fwlink/?LinkId=324566)