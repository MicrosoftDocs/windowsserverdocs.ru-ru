---
title: Кэш и диспетчером памяти
description: Кэш и улучшения диспетчер памяти в Windows Server 2016
ms.prod: windows-server-threshold
ms.technology: performance-tuning-guide
ms.topic: article
ms.author: Pavel; ATales
author: phstee
ms.date: 10/16/2017
ms.openlocfilehash: bd15cfc0714d1992e6b15d716b6b96ce259786da
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59868585"
---
# <a name="cache-and-memory-manager-improvements"></a>Кэш и диспетчером памяти

В этом разделе описаны улучшения диспетчера кэша и диспетчер памяти в Windows Server 2012 и 2016.

## <a name="cache-manager-improvements-in-windows-server-2016"></a>Улучшения диспетчера кэша в Windows Server 2016
Диспетчер кэша также добавлена поддержка true асинхронной кэшируются считывает.
Это потенциально может повысить производительность приложения, если он основывается на использовании асинхронных кэшированных операций чтения.  Хотя большинство готовую файловые системы кэширования асинхронных операций чтения какое-то время, было часто ограничения производительности из-за различных проектных, относящиеся к обработке пулов потоков и файловые системы внутренней рабочей очереди.  С поддержкой от ядра неправильным диспетчера кэша теперь скрывает все в пул потоков и сложности управления рабочие очереди из файловых систем, делая более эффективен при обработке асинхронных кэширования операций чтения. Диспетчер кэша имеет один набор datastructures управления для каждого из (система поддерживается максимум) число уровней вложения виртуальный жесткий ДИСК для повышения параллелизма.


## <a name="cache-manager-improvements-in-windows-server-2012"></a>Улучшения диспетчера кэша в Windows Server 2012
Помимо улучшенных возможностей диспетчера кэша для чтения логику упреждающего последовательных рабочих нагрузках, новый интерфейс API [CcSetReadAheadGranularityEx](https://msdn.microsoft.com/library/windows/hardware/hh406341.aspx) был добавлен для файлов системных драйверов — таких как SMB, изменить их чтения вперед параметров. Он позволяет повысить пропускную способность сценарии удаленного файла, отправляя запросы вместо отправки запроса упреждающего чтения одной большой упреждающее несколько чтение небольшого размера. Эти значения программным образом можно настроить только компоненты ядра, такие как драйверы файловой системы, на основе отдельных файлов.

## <a name="memory-manager-improvements-in-windows-server-2012"></a>Улучшенный диспетчер памяти в Windows Server 2012
Включение объединения страницы может сократить использование памяти на серверах, которые имеют много страниц частного, возможностью разбивки на страницы с идентичным содержимым. Например серверы под управлением нескольких экземпляров одного приложения интенсивно использующих память, или одно приложение, которое работает с часто повторяющихся данных могут быть хорошими кандидатами попытка объединения страницы. Включение объединения страницы недостатком является больше ресурсов ЦП.

Ниже приведены некоторые примеры ролей сервера, где страницы объединение вряд ли дать много преимуществ:

-   Файловые серверы (большой объем памяти используется файл страницы, которые не являются частными и поэтому не combinable)

-   Серверы Microsoft SQL Server, которые настроены для использования расширений AWE или больших страниц (большой объем памяти — частный, но невыгружаемой)

Объединение страницы по умолчанию отключена, но можно включить с помощью [Enable-памятью](https://technet.microsoft.com/library/jj658954.aspx) командлета Windows PowerShell. Объединение страница была добавлена в Windows Server 2012.
