---
title: Управление основными серверными компонентами
description: Сведения об управлении установки основных серверных компонентов Windows Server
ms.prod: windows-server-threshold
ms.mktglfcycl: manage
ms.sitesec: library
author: lizap
ms.localizationpriority: medium
ms.date: 10/17/2017
ms.openlocfilehash: 761bfc681d7e39059884977cd99997ea9996268b
ms.sourcegitcommit: 6ef4986391607bb28593852d06cc6645e548a4b3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/07/2019
ms.locfileid: "66811356"
---
# <a name="manage-a-server-core-server"></a>Управление сервером основных серверных компонентов
 
> Относится к: Windows Server (полугодовой канал) и Windows Server 2016

Вы можете управлять сервером в ядре сервера одним из следующих способов:
- С помощью [Windows Admin Center](../../manage/windows-admin-center/overview.md)
- С помощью [средства удаленного администрирования сервера](../../remote/remote-server-administration-tools.md) под управлением Windows 10
- Локально и удаленно при помощи Windows PowerShell
- Удаленно при помощи [диспетчера серверов](../server-manager/server-manager.md)
- Удаленно при помощи [оснастки MMC](#managing-with-microsoft-management-console)
- С помощью распределительного [служб удаленных рабочих столов](#managing-with-remote-desktop-services)

Можно также добавить оборудования и управление драйверами (локально), как это сделать из командной строки.

Существует несколько значимых ограничений и советы, которые следует учитывать при работе с основными серверными компонентами.

- Если закройте все окна командной строки и открыть новое окно командной строки, это можно сделать в диспетчере задач. Нажмите клавишу **CTRL\+ALT\+удалить**, нажмите кнопку **запустить диспетчер задач**, нажмите кнопку **Подробнее > Файл > запустить**и введите  **cmd.exe**. (Тип **Powershell.exe** открыть команду windows PowerShell.) Кроме того можно выйти из системы и выполните вход снова.
- Команды или служебные программы, которые пытаются запустить проводник, работать не будут. Например, на котором работают **запуска.** в командной строке не будет работать.
- Не поддерживается для отрисовки HTML или HTML-справки в основных серверных компонентов.
- Server Core поддерживает установщика Windows в тихом режиме, на котором можно установить средства и служебные программы из файлов установщика Windows. При установке пакетов установщика Windows на основных серверных компонентов, используйте **/qb** параметр для отображения базового пользовательского интерфейса.
- Чтобы изменить часовой пояс, выполните **Set-Date**.
- Для изменения международных параметров, запустите **control intl.cpl**.
- **Control.exe** не будет работать на свой собственный. Необходимо запустить его с помощью **Timedate.cpl** или **Intl.cpl**.
- **Winver.exe** недоступен в основных серверных компонентов. Для получения версии сведения использования **Systeminfo.exe**.

## <a name="managing-server-core-with-windows-admin-center"></a>Управление Server Core с Windows Admin Center
[Windows Admin Center](../../manage/windows-admin-center/overview.md) — это браузерное приложение для управления системами с Windows Server независимо от Azure или облака в локальной среде. Windows Admin Center предоставляет полный контроль над всеми аспектами серверной инфраструктуры и особенно полезен для управления серверами в частных сетях, которые не подключены к Интернету. Можно установить Windows Admin Center в Windows 10, на сервере шлюза или в установке Windows Server с рабочим столом и подключитесь к системе Server Core, который вы хотите управлять.

## <a name="managing-server-core-remotely-with-server-manager"></a>Управление ядром сервера удаленно с помощью диспетчера серверов

Диспетчер сервера представляет собой консоль управления в Windows Server, который поможет вам подготовить и управлять локальными и удаленными серверами на базе Windows из настольных систем, не требуя физического доступа к серверам, или необходимость включать протокол удаленного рабочего стола (RDP) подключение к каждому серверу. Диспетчер сервера поддерживает удаленное управление несколькими серверами.

Чтобы разрешить вашим локальным сервером осуществляется по диспетчера сервера, работающего на удаленном сервере, выполните командлет Windows PowerShell **Configure-SMRemoting.exe-включить**.

## <a name="managing-with-microsoft-management-console"></a>Управление с помощью консоли управления Microsoft

Можно удаленно использовать многие оснастки консоли управления (MMC) для управления сервером Server Core.

Можно использовать оснастку MMC для управления сервером в ядре сервера, не входит в домен. 

1. Запустите оснастку MMC, такие как управление компьютером.
2. Щелкните правой кнопкой мыши в оснастке, а затем нажмите кнопку **подключение к другому компьютеру**.
2. Введите имя компьютера сервера Server Core и нажмите кнопку **ОК**. Теперь, можно использовать оснастку MMC для управления сервером основных серверных компонентов, как и любой другой компьютер или сервер.

Для использования оснастки MMC для управления сервером Server Core, *не* член домена: 

1. Задайте дополнительные учетные данные для подключения к компьютеру основных серверных компонентов, введя следующую команду в командной строке на удаленном компьютере:
1. 
   ```
   cmdkey /add:<ServerName> /user:<UserName> /pass:<password>
   ```

   Если вы хотите быть предложено ввести пароль, опустить **/pass** параметр.

2. При появлении запроса, введите пароль для имени пользователя, которое вы указали.
   Если брандмауэр на сервере Server Core еще не настроен для разрешить оснастки MMC для подключения, выполните следующие действия, чтобы настроить брандмауэр Windows на разрешение оснастки MMC. Затем перейдите к шагу 3.
3. На другом компьютере, запустите оснастку MMC, такие как **Управление компьютером**.
4. В левой области щелкните правой кнопкой мыши в оснастке и нажмите кнопку **подключение к другому компьютеру**. (Например, в примере Управление компьютером, можно щелкнуть правой кнопкой мыши **Управление компьютером (локальным)** .)
5. В **другой компьютер**, введите имя компьютера сервера Server Core и нажмите кнопку **ОК**. Теперь при помощи оснастки MMC вы можете управлять сервером, работающим в режиме основных серверных компонентов, так же, как вы это делаете с любым другим компьютером под управлением Windows Server.

### <a name="to-configure-windows-firewall-to-allow-mmc-snap-ins-to-connect"></a>Разрешение подключений оснасток MMC в брандмауэре Windows
Чтобы разрешить все оснастки MMC для подключения, выполните следующую команду:

```
Enable-NetFirewallRule -DisplayGroup "Remote Administration"
```

Чтобы разрешить только определенной оснастки MMC для подключения, используйте следующую команду:
```
Enable-NetFirewallRule -DisplayGroup "<rulegroup>"
```

Где *rulegroup* является одним из следующих параметров в зависимости от того, какая оснастка необходимо подключиться:

| Оснастка MMC                            | Группа правил                                            |
|----------------------------------------|-------------------------------------------------------|
| Просмотр событий                           | Удаленное управление журналом событий                           |
| Службы                               | Удаленное управление службами                             |
| Общие папки                         | Общий доступ к файлам и принтерам                              |
| Планировщик заданий                         | Журналы производительности и предупреждений, к файлам и принтерам |
| Управление дисками                        | Удаленное управление томами                              |
| Брандмауэр Windows и повышенной безопасности | Удаленное управление брандмауэром Windows                    |


> [!NOTE] 
> Некоторые оснастки MMC не имеют соответствующих групп правил, поэтому они могут подключаться через брандмауэр. Однако включение групп правил для оснасток "Просмотр событий", "Службы" или "Общие папки" позволит подключаться и большинству других оснасток. 
>
> Кроме того, некоторые оснастки требуют дополнительной настройки для подключения через брандмауэр Windows:
>
> - Управление дисками. Сначала необходимо запустить виртуальную дисковую службу (службу VDS) на компьютере в режиме основных серверных компонентов. Также необходимо должным образом настроить правила для оснастки "Управление дисками" на том компьютере, где она запущена.
> - Монитор IP-безопасности. Сначала необходимо разрешить удаленное управление этой оснасткой. Для этого в командной строке введите **Cscript \windows\system32\scregedit.wsf /im 1**
> - Надежность и производительность. Эта оснастка не требует дополнительной настройки, но с ее помощью можно наблюдать только за производительностью компьютера в режиме основных серверных компонентов. Данные о надежности недоступен.

## <a name="managing-with-remote-desktop-services"></a>Управление с помощью служб удаленных рабочих столов

Можно использовать [удаленного рабочего стола](../../remote/remote-desktop-services/welcome-to-rds.md) для управления сервером основных серверных компонентов с удаленных компьютеров.

Чтобы можно было открыть основных серверных компонентов, необходимо выполните следующую команду: 
```
cscript C:\Windows\System32\Scregedit.wsf /ar 0
```
Это разрешит подключения к удаленному рабочему столу для администрирования.

## <a name="add-hardware-and-manage-drivers-locally"></a>Добавление оборудования и управление драйверами (локально)

Для установки оборудования сервера Server Core, следуйте инструкциям, предоставленным поставщиком оборудования для установки нового оборудования. 

Если оборудование не plug and play, необходимо вручную установить драйвер. Для этого скопируйте драйверы во временную папку на сервере и выполните следующую команду:

```
pnputil –i –a <driverinf>
```

Где *driverinf* — имя файла INF-файла для драйвера.

Перезагрузите компьютер при появлении соответствующего запроса.

Чтобы узнать, какие драйверы установлены, выполните следующую команду: 

```
sc query type= driver
```

> [!NOTE] 
> Для успешного выполнения команды после знака равенства должен быть пробел.

Чтобы отключить драйвер устройства, используйте следующую команду:

```
sc delete <service_name>
```

Где *service_name* имя службы, полученный при выполнении **тип запроса sc = драйвер**.