---
title: set
description: Справочная статья по набору, который отображает, устанавливает или удаляет переменные среды cmd.exe.
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: 5fdd60d6-addf-4574-8c92-8aa53fa73d76
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 002ac4624d9ed501fab7816a83c2a0c5fc6a2bce
ms.sourcegitcommit: 2afed2461574a3f53f84fc9ec28d86df3b335685
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2020
ms.locfileid: "85922822"
---
# <a name="set"></a>set

Отображает, устанавливает или удаляет переменные среды cmd.exe. Если используется без параметров, **Set** отображает текущие параметры переменной среды.



## <a name="syntax"></a>Синтаксис

```
set [<Variable>=[<String>]]
set [/p] <Variable>=[<PromptString>]
set /a <Variable>=<Expression>
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------|-----------|
|\<Variable>|Задает переменную среды, которую необходимо задать или изменить.|
|\<String>|Указывает строку, связываемую с указанной переменной среды.|
|/p|Устанавливает значение *переменной* в строку входных данных, введенную пользователем.|
|\<PromptString>|Необязательный элемент. Указывает сообщение, предлагающее пользователю ввести данные. Этот параметр используется с параметром командной строки **/p** .|
|/a|Задает *строковое* значение числового выражения, которое вычисляется.|
|\<Expression>|Задает числовое выражение. Допустимые операторы, которые можно использовать в *выражении*, см. в разделе Примечания.|
|/?|Отображение справки в командной строке.|

## <a name="remarks"></a>Комментарии

- Использование **Set** с включенными расширениями команд

  Если расширения команд включены (по умолчанию) и выполняется **Set** со значением, то отображаются все переменные, которые начинаются с этого значения.
- Использование специальных символов

  Символы,,,, **<** **>** **|** **&** **^** являются специальными символами командной оболочки и перед ними должны начинаться escape-символом ( **^** ) или заключены в кавычки, если они используются в *строке* (например, **стрингконтаининг&Symbol**). Если строка, содержащая специальный символ, заключена в кавычки, кавычки необходимо указывать как часть значения переменной среды.
- Использование переменных среды

  Используйте переменные среды для управления поведением некоторых пакетных файлов и программ, а также для управления отображением окон и подсистемы MS-DOS. Команда **Set** часто используется в файле Autoexec. NT для задания переменных среды.
- Отображение текущих параметров среды

  При вводе только команды **Set** отображаются текущие параметры среды. Эти параметры обычно включают переменные среды COMSPEC и PATH, которые используются для поиска программ на диске. В Windows используются две другие переменные среды: PROMPT и DIRCMD.
- Использование параметров

  При указании значений *переменных* и *строк*указанное значение *переменной* добавляется в среду, а *строка* связывается с этой переменной. Если переменная уже существует в среде, новое строковое значение заменяет старое.

  Если для команды **Set** указать только переменную и знак равенства (без *строки*), то *строковое* значение, связанное с переменной, будет очищаться (как если бы переменная отсутствует).
- Использование **/a**

  В следующей таблице перечислены операторы, поддерживаемые для **параметра/a** в порядке убывания приоритета.

  |        Оператор         | Выполненная операция  |
  |-------------------------|----------------------|
  |           ( )           |       Группирование       |
  |          ! ~ -          |        Унарный         |
  |         \* / %          |      Арифметические      |
  |           + -           |      Арифметические      |
  |          << >>          |    Логическая смена     |
  |            &            |     Побитовое И      |
  |            ^            | Побитовое исключающее ИЛИ |
  |                         |                      |
  | = \*=/=% = + =-= &= ^ = |      = <<= >>=       |
  |            ,            | Разделитель выражений |

  Если используются операторы логического ( **&&** или **||** ) или модуля ( **%** ), заключите строку выражения в кавычки. Все нечисловые строки в выражении считаются именами переменных среды, и их значения преобразуются в числа до их обработки. Если указать имя переменной среды, которое не определено в текущей среде, то выделяется нулевое значение, что позволяет выполнять арифметические операции со значениями переменных среды без использования% для получения значения.

  При запуске **set/a** из командной строки за пределами командного скрипта отображается конечное значение выражения.

  Числовые значения — это десятичные числа, кроме префикса 0 × для шестнадцатеричных чисел или 0. Таким образом, 0 × 12 совпадает с 18, что совпадает с 022.
- Поддержка расширения переменной среды с отложенным развертыванием

  Отложенная поддержка расширения переменных среды по умолчанию отключена, но ее можно включить или отключить с помощью **команды cmd/v**.
- Работа с расширениями команд

  Если расширения команд включены (по умолчанию) и выполняется только один **набор** , то отображаются все текущие переменные среды. При запуске **Set** со значением отображаются переменные, соответствующие этому значению.
- Использование инструкции **Set** в пакетных файлах

  При создании пакетных файлов можно использовать команду **Set** для создания переменных, а затем использовать их так же, как и пронумерованные переменные **%0** – **%9**. Можно также использовать переменные **%0** – **%9** в качестве входных данных для **Set**.
- Вызов переменной **набора** из пакетного файла

  При вызове значения переменной из пакетного файла заключите значение в знаки процента ( **%** ). Например, если программа пакетной службы создает переменную среды с именем бод, можно использовать строку, связанную с параметром бод, в качестве заменяемого параметра, введя **% бод%** в командной строке.
- Использование **Set** в консоли восстановления

  Команда **Set** с различными параметрами доступна в консоли восстановления.

## <a name="examples"></a>Примеры

Чтобы задать переменную среды с именем TEST ^ 1, введите:
```
set testVar=test^^1
```

> [!NOTE]
> Команда **Set** назначает значение переменной всем, что следует за знаком равенства (=). Если ввести:
> ```
> set testVar=test^1
> ```
> Вы получите следующий результат:
> ```
> testVar=test^1
> ```
> Чтобы задать переменную среды с именем TEST&1, введите:
> ```
> set testVar=test^&1
> ```
> Чтобы задать переменную среды с именем INCLUDE, с которой связана строка К:\инк (каталог \Инк на диске C), введите:
> ```
> set include=c:\inc
> ```
> Затем можно использовать строку К:\инк в пакетных файлах, заключив имя в символы процента ( **%** ). Например, можно включить следующую команду в пакетный файл, чтобы можно было отобразить содержимое каталога, связанного с переменной среды INCLUDE:
> ```
> dir %include%
> ```
> При обработке этой команды строка К:\инк заменяет **% include%**.

Можно также использовать **набор** в пакетной программе, которая добавляет новый каталог в переменную среды PATH. Пример:
```
@echo off
rem ADDPATH.BAT adds a new directory
rem to the path environment variable.
set path=%1;%path%
set
```
Чтобы отобразить список всех переменных среды, начинающихся с буквы P, введите:
```
set p
```

> [!NOTE]
> Для этой команды требуются расширения команд, которые включены по умолчанию.

## <a name="additional-references"></a>Дополнительные ссылки

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)