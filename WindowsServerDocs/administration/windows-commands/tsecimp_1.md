---
title: tsecimp
description: Справочная статья для TSecImp, которая импортирует сведения о назначении из файла язык XML (XML) в файл безопасности сервера TAPI (Tsec.ini).
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: d7488ec6-0eff-45ff-89ee-9cbe752416bf
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: d221479e23c737529305a2354e6a5a52b957bd8e
ms.sourcegitcommit: 2afed2461574a3f53f84fc9ec28d86df3b335685
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2020
ms.locfileid: "85931485"
---
# <a name="tsecimp"></a>tsecimp

Импортирует сведения о назначении из файла язык XML (XML) в файл безопасности сервера TAPI (Tsec.ini). Эту команду также можно использовать для вывода списка поставщиков услуг TAPI и линий, связанных с каждым из этих устройств, проверки структуры XML-файла без импорта содержимого и проверки членства в домене.

## <a name="syntax"></a>Синтаксис

```
tsecimp /f <Filename> [{/v | /u}]
tsecimp /d
```

#### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------|-----------|
|/f \<Filename>|Обязательный. Указывает имя XML-файла, содержащего сведения о назначении, которые необходимо импортировать.|
|/v|Проверяет структуру XML-файла без импорта данных в файл Tsec.ini.|
|/U|Проверяет, является ли каждый пользователь членом домена, указанного в XML-файле. Компьютер, на котором используется этот параметр, должен быть подключен к сети. Этот параметр может значительно снизить производительность при обработке большого количества сведений о назначении пользователя.|
|/d|Отображает список установленных поставщиков телефонии. Для каждого поставщика телефонии отображаются связанные устройства линии, а также адреса и пользователей, связанные с каждым устройством линии.|
|/?|Отображение справки в командной строке.|

## <a name="remarks"></a>Комментарии

-   XML-файл, из которого необходимо импортировать сведения о назначении, должен соответствовать описанной ниже структуре.
    -   **USERLIST** , элемент

        **USERLIST** — это верхний элемент XML-файла.
    -   **User** , элемент

        Каждый элемент **User** содержит сведения о пользователе, который является членом домена. Каждому пользователю может быть назначено одно или несколько линейных устройств.

        Кроме того, у каждого **пользовательского** элемента может быть атрибут с именем **Merge**. При указании этого атрибута все текущие назначения устройств для пользователя удаляются перед созданием новых. С помощью этого атрибута можно легко удалить нежелательные назначения пользователей. По умолчанию этот атрибут не задан.

        Элемент **User** должен содержать один элемент **DomainUserName** , указывающий домен и имя пользователя. Элемент **User** может также содержать один элемент **FriendlyName** , который указывает понятное имя для пользователя.

        **Пользовательский** элемент может содержать один элемент **линелист** . Если элемент **линелист** отсутствует, удаляются все линейные устройства для этого пользователя.
    -   **Линелист** , элемент

        Элемент **линелист** содержит сведения о каждой строке или устройстве, которые могут быть назначены пользователю. Каждый элемент **линелист** может содержать более одного элемента **line** .
    -   **Line** , элемент

        Каждый элемент **line** указывает устройство линии. Чтобы задать каждое устройство, необходимо добавить в элемент **line** элемент **Address** или элемент **перманентид** .

        Для каждого элемента **line** можно задать атрибут **Remove** . Если задать этот атрибут, пользователь больше не будет назначать это устройство линии. Если этот атрибут не задан, пользователь получает доступ к этому устройству линии. Если устройство недоступно для пользователя, то ошибка не выдается.

## <a name="examples"></a>Примеры
- Приведенные ниже примеры фрагментов кода XML иллюстрируют правильное использование элементов, определенных выше.
  - Следующий код удаляет все устройства, назначенные пользователю User1.
    ```
    <UserList>
      <User NoMerge=1>
        <DomainUser>domain1\user1</DomainUser>
      </User>
    </UserList>
    ```
  - Следующий код удаляет все устройства, назначенные пользователю User1, перед назначением одной строки с адресом 99999. Пользователю User1 не назначены другие линии, независимо от того, были ли назначены устройства.
    ```
    <UserList>
      <User NoMerge=1>
        <DomainUser>domain1\user1</DomainUser>
        <FriendlyName>User1</FriendlyName>
        <LineList>
          <Line>
            <Address>99999</Address>
          </Line>
        </LineList>
      </User>
    </UserList>
    ```
  - Следующий код добавляет одно устройство линии для пользователя User1 без удаления назначенных ранее устройств.
    ```
    <UserList>
      <User>
        <DomainUser>domain1\user1</DomainUser>
        <FriendlyName>User1</FriendlyName>
        <LineList>
          <Line>
            <Address>99999</Address>
          </Line>
        </LineList>
      </User>
    </UserList>
    ```
  - Следующий код добавляет строку Address 99999 и удаляет адрес строки 88888 из User1's Access.
    ```
    <UserList>
      <User>
        <DomainUser>domain1\user1</DomainUser>
        <FriendlyName>User1</FriendlyName>
        <LineList>
          <Line>
            <Address>99999</Address>
          </Line>
          <Line Remove=1>
            <Address>88888</Address>
          </Line>
        </LineList>
      </User>
    </UserList>
    ```
  - Следующий код добавляет постоянное устройство 1000 и удаляет строку 88888 из User1's Access.
    ```
    <UserList>
      <User>
        <DomainUser>domain1\user1</DomainUser>
        <FriendlyName>User1</FriendlyName>
        <LineList>
          <Line>
            <PermanentID>1000</PermanentID>
          </Line>
          <Line Remove=1>
            <Address>88888</Address>
          </Line>
        </LineList>
      </User>
    </UserList>
    ```

-   Приведенный ниже пример выходных данных отображается после указания параметра командной строки **/d** для отображения текущей конфигурации TAPI. Для каждого поставщика телефонии отображаются связанные устройства линии, а также адреса и пользователей, связанные с каждым устройством линии.
    ```
    NDIS Proxy TAPI Service Provider
            Line: WAN Miniport (L2TP)
                    Permanent ID: 12345678910

    NDIS Proxy TAPI Service Provider
            Line: LPT1DOMAIN1\User1
                    Permanent ID: 12345678910

    Microsoft H.323 Telephony Service Provider
            Line: H323 Line
                    Permanent ID: 123456
                    Addresses:
                            BLDG1-TAPI32

    ```

## <a name="additional-references"></a>Дополнительные ссылки

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)

[Общие сведения о командной оболочке](https://technet.microsoft.com/library/cc737438(v=ws.10).aspx)
