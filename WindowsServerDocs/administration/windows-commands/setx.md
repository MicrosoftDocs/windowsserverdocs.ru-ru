---
title: setx
description: 'Раздел Windows команды для ***- '
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: ef37482f-f8a8-4765-951a-2518faac3f44
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 5a650fae246d71d8c1f9822dfa9ff8e96d855b4b
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59886575"
---
# <a name="setx"></a>setx



Создает или изменяет переменные среды в пользователя или системной среды, не требуя программ или сценариев. **Setx** команда также получает значения разделов реестра и записывает их в текстовые файлы.

В разделе [Примеры](#BKMK_examples) показан принцип использования этой команды.

## <a name="syntax"></a>Синтаксис

```
setx [/s <Computer> [/u [<Domain>\]<User name> [/p [<Password>]]]] <Variable> <Value> [/m]
setx [/s <Computer> [/u [<Domain>\]<User name> [/p [<Password>]]]] [<Variable>] /k <Path> [/m]
setx [/s <Computer> [/u [<Domain>\]<User name> [/p [<Password>]]]] /f <FileName> {[<Variable>] {/a <X>,<Y> | /r <X>,<Y> "<String>"} [/m] | /x} [/d <Delimiters>]
```

## <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------|-----------|
|/s \<компьютер >|Указывает имя или IP-адрес удаленного компьютера. Не используйте символы обратной косой черты. Значение по умолчанию — имя локального компьютера.|
|/u [\<домена >\]<User name>|Сценарий выполняется с учетными данными учетной записи указанного пользователя. Значение по умолчанию — системные разрешения.|
|/p [\<пароль >]|Указывает пароль для учетной записи пользователя, который указан в **/u** параметра.|
|\<переменная >|Задает имя переменной среды, который вы хотите установить.|
|\<Значение >|Задает значение, к которому вы хотите задать переменную среды.|
|/k \<Path>|Указывает, что переменной присваивается на основе информации из раздела реестра. P*пут* используется следующий синтаксис:</br>`\\<HIVE>\<KEY>\...\<Value>`</br>Например можно указать следующий путь:</br>`HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\TimeZoneInformation\StandardName`|
|/f \<имя файла >|Указывает файл, который вы хотите использовать.|
|/a \<X>,<Y>|Задает абсолютные координаты и смещение в качестве параметров поиска.|
|/r \<X >,<Y> "<String>"|Определяет относительные координаты и смещение от **строка** как параметров поиска.|
|/m|Указывает, для задания значения переменной в системной среде. Значение по умолчанию является локальной среде.|
|/x|Отображает файл координаты, игнорируя **/a**, **/r**, и **/d** параметры командной строки.|
|/d \<разделители >|Определяет разделители, например "**,**" или «**\**"для использования в дополнение к четыре встроенных разделителя — ПРОСТРАНСТВО, TAB, ввод и перевода строки. Допустимые разделители включают любой символ ASCII. Разделители не более 15, включая встроенные разделители.|
|/?|Отображение справки в командной строке.|

## <a name="remarks"></a>Примечания

-   **Setx** команда аналогична SETENV программы UNIX.
-   **Setx** предоставляет только командной строки или программный способ напрямую и окончательно задать системы значения среды. Системные переменные среды настраиваются вручную **панели управления** или с помощью редактора реестра. **Задать** команду, которая является внутренней для интерпретатора команд (Cmd.exe), задает переменные среды пользователя только текущего окна консоли.
-   Можно использовать **setx** команду, чтобы задать значения для пользовательских и системных переменных среды из одного из трех источников (режимов): Режим командной строки, реестр режим или режим файла.
-   **Setx** записывает переменные в главную среду в реестре. Набор переменных с **setx** переменные доступны будущая команда только в windows, не в текущем командном окне.
-   **HKEY_CURRENT_USER** и **HKEY_LOCAL_MACHINE** являются только поддерживаемые кустов. REG_DWORD, REG_EXPAND_SZ, REG_SZ и REG_MULTI_SZ являются допустимыми **RegKey** типов данных.
-   Когда вы получаете доступ к **REG_MULTI_SZ** извлекаются и используются значения в реестре, только первый элемент.
-   Нельзя использовать **setx** команду, чтобы удалить значения, которые были добавлены к локальной или системной средам. Можно использовать **задать** с именем переменной и значения, которое можно удалить из локальной среды в соответствующее значение.
-   Значения реестра REG_DWORD извлекаются и используются в шестнадцатеричном формате.
-   Режим файла поддерживает синтаксический анализ символ возврата каретки и перевода строки (CRLF) только для текстовых файлов.

## <a name="BKMK_examples"></a>Примеры

Чтобы задать переменную среды компьютера в локальной среде значения Brand1, введите следующую команду:
```
setx MACHINE Brand1
```
Чтобы задать переменную среды МАШИНЫ в среде системы значение Brand1 компьютера, введите следующую команду:
```
setx MACHINE "Brand1 Computer" /m
```
Чтобы задать переменную среды MYPATH, в локальной среде для использования в путь поиска, определенный в переменной среды PATH, введите следующую команду:
```
setx MYPATH %PATH%
```
Чтобы задать переменную среды MYPATH в локальной среде для использования в путь поиска, определенный в переменной среды PATH после замены **~** с **%**, тип:
```
setx MYPATH ~PATH~ 
```
Чтобы задать переменную среды компьютера в локальной среде Brand1; на удаленном компьютере с именем Computer1, введите следующую команду:
```
setx /s computer1 /u maindom\hiropln /p p@ssW23 MACHINE Brand1
```
Чтобы задать переменную среды MYPATH, в локальной среде для использования в путь поиска, определенный в переменной среды PATH на удаленном компьютере с именем Computer1, введите следующую команду:
```
setx /s computer1 /u maindom\hiropln /p p@ssW23 MYPATH %PATH%
```
Чтобы задать переменную среды TZONE в локальной среде значение, найденное в **HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\TimeZoneInformation\StandardName** реестра, введите:
```
setx TZONE /k HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\TimeZoneInformation\StandardName 
```
Чтобы задать переменную среды TZONE в локальной среде удаленного компьютера с именем Computer1 значение, найденное в **HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\TimeZoneInformation\StandardName** реестра введите:
```
setx /s computer1 /u maindom\hiropln /p p@ssW23 TZONE /k HKEY_LOCAL_MACHINE\System\CurrentControlSet\Control\TimeZoneInformation\StandardName 
```
Чтобы задать переменную среды сборки в среде системы значение, найденное в **HKEY_LOCAL_MACHINE\Software\Microsoft\WindowsNT\CurrentVersion\CurrentBuildNumber** реестра, введите:
```
setx BUILD /k "HKEY_LOCAL_MACHINE\Software\Microsoft\WindowsNT\CurrentVersion\CurrentBuildNumber" /m
```
Чтобы задать переменную среды сборки в среде системы удаленного компьютера с именем Computer1 значение, найденное в **HKEY_LOCAL_MACHINE\Software\Microsoft\WindowsNT\CurrentVersion\CurrentBuildNumber** раздел реестра , тип:
```
setx /s computer1 /u maindom\hiropln /p p@ssW23  BUILD /k "HKEY_LOCAL_MACHINE\Software\Microsoft\Windows NT\CurrentVersion\CurrentBuildNumber" /m
```
Чтобы отобразить содержимое файла с именем Ipconfig.out, а также соответствующие координаты содержимое, введите:
```
setx /f ipconfig.out /x
```
Чтобы задать переменную среды IPADDR в локальной среде значение, найденное по координатам 5,11 в файле Ipconfig.out, введите:
```
setx IPADDR /f ipconfig.out /a 5,11
```
Для задания переменной среды OCTET1 в локальной среде значение, найденное по координатам 5,3 в файле Ipconfig.out с разделителями **«#$\*.»** , тип:
```
setx OCTET1 /f ipconfig.out /a 5,3 /d "#$*." 
```
Чтобы задать переменную среды IPGATEWAY в локальной среде значение, найденное по координатам 0,7 относительно координат «Шлюз» в файле Ipconfig.out, введите:
```
setx IPGATEWAY /f ipconfig.out /r 0,7 Gateway 
```
Для отображения содержимого файла с именем Ipconfig.out, а также соответствующие координаты содержимое, на компьютере Computer1, введите:
```
setx /s computer1 /u maindom\hiropln /p p@ssW23 /f ipconfig.out /x 
```

#### <a name="additional-references"></a>Дополнительная справка

[Ключ синтаксиса командной строки](command-line-syntax-key.md)