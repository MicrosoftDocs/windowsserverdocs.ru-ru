---
title: в
description: Раздел команд Windows для **at**, который планирует выполнение команд и программ на компьютере в указанное время и дату.
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: ff18fd16-9437-4c53-8794-bfc67f5256b3
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: bc71af64bdcb1b71afef1e88d42647c0e52612af
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2020
ms.locfileid: "80851287"
---
# <a name="at"></a>в

>Область применения: Windows Server (Semi-Annual Channel), Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Планирует выполнение команд и программ на компьютере в указанное время и дату. Можно использовать только **в** том случае, если запущена служба расписания. При использовании без параметров **в** выводится список запланированных команд.

## <a name="syntax"></a>Синтаксис

```
at [\computername] [[id] [/delete] | /delete [/yes]]
at [\computername] <time> [/interactive] [/every:date[,...] | /next:date[,...]] <command>
```

### <a name="parameters"></a>Параметры

| Параметр | Описание |
| --------- | ----------- |
| `\<computerName\>` | Указывает удаленный компьютер. Если этот параметр не указан, **по** расписанию команды и программы на локальном компьютере. |
| `<id>` | Указывает идентификационный номер, назначенный команде по расписанию. |
| `/delete` | Отменяет запланированную команду. Если опустить *идентификатор*, все запланированные команды на компьютере будут отменены. |
|  `/yes` | Отвечает Да для всех запросов из системы при удалении запланированных событий. |
| `<time>` | Указывает время выполнения команды. время выражается в виде часов: минут в 24-часовом формате (00:00 [полночь] до 23:59). |
| `interactive` | Позволяет *команде* взаимодействовать с рабочим столом пользователя, выполнившего вход во время выполнения *команды* . |
| `every:` | Выполняет *команду* в каждый указанный день или дни недели или месяца (например, каждый четверг или третий день каждого месяца). |
|` <date>` | Указывает дату выполнения команды. Можно указать один или несколько дней недели (то есть введите **M**,**T**,**W**,**th**,**F**,**S**,**SU**) или один или несколько дней месяца (то есть введите от 1 до 31). Несколько записей дат разделяются запятыми. Если опустить *дату*, **в** используется текущий день месяца. |
| `next:` | Выполняет *команду* при следующем возникновении дня (например, в следующем четверг). |
| `<command>`      | Указывает команду Windows, программу (т. е. exe-или COM-файл) или пакетную программу (файл. bat или. cmd), которую требуется выполнить. Если команде требуется путь в качестве аргумента, используйте абсолютный путь (то есть весь путь, начинающийся с буквы диска). Если команда находится на удаленном компьютере, укажите для имени сервера и общего ресурса нотацию UNC, а не букву удаленного диска. |
| `/?` | Отображает справку в командной строке. |

## <a name="remarks"></a>Примечания

- **schtasks** — это еще одно средство планирования командной строки, которое можно использовать для создания и управления запланированными задачами. Дополнительные сведения о команде **schtasks**см. в разделе [schtasks](schtasks.md).

- Для использования **в**необходимо быть членом локальной группы администраторов.

- **в** не загружается автоматически cmd. exe, интерпретатор команд, перед выполнением команд. Если исполняемый файл (exe) не используется, необходимо явно загрузить cmd. exe в начале команды следующим образом:

    ```
    cmd /c dir > c:\test.out
    ```

- При **использовании без параметров командной строки** запланированные задачи отображаются в таблице, отформатированной следующим образом:

    ```
    Status  ID   Day        time        Command Line
    OK      1    Each F     4:30 PM     net send group leads status due
    OK      2    Each M     12:00 AM    chkstor > check.file
    OK      3    Each F     11:59 PM    backup2.bat
    ```

- При включении **в** командную строку идентификационного номера (*ID*) информация для одной записи отображается в формате, аналогичном следующему:  

    ```
    Task ID: 1
    Status: OK
    Schedule: Each  F
    Time of Day: 4:30 PM
    Command: net send group leads status due
  ```

    После выполнения команды с параметром **at**, особенно командой, имеющей параметры командной строки, проверьте правильность синтаксиса команды **, введя команду** без параметров командной строки. Если сведения в столбце командной строки неверны, удалите команду и введите ее снова. Если она по-прежнему неверна, повторно введите команду с меньшим числом параметров командной строки.

- Команды, запланированные в **при** запуске как фоновые процессы. Выходные данные не отображаются на экране компьютера. Чтобы перенаправить вывод в файл, используйте символ перенаправления `(>)`. При перенаправлении выходных данных в файл необходимо использовать escape-символ `(^)` перед символом перенаправления, независимо от того **, используется ли в командной** строке или в пакетном файле. Например, чтобы перенаправить вывод в Output. Text, введите:

    `at 14:45 c:\test.bat ^>c:\output.txt`

    Текущим каталогом для выполняемой команды является папка SystemRoot.

- Если вы изменяете системное время на компьютере после того, как вы запланируете выполнение команды с помощью, синхронизируйте планировщик **at** с измененным системным **временем, введя** **параметр без параметров** командной строки.

- Запланированные команды хранятся в реестре. В результате вы не потеряли запланированные задачи при перезапуске службы расписания.

- Не используйте перенаправленный диск для запланированных заданий, обращающихся к сети. Возможно, служба расписания не может получить доступ к перенаправленному диску, или перенаправленный диск может отсутствовать, если во время выполнения запланированной задачи в системе вошел другой пользователь. Вместо этого используйте UNC-пути для запланированных заданий. Например:  

    `at 1:00pm my_backup \\\server\share`  

    Не используйте следующий синтаксис, где **x:** — это соединение, устанавливаемое пользователем:  

    `at 1:00pm my_backup x:`  

    Если вы запланируете команду **at** , которая использует букву диска для подключения к общему каталогу, включите команду **at** , чтобы отключить диск по завершении работы с диском. Если диск не отключен, назначенная буква диска недоступна в командной строке.

- По умолчанию задачи, запланированные с помощью команды **at** , прекращаются через 72 часов. Можно изменить реестр, чтобы изменить это значение по умолчанию.

> [!Caution]
> Внесение неправильных изменений в реестр может нанести серьезный вред системе. Перед внесением изменений следует создать резервные копии всех важных данных, имеющихся на компьютере.

    1. Запустите редактор реестра (regedit. exe).

    2. В реестре перейдите к следующему разделу: **HKEY_LOCAL_MACHINE \систем\куррентконтролсет\сервицес\счедуле**

    3. В меню **Правка** выберите команду **Добавить значение**, а затем добавьте следующие значения реестра:

        - **Имя значения.** аттаскмаксхаурс

        - **Тип данных.** reg_DWOrd 

        - **Основание системы счисления.** Decimal

        - **Данные значения:** 0,0. Значение 0 в поле данных значения указывает на отсутствие ограничения и не останавливается. Значения от 1 до 99 указывают количество часов.

- Вы можете использовать папку «Назначенные задания» для просмотра или изменения параметров задачи, созданной с помощью команды **at** . При планировании задачи с помощью команды **at** задача отображается в папке «Назначенные задания» с именем, следующим как:**At3478**. Однако при изменении задачи at в папке «Назначенные задания» она обновляется до обычной запланированной задачи. Задача больше не является видимой для команды **at** , а параметр учетной записи at больше не применяется. Необходимо явно ввести учетную запись пользователя и пароль для задачи.

## <a name="examples"></a>Примеры

Чтобы отобразить список команд, запланированных на сервере Marketing, введите:

`at \\marketing`

Чтобы получить дополнительные сведения о команде с идентификационным номером 3 на сервере Corp, введите:

`at \\corp 3`

Планирование выполнения команды net share на корпоративном сервере 8:00 утра и перенаправление списка на сервер обслуживания, в общий каталог отчетов и в файл Corp. txt введите:

`at \\corp 08:00 cmd /c net share reports=d:\marketing\reports >> \\maintenance\reports\corp.txt`

Чтобы создать резервную копию жесткого диска маркетингового сервера на ленточный накопитель каждые пять дней, создайте пакетную программу с именем Archive. cmd, которая содержит команды резервного копирования, а затем запланируйте выполнение пакетной программы, наберите:

`at \\marketing 00:00 /every:5,10,15,20,25,30 archive`

Чтобы отменить все команды, запланированные на текущем сервере, очистите сведения **о расписании, как** показано ниже.

`at /delete`

Чтобы выполнить команду, которая не является исполняемым файлом (т. е. exe), перед командой выполните команду **cmd/c** для загрузки CMD. exe следующим образом:

`cmd /c dir > c:\test.out`

## <a name="additional-references"></a>Дополнительные материалы

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)