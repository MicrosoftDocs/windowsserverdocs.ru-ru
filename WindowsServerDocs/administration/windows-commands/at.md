---
title: at
description: Раздел Windows команды для **в** - планирует команды и программы для запуска на компьютере в указанное время и дату.
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: ff18fd16-9437-4c53-8794-bfc67f5256b3
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: fc9d9f3d008db1bb85bfb6afa0308834c929b5f0
ms.sourcegitcommit: eaf071249b6eb6b1a758b38579a2d87710abfb54
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/31/2019
ms.locfileid: "66435286"
---
# <a name="at"></a>at

>Область применения. Windows Server (полугодовой канал), Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Команды и программы для запуска на компьютере в указанное время и дату. Можно использовать **в** только при выполнении службы Schedule. При использовании без параметров, **в** список запланированных команд.
## <a name="syntax"></a>Синтаксис
```
at [\\computername] [[id] [/delete] | /delete [/yes]]
at [\\computername] <time> [/interactive] [/every:date[,...] | /next:date[,...]] <command>
```
## <a name="parameters"></a>Параметры

|      Параметр       |                                                                                                                                                                                                               Описание                                                                                                                                                                                                                |
|----------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| \\\\\<ComputerName\> |                                                                                                                                                        Указывает удаленный компьютер. Если опустить этот параметр **в** планирует команд и программ на локальном компьютере.                                                                                                                                                        |
|        \<Идентификатор\>        |                                                                                                                                                                                   Задает идентификационный номер, назначенный выполнение команды.                                                                                                                                                                                   |
|       /delete        |                                                                                                                                                                Отменяет выполнение команды. Если опустить *идентификатор*, отменяются все запланированные команды на компьютере.                                                                                                                                                                |
|         / yes         |                                                                                                                                                                               Ответы на вопросы Да для всех запросов из системы при удалении запланированные события.                                                                                                                                                                               |
|       \<time\>       |                                                                                                                                          Указывает время, если вы хотите выполнить команду. время выражается как часы: минуты, в 24-часовом формате (то есть, 00:00 [полночь] до 23:59).                                                                                                                                          |
|     / Интерактивный     |                                                                                                                                                                  Позволяет *команда* взаимодействие с рабочим столом пользователя, который вошел в систему во время *команда* выполняется.                                                                                                                                                                  |
|       / каждые:        |                                                                                                                                                    Запуски *команда* на каждый указанный день или дни недели или месяца (например, каждый четверг или третий день каждого месяца).                                                                                                                                                    |
|       \<date\>       |                                                  Указывает дату, когда требуется выполнить команду. Можно указать один или несколько дней недели (то есть type **M**,**T**,**W**,**Th**,**F**,**S**,**Su**) или один или несколько дней месяца (то есть type 1 до 31). Несколько дат разделяются запятыми. Если опустить *даты*, **в** используется текущий день месяца.                                                  |
|        /next:        |                                                                                                                                                                              Запуски *команда* при следующем возникновении дня (например, следующий четверг).                                                                                                                                                                              |
|     \<Команда\>      | Указывает команду, которую Windows, программы (то есть файл .exe или .com) или пакетный (то есть файл bat и CMD-файл), вы хотите запустить. Если команда требует путь в качестве аргумента, используйте абсолютный путь (то есть полный путь, начиная с буквой диска). Если команда выполняется на удаленном компьютере, укажите соглашения об универсальных именах (UNC) нотации для сервера и совместно использовать вместо диска. |
|          /?          |                                                                                                                                                                                                   Отображение справки в командной строке.                                                                                                                                                                                                   |

## <a name="remarks"></a>Примечания
- **SCHTASKS** является другим средством командной строки, можно использовать для создания и управления ими запланированные задачи. Дополнительные сведения о **schtasks**, см.
- С помощью **в**  
  Чтобы использовать **в**, необходимо быть членом локальной группы администраторов.
- Загрузка Cmd.exe  
  **в** не загружается автоматически Cmd.exe, интерпретатор команд, перед выполнением команд. Если вы не используете исполняемого файла (.exe), необходимо явно загружать Cmd.exe в начале команды следующим образом: **cmd /c dir > c:\test.out**
- Просмотр запланированных команд  
  При использовании **в** без параметров командной строки, запланированные задачи отображаются в формате таблицы следующим образом:
  ```
  Status  ID   Day        time        Command Line
  OK      1    Each F     4:30 PM     net send group leads status due
  OK      2    Each M     12:00 AM    chkstor > check.file
  OK      3    Each F     11:59 PM    backup2.bat
  ```
- Включение идентификационного номера (*идентификатор*)  
  При включении идентификационный номер (*идентификатор*) с **в** в командной строке, для отдельной записи выводятся в формате, аналогичную следующей:  
  ```
  Task ID:      1
  Status:       OK
  Schedule:     Each  F
  time of Day:  4:30 PM
  Command:      net send group leads status due
  ```
  После планирования команды с **в**, особенно команду, которая содержит параметры командной строки, проверьте правильность синтаксиса команды, введя **в** без параметров командной строки. Если сведения в столбце командной строки не выполнено, удалить команду и введите его еще раз. Если он по-прежнему неправильный, введите команду с меньшим числом параметров.
- Просмотр результатов  
  Запланировать команд с помощью **в** выполняются как фоновые процессы. Выходные данные не отображаются на экране компьютера. Чтобы перенаправить вывод в файл, используйте символ перенаправления (>). Если вывод перенаправляется в файл, необходимо использовать escape-символ (^) перед символом перенаправления, используете ли вы **в** из командной строки или из пакетного файла. Например чтобы перенаправить вывод в файл Output.txt, введите следующую команду:  
  `at 14:45 c:\test.bat ^>c:\output.txt`  
  Папку systemroot указан текущий каталог для выполнения команды.
- Изменение системного времени  
  Если изменение системного времени на работу с компьютером, запланировав команда для запуска с **в**, синхронизировать **в** планировщика с измененным системным временем, введя **в** без параметры командной строки.
- Хранение команды  
  Запланированные команды сохраняются в реестре. Таким образом запланированные задачи не теряются при перезапуске службы Schedule.
- Подключение к сетевым дискам  
  Не используйте подключенном диске для запланированных заданий, которые обращаются к сети. Служба расписаний не сможете получить доступ к этому диску или подключенном диске может отсутствовать, если другой пользователь вошел в систему во время выполнения задания. Вместо этого используйте UNC-пути для запланированных заданий. Пример:  
  `at 1:00pm my_backup \\\server\share`  
  Не используйте следующий синтаксис, где **x:** — это соединение, установленное пользователем:  
  `at 1:00pm my_backup x:`  
  Если запланировать **в** включить команду, которая использует для подключения к общей папке, букву диска **в** команду, чтобы отключить диск, когда вы закончите, с помощью диска. Если диск не отключен, назначенной буквой диска не доступна в командной строке.
- Остановка задания через 72 часа  
  По умолчанию, задач, запланированных с помощью **в** команду stop после 72 часов. Можно изменить реестр, чтобы изменить это значение по умолчанию.
  1.  Запустите редактор реестра (regedit.exe).
  2.  Найдите и выберите следующий раздел в реестре: **HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Schedule**
  3.  В меню Правка выберите пункт Добавить значение, а затем добавьте следующий параметр реестра: Имя значения: atTaskMaxHours тип данных: reg_DWOrd основание системы счисления: Десятичное значение данных: 0. Значение 0 в поле значение означает отсутствие ограничений, но не останавливает. Значения от 1 до 99 указывает количество часов.
  **Внимание!**
- Неправильное изменение реестра может серьезно повредить систему. Перед внесением изменений следует сделать резервную копию всех ценных данных на компьютере.
- Планировщик задач и **в** команды  
  Эту папку можно использовать для просмотра или изменения параметров задачи, которая была создана с помощью **в** команды. При планировании задач с помощью **в** команды задачи, перечисленные в папке назначенных заданий с именем следующего вида:**at3478**. Тем не менее при изменении задачи через запланированные задачи в папку, он обновляется до обычного назначенного задания. Задача больше не отображается для **в** команда и в учетной записи больше не применяется к нему. Необходимо явно указать учетную запись пользователя и пароль для задачи.
  ## <a name="examples"></a>Примеры
  Чтобы отобразить список команд, запланированных на сервере маркетинга, введите следующую команду:

`at \\marketing`

Дополнительные сведения о команде с идентификатором 3 на сервере Corp, введите следующую команду:

`at \\corp 3`

Чтобы запланировать команды net share для запуска на сервере Corp, в 8:00. и перенаправить листинг обслуживания, сервера в общей папке отчетов и файл Corp.txt, тип:

`at \\corp 08:00 cmd /c "net share reports=d:\marketing\reports >> \\maintenance\reports\corp.txt"`

Резервное копирование жесткого диска сервера Marketing на ленточный накопитель в полночь каждые пять дней, создание пакета файл Archive.cmd, который содержит команды резервного копирования, и затем запланировать выполнение программы пакетной службы, введите следующую команду:

`at \\marketing 00:00 /every:5,10,15,20,25,30 archive`

Снимите, чтобы отменить все команды, запланированные на текущем сервере **в** сведения о расписании следующим образом:

`at /delete`

Чтобы выполнить команду, которая не является исполняемого файла (то есть .exe), введите перед ней **cmd /c** загрузить Cmd.exe следующим образом:

`cmd /c dir > c:\test.out`
