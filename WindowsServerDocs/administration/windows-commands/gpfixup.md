---
title: gpfixup
description: 'Раздел Windows команды для ***- '
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 2b145410-fc75-4526-932d-f16b7ee3aaef
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: efb30e243d9c165fdcf13943225eb90d38235070
ms.sourcegitcommit: eaf071249b6eb6b1a758b38579a2d87710abfb54
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/31/2019
ms.locfileid: "66438209"
---
# <a name="gpfixup"></a>gpfixup



Исправьте зависимости имя домена в ссылки на объекты групповой политики и групповой политики, после операции переименования домена. Примеры использования этой команды см. в разделе [примеры](#BKMK_Examples).

## <a name="syntax"></a>Синтаксис

```
Gpfixup [/v] 
[/olddns:<OLDDNSNAME> /newdns:<NEWDNSNAME>] 
[/oldnb:<OLDFLATNAME> /newnb:<NEWFLATNAME>] 
[/dc:<DCNAME>] [/sionly] 
[/user:<USERNAME> [/pwd:{<PASSWORD>|*}]] [/?]
```

### <a name="parameters"></a>Параметры

|       Параметр       |                                                                                                                                                                                                                               Описание                                                                                                                                                                                                                               |
|-----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|          /v           |                                                                                                                                                      Отображает подробные сообщения о состоянии.</br>Если этот параметр не используется, только сообщения об ошибке или сообщение о состоянии сводки **успех** или **СБОЯ** отображается.                                                                                                                                                       |
| /olddns:\<OLDDNSNAME > |                                                                                                           Указывает старый DNS-имя домена переименован как  *\<OLDDNSNAME >* изменения операция переименования домена на DNS-имя домена. Этот параметр можно использовать только в том случае, если вы также используете **/newdns** параметр, чтобы указать новое имя домена DNS.                                                                                                            |
| /newdns:\<NEWDNSNAME> |                                                                                                          Указывает новый DNS-имя домена переименован как  *\<NEWDNSNAME >* изменения операция переименования домена на DNS-имя домена. Этот параметр можно использовать только в том случае, если вы также используете **/olddns** параметр, чтобы указать имя старого домена DNS.                                                                                                           |
| /oldnb:\<OLDFLATNAME> |                                                                                                        Указывает старое имя NetBIOS домена переименован как  *\<OLDFLATNAME >* изменения операция переименования домена NetBIOS-имя домена. Этот параметр можно использовать только в том случае, если вы используете **/newnb** параметр, чтобы указать новое имя NetBIOS домена.                                                                                                        |
| /newnb:\<NEWFLATNAME > |                                                                                                       Задает новое имя NetBIOS домена переименован как  *\<NEWFLATNAME >* изменения операция переименования домена NetBIOS-имя домена. Этот параметр можно использовать только в том случае, если вы используете **/oldnb** параметр, чтобы указать старое имя NetBIOS домена.                                                                                                       |
|     /dc:\<DCNAME>     | Подключиться к контроллеру домена с именем  *\<DCNAME >* (DNS-имя или NetBIOS-имя). *\<DCNAME >* должна быть размещена для записи реплики раздела каталога домена, как указано в одно из следующих:</br>-DNS-имя  *\<NEWDNSNAME >* с помощью **/newdns**</br>— Имя NetBIOS  *\<NEWFLATNAME >* с помощью **/newnb**</br>Если этот параметр не используется, подключиться к любому контроллеру домена в домене переименован, обозначается  *\<NEWDNSNAME >* или  *\<NEWFLATNAME >* . |
|        /sionly        |                                                                                                                           Выполняет только исправление групповой политики, относящиеся к установке управляемого программного обеспечения (расширения установки программ групповой политики). Пропустите действия, которые устраняют ссылками на групповые политики и SYSVOL пути в объектах групповой политики.                                                                                                                           |
|   / User:\<имя пользователя >   |                                                                                                                                   Выполняет эту команду в контексте безопасности пользователя  *\<имя пользователя >* , где  *\<имя пользователя >* находится в формате "домен\имя пользователя".</br>Если этот параметр не используется, выполняет эту команду от имени вошедшего в систему пользователя.                                                                                                                                    |
|   /pwd:{\<PASSWORD>   |                                                                                                                                                                                                                                   \*}                                                                                                                                                                                                                                   |
|          /?           |                                                                                                                                                                                                                  Отображает справку в командной строке.                                                                                                                                                                                                                   |

## <a name="remarks"></a>Примечания

-   **Gpfixup** команда доступна в Windows Server 2008 R2 и Windows Server 2008, за исключением установки основных серверных компонентов.
-   Несмотря на то, что консоль управления групповыми политиками (GPMC) входит в состав Windows Server 2008 R2 и Windows Server 2008, необходимо установить управление групповой политикой как функцию с помощью диспетчера серверов.

## <a name="BKMK_Examples"></a>Примеры

В этом примере предполагается, что вы уже выполнили операцию переименования домена, в котором вы изменили в DNS-имя **MyOldDnsName** для **MyNewDnsName**и имя NetBIOS из  **MyOldNetBIOSName** для **MyNewNetBIOSName**. В этом примере используется **gpfixup** команду, чтобы подключиться к контроллеру домена с именем **MyDcDnsName** и исправления объектов групповой политики, а также групповой политики ссылки путем обновления старого имени домена, встроенные в объектов GPO и связей. Состояние, ошибка: выходные данные сохраняются в файл с именем **gpfixup.log**.
```
gpfixup /olddns: MyOldDnsName /newdns:MyNewDnsName /oldnb:MyOldNetBIOSName /newnb:MyNewNetBIOSName /dc:MyDcDnsName 2>&1 >gpfixup.log
```
Данный пример является таким же, что и предыдущий, за исключением того, что предполагается, что имя NetBIOS домена не было изменено в процессе домена операции переименования.
```
gpfixup /olddns: MyOldDnsName /newdns:MyNewDnsName /dc:MyDcDnsName 2>&1 >gpfixup.log
```

#### <a name="additional-references"></a>Дополнительная справка

-   [Администрирование Переименование домена Active Directory](https://go.microsoft.com/fwlink/?LinkId=198385)
-   [Групповая политика](https://go.microsoft.com/fwlink/?LinkID=145531)
-   [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)