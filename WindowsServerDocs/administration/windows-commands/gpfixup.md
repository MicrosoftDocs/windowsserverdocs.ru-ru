---
title: gpfixup
description: Раздел Windows команды для ****-
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: 2b145410-fc75-4526-932d-f16b7ee3aaef
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: e0f1ce2e050a3d741f9b2f7a5cce9d2988716106
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2020
ms.locfileid: "80842557"
---
# <a name="gpfixup"></a>gpfixup



Исправьте зависимости доменного имени в групповая политика объекты и групповая политика ссылки после операции переименования домена. Примеры использования этой команды см. в разделе [примеры](#BKMK_Examples).

## <a name="syntax"></a>Синтаксис

```
Gpfixup [/v] 
[/olddns:<OLDDNSNAME> /newdns:<NEWDNSNAME>] 
[/oldnb:<OLDFLATNAME> /newnb:<NEWFLATNAME>] 
[/dc:<DCNAME>] [/sionly] 
[/user:<USERNAME> [/pwd:{<PASSWORD>|*}]] [/?]
```

#### <a name="parameters"></a>Параметры

|       Параметр       |                                                                                                                                                                                                                               Описание                                                                                                                                                                                                                               |
|-----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|          /v           |                                                                                                                                                      Отображает подробные сообщения о состоянии.</br>Если этот параметр не используется, отображается только сообщение об ошибке или сводка состояния " **успешно** " или " **сбой** ".                                                                                                                                                       |
| /олдднс:\<ОЛДДНСНАМЕ > |                                                                                                           Указывает старое DNS-имя переименованного домена как *\<олдднснаме >* когда операция переименования домена изменяет DNS-имя домена. Этот параметр можно использовать, только если вы также используете параметр **/невднс** для указания нового DNS-имени домена.                                                                                                            |
| /невднс:\<НЕВДНСНАМЕ > |                                                                                                          Указывает новое DNS-имя переименованного домена как *\<невднснаме >* при изменении DNS-имени домена. Этот параметр можно использовать, только если вы также используете параметр **/олдднс** , чтобы указать старое DNS-имя домена.                                                                                                           |
| /олднб:\<ОЛДФЛАТНАМЕ > |                                                                                                        Указывает старое NetBIOS-имя переименованного домена в качестве *\<олдфлатнаме >* при изменении имени NetBIOS для домена в ходе операции переименования домена. Этот параметр можно использовать только в том случае, если для указания нового NetBIOS-имени домена используется параметр **/невнб** .                                                                                                        |
| /невнб:\<НЕВФЛАТНАМЕ > |                                                                                                       Указывает новое NetBIOS-имя переименованного домена, которое *\<невфлатнаме >* при изменении имени NetBIOS для домена в ходе операции переименования домена. Этот параметр можно использовать, только если вы используете параметр **/олднб** , чтобы указать старое NetBIOS-имя домена.                                                                                                       |
|     /DC:\<DCNAME >     | Подключитесь к контроллеру домена с именем *\<DCNAME >* (DNS-имя или имя NetBIOS). *\<DCNAME >* должны размещать реплику, доступную для записи, в разделе каталога домена, как показано в одном из следующих:</br>— DNS-имя *\<невднснаме >* с помощью **/невднс** .</br>— NetBIOS-имя *\<невфлатнаме >* с помощью **/невнб** .</br>Если этот параметр не используется, подключитесь к любому контроллеру домена в переименованном домене, указанном *\<невднснаме >* или *\<невфлатнаме >* . |
|        /сионли        |                                                                                                                           Выполняет только групповая политика исправление, связанное с установкой управляемого программного обеспечения (расширение установки программного обеспечения для групповая политика). Пропустите действия, которые исправляют групповая политика ссылки и пути SYSVOL в объектах групповой политики.                                                                                                                           |
|   /User:\<имя пользователя >   |                                                                                                                                   Выполняет эту команду в контексте безопасности пользователя *\<имя пользователя >* , где *\<username >* имеет формат домен \ пользователь.</br>Если этот параметр не используется, выполняет эту команду от имени пользователя, выполнившего вход.                                                                                                                                    |
|   /PWD: {\<пароль >   |                                                                                                                                                                                                                                   \*}                                                                                                                                                                                                                                   |
|          /?           |                                                                                                                                                                                                                  Отображает справку в командной строке.                                                                                                                                                                                                                   |

## <a name="remarks"></a>Примечания

-   Команда **гпфиксуп** доступна в windows Server 2008 R2 и windows Server 2008, за исключением случаев установки Server Core.
-   Несмотря на то, что консоль управления групповыми политиками (GPMC) распространяется с Windows Server 2008 R2 и Windows Server 2008, необходимо установить средство управления групповая политика как компонент с помощью диспетчер сервера.

## <a name="examples"></a><a name=BKMK_Examples></a>Примеров

В этом примере предполагается, что вы уже выполнили операцию переименования домена, в которой имя DNS изменено с **мйолдднснаме** на **Миневднснаме**, а NetBIOS-имя — с **мйолднетбиоснаме** на **миневнетбиоснаме**. В этом примере команда **гпфиксуп** используется для подключения к контроллеру домена с именем **Мидкднснаме** и восстановления объектов групповой политики и групповая политика ссылок путем обновления старого доменного имени, внедренного в объекты групповой политики и ссылки. Состояние и вывод ошибок сохраняются в файл с именем **гпфиксуп. log**.
```
gpfixup /olddns: MyOldDnsName /newdns:MyNewDnsName /oldnb:MyOldNetBIOSName /newnb:MyNewNetBIOSName /dc:MyDcDnsName 2>&1 >gpfixup.log
```
Этот пример аналогичен предыдущему, но предполагает, что NetBIOS-имя домена не было изменено во время операции переименования домена.
```
gpfixup /olddns: MyOldDnsName /newdns:MyNewDnsName /dc:MyDcDnsName 2>&1 >gpfixup.log
```

## <a name="additional-references"></a>Дополнительные материалы

-   [Администрирование домен Active Directory переименование](https://go.microsoft.com/fwlink/?LinkId=198385)
-   [Технический центр групповая политика](https://go.microsoft.com/fwlink/?LinkID=145531)
-   - [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)