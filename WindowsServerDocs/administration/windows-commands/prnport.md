---
title: prnport
description: Справочная статья по команде прнпорт, которая создает, удаляет и перечисляет стандартные порты принтера TCP/IP, а также отображает и изменяет конфигурацию порта.
ms.topic: reference
ms.assetid: 6a0ec638-a21e-4a34-be5c-bd0f7ca89ffe
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 4723d266ed70c7e9bf56fd65216dcce0bab1188c
ms.sourcegitcommit: 96d46c702e7a9c3a321bbbb5284f73911c7baa3c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/27/2020
ms.locfileid: "89033892"
---
# <a name="prnport"></a>prnport

> Область применения: Windows Server (половина ежегодного канала), Windows Server 2019, Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Создание, удаление и перечисление стандартных портов принтера TCP/IP, а также отображение и изменение конфигурации портов. Эта команда представляет собой Visual Basic сценарий, расположенный в `%WINdir%\System32\printing_Admin_Scripts\<language>` каталоге. Чтобы использовать эту команду в командной строке, введите **cscript** , а затем полный путь к файлу прнпорт или измените каталоги на соответствующую папку. Например: `cscript %WINdir%\System32\printing_Admin_Scripts\en-US\prnport`.

## <a name="syntax"></a>Синтаксис

```
cscript prnport {-a | -d | -l | -g | -t | -?} [-r <portname>] [-s <Servername>] [-u <Username>] [-w <password>] [-o {raw | lpr}] [-h <Hostaddress>] [-q <Queuename>] [-n <portnumber>] -m{e | d} [-i <SNMPindex>] [-y <communityname>] -2{e | -d}
```

### <a name="parameters"></a>Параметры

| Параметр | Описание |
|--|--|
| -a | Создает стандартный порт принтера TCP/IP. |
| -d | Удаляет стандартный порт принтера TCP/IP. |
| -l | Список всех стандартных портов принтера TCP/IP на компьютере, указанном параметром **-s** . |
| -g | Отображает конфигурацию стандартного порта принтера TCP/IP. |
| -T | Настраивает параметры порта для стандартного порта принтера TCP/IP. |
| -r `<portname>` | Указывает порт, к которому подключен принтер. |
| -s `<Servername>` | Указывает имя удаленного компьютера, на котором размещен принтер, которым требуется управлять. Если компьютер не указан, используется локальный компьютер. |
| -u `<Username>` -w `<password>` | Указывает учетную запись с разрешениями на подключение к компьютеру, на котором размещен принтер, которым требуется управлять. Все члены локальной группы администраторов целевого компьютера имеют эти разрешения, но разрешения также могут быть предоставлены другим пользователям. Если учетная запись не указана, для работы команды необходимо войти в систему с учетной записью с этими разрешениями. |
| -o `{raw|lpr}` | Указывает, какой протокол использует порт: TCP RAW или TCP LPR. Протокол TCP RAW является более высоким протоколом производительности Windows, чем протокол LPR. При использовании протокола TCP RAW можно дополнительно указать номер порта с помощью параметра **-n** . Номер порта по умолчанию — 9100. |
| -h `<Hostaddress>` | Указывает (по IP-адресу) принтер, для которого требуется настроить порт. |
| -q `<Queuename>` | Указывает имя очереди для порта TCP RAW. |
| -n `<portnumber>` | Указывает номер порта для порта TCP RAW. Номер порта по умолчанию — 9100. |
| -m`{e|d}` | Указывает, включен ли протокол SNMP. Параметр **e** включает протокол SNMP. Параметр **d** отключает протокол SNMP. |
| -i `<SNMPindex` | Указывает SNMP-индекс, если включен протокол SNMP. Дополнительные сведения см. в **документе rfc 1759** на [веб-сайте редактора RFC](https://www.ietf.org/rfc/rfc1759.txt?number=1759). |
| -y `<communityname>` | Указывает имя SNMP-сообщества, если включен протокол SNMP. |
| -2`{e|-d}` | Указывает, включены ли двойные очереди (также называемые перекачкой) для портов TCP LPR. Двойная буферизация необходима, так как TCP LPR должен содержать точный счетчик байтов в управляющем файле, отправляемом на принтер, но протокол не может получить число от локального поставщика печати. Таким образом, если файл помещен в очередь печати TCP LPR, он также помещается в очередь как временный файл в каталог System32. TCP-порт LPR определяет размер временного файла и отправляет его на сервер, на котором работает LPD. Параметр **e** включает двойные очереди. Параметр **d** отключает двойные очереди. |
| /? | Отображение справки в командной строке. |

#### <a name="remarks"></a>Remarks

- Если предоставленные сведения содержат пробелы, заключите его в кавычки (например, "имя компьютера").

### <a name="examples"></a>Примеры

Чтобы отобразить все стандартные порты печати TCP/IP на сервере \\ Server1, введите:

```
cscript prnport -l -s Server1
```

Чтобы удалить стандартный порт печати TCP/IP на сервере \\ Server1, который подключается к сетевому принтеру по адресу 10.2.3.4, введите:

```
cscript prnport -d -s Server1 -r IP_10.2.3.4
```

Чтобы добавить стандартный порт печати TCP/IP на сервере \\ Server1, который подключается к сетевому принтеру по адресу 10.2.3.4 и использует протокол TCP RAW на порту 9100, введите:

```
cscript prnport -a -s Server1 -r IP_10.2.3.4 -h 10.2.3.4 -o raw -n 9100
```

Чтобы включить SNMP, укажите общедоступное имя сообщества и задайте для SNMP-индекса значение 1 на сетевом принтере в 10.2.3.4, совместно используемом сервером \\ Server1, введите:

```
cscript prnport -t -s Server1 -r IP_10.2.3.4 -me -y public -i 1 -n 9100
```

Чтобы добавить стандартный порт печати TCP/IP на локальном компьютере, который подключается к сетевому принтеру на сайте 10.2.3.4, и автоматически получить параметры устройства с принтера, введите:

```
cscript prnport -a -r IP_10.2.3.4 -h 10.2.3.4
```

## <a name="additional-references"></a>Дополнительные ссылки

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)

- [Справочник по командам системы печати](print-command-reference.md)
