---
title: prnport
description: Узнайте, как создавать, удалять и списка портов принтера.
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 6a0ec638-a21e-4a34-be5c-bd0f7ca89ffe
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 5a7c48dcfa4db548d27722ee316eda797fd1ef2f
ms.sourcegitcommit: eaf071249b6eb6b1a758b38579a2d87710abfb54
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/31/2019
ms.locfileid: "66442130"
---
# <a name="prnport"></a>prnport

>Область применения. Windows Server (полугодовой канал), Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Создает, удаляет и перечисляет стандартные порты принтера TCP/IP, помимо отображения и изменения конфигурации портов.

## <a name="syntax"></a>Синтаксис
```
cscript prnport {-a | -d | -l | -g | -t | -?} [-r <PortName>] 
[-s <ServerName>] [-u <UserName>] [-w <Password>] [-o {raw | lpr}] 
[-h <Hostaddress>] [-q <QueueName>] [-n <PortNumber>] -m{e | d} 
[-i <SNMPIndex>] [-y <CommunityName>] -2{e | -d}
```

## <a name="parameters"></a>Параметры

|          Параметр           |                                                                                                                                                                                                                                                                                                     Описание                                                                                                                                                                                                                                                                                                      |
|------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|              -a              |                                                                                                                                                                                                                                                                                       Создает стандартный порт принтера TCP/IP.                                                                                                                                                                                                                                                                                        |
|              -d              |                                                                                                                                                                                                                                                                                       Удаляет стандартный порт принтера TCP/IP.                                                                                                                                                                                                                                                                                        |
|              -l              |                                                                                                                                                                                                                                                             перечислены все стандартные порты принтера TCP/IP на компьютере, указанном с помощью **-s** параметра.                                                                                                                                                                                                                                                             |
|              -g              |                                                                                                                                                                                                                                                                            Вывести конфигурацию стандартный порт принтера TCP/IP.                                                                                                                                                                                                                                                                             |
|              -t              |                                                                                                                                                                                                                                                                           Настройка порта для стандартный порт принтера TCP/IP.                                                                                                                                                                                                                                                                           |
|        -r \<имя порта >        |                                                                                                                                                                                                                                                                                Указывает порт, к которому подключен принтер.                                                                                                                                                                                                                                                                                 |
|       -s \<ServerName >       |                                                                                                                                                                                                                               Задает имя удаленного компьютера, на котором размещена принтера, которое вы хотите управлять. Если компьютер не указан, используется локальный компьютер.                                                                                                                                                                                                                                |
| -u \<UserName> -w <Password> |                                                                                                              Задает учетную запись с разрешениями на подключение к компьютеру, на котором размещена принтера, которое вы хотите управлять. Эти разрешения всех членов локальной группы администраторов на конечном компьютере, но можно также выделить разрешения другим пользователям. Если не указать учетную запись, вы должны войти в систему с учетной записью с этими разрешениями для команды для работы.                                                                                                               |
|     -o {необработанные &#124; lpr}      |                                                                                                                                                                                                              Задает протокол, используемый порт: Необработанный TCP или TCP lpr. Если вы используете необработанный TCP, при необходимости можно указать номер порта с помощью **- n** параметра. Номер порта по умолчанию — 9100.                                                                                                                                                                                                              |
|      -h \<Hostaddress >       |                                                                                                                                                                                                                                                                   Задает принтер, для которого необходимо настроить порт (по IP-адресу).                                                                                                                                                                                                                                                                    |
|       -q \<QueueName>        |                                                                                                                                                                                                                                                                                     Указывает имя очереди для необработанного протокола TCP.                                                                                                                                                                                                                                                                                     |
|       -n \<номер_порта >       |                                                                                                                                                                                                                                                                    Указывает номер порта для необработанного протокола TCP. Номер порта по умолчанию — 9100.                                                                                                                                                                                                                                                                    |
|        -m{e &#124; d}        |                                                                                                                                                                                                                                                       Указывает, включена ли SNMP. Параметр **e** включает SNMP. Параметр **d** отключает SNMP.                                                                                                                                                                                                                                                        |
|        -i \<SNMPIndex        |                                                                                                                                                                                                                             Указывает индекс SNMP, при использовании SNMP. Дополнительные сведения см в [веб-узла редактора Rfc](https://go.microsoft.com/fwlink/?LinkId=569).                                                                                                                                                                                                                              |
|     -y \<CommunityName>      |                                                                                                                                                                                                                                                                                Указывает имя SNMP-сообщества, при использовании SNMP.                                                                                                                                                                                                                                                                                |
|       -2{e &#124; -d}        | Указывает, включены ли для TCP-порты lpr двойные очереди (повторная постановка в очередь). Двойные очереди необходимы, так как TCP lpr должен включать точное число байт в файле параметров, который отправляется на принтер, но протокол не может получить это число от локальной службе печати. Таким образом когда файл помещается для TCP lpr очередь печати, он также помещается как временный файл в каталог system32. TCP lpr определяет размер временного файла и отправляет этот размер серверу LPD. Параметр **e** включает двойные очереди. Параметр **d** отключает двойные очереди. |
|              /?              |                                                                                                                                                                                                                                                                                         Отображение справки в командной строке.                                                                                                                                                                                                                                                                                         |

## <a name="remarks"></a>Примечания
-   **Prnport** команда — это сценарий Visual Basic, расположенный в %WINdir%\System32\printing_Admin_Scripts\\ <language> каталога. Чтобы использовать эту команду в командной строке, введите **cscript** следуют полный путь к файлу prnport, или изменить каталоги в соответствующую папку. Пример:
    ```
    cscript %WINdir%\System32\printing_Admin_Scripts\en-US\prnport
    ```
-   Если сведения, которые вы предоставляете содержит пробелы, используйте кавычки вокруг текста (например, `"computer Name"`).
-   Необработанные протокол TCP — выше производительность протокола в Windows чем протокол lpr.

## <a name="BKMK_examples"></a>Примеры
Чтобы отобразить все стандартные порты TCP/IP печати на сервере \\\Server1, введите:
```
cscript prnport -l -s Server1
```
Чтобы удалить стандартный порт TCP/IP печати на сервере \\\Server1, подключается к сетевому принтеру в 10.2.3.4, тип:
```
cscript prnport -d -s Server1 -r IP_10.2.3.4
```
Чтобы добавить стандартный порт принтера TCP/IP на сервере \\\Server1, подключается к сети принтер в 10.2.3.4 и использует протокол необработанных TCP через порт 9100, тип:
```
cscript prnport -a -s Server1 -r IP_10.2.3.4 -h 10.2.3.4 -o raw -n 9100
```
Чтобы включить SNMP, укажите имя сообщества «public» и задайте индекс SNMP 1 на сетевом принтере в 10.2.3.4, предоставляемым сервером \\\Server1, введите:
```
cscript prnport -t -s Server1 -r IP_10.2.3.4 -me -y public -i 1 -n 9100
```
Чтобы добавить стандартный порт принтера TCP/IP на локальном компьютере, который подключается к сети принтер в 10.2.3.4 и автоматически получать параметры устройства от принтера, введите следующую команду:
```
cscript prnport -a -r IP_10.2.3.4 -h 10.2.3.4
```

#### <a name="additional-references"></a>Дополнительные ссылки
[Ключ синтаксиса команд](command-line-syntax-key.md)
[команды печати](print-command-reference.md)
