---
title: команда Schtasks Change
description: Справочная статья по команде Schtasks Change, которая планирует периодическое выполнение команд и программ в определенное время, Добавление и удаление задач по расписанию, запуск и остановка задач по требованию, а также отображение и изменение запланированных задач.
ms.topic: reference
ms.author: lizross
author: eross-msft
manager: mtillman
ms.date: 09/16/2020
ms.openlocfilehash: 06cbceaaa0e428743a725127d9495759dd0097e1
ms.sourcegitcommit: e164aeffc01069b8f1f3248bf106fcdb7f64f894
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/26/2020
ms.locfileid: "91390816"
---
# <a name="schtasks-change"></a>команда Schtasks Change

Изменяет одно или несколько из следующих свойств задачи:

- Программа, выполняемая задачей (**/tr**)

- Учетная запись пользователя, под которой выполняется задача (**/ru**)

- Пароль для учетной записи пользователя (**/RP**)

- Добавляет интерактивное свойство в задачу (**/IT**)

## <a name="required-permissions"></a>Необходимые разрешения

- Чтобы запланировать, просмотреть и изменить все задачи на локальном компьютере, необходимо быть членом группы "Администраторы".

- Чтобы запланировать, просмотреть и изменить все задачи на удаленном компьютере, необходимо быть членом группы "Администраторы" на удаленном компьютере или использовать параметр **/u** для предоставления учетных данных администратора удаленного компьютера.

- Параметр **/u** в операции **/CREATE** или **/Change** можно использовать, если локальный и удаленный компьютеры находятся в одном домене или если локальный компьютер находится в домене, которому доверяет домен удаленного компьютера. В противном случае удаленный компьютер не может проверить подлинность указанной учетной записи пользователя и не сможет проверить, является ли эта учетная запись членом группы "Администраторы".

- Задача, которую планируется запустить, должна иметь соответствующее разрешение; Эти разрешения зависят от задачи. По умолчанию задачи выполняются с разрешениями текущего пользователя локального компьютера или с разрешениями пользователя, заданного параметром **/u** , если он включен. o запустите задачу с разрешениями другой учетной записи пользователя или с системными разрешениями, используя параметр **/ru** .

## <a name="syntax"></a>Синтаксис

```
schtasks /change /tn <Taskname> [/s <computer> [/u [<domain>\]<user> [/p <password>]]] [/ru <username>] [/rp <password>] [/tr <Taskrun>] [/st <Starttime>] [/ri <interval>] [{/et <Endtime> | /du <duration>} [/k]] [/sd <Startdate>] [/ed <Enddate>] [/{ENABLE | DISABLE}] [/it] [/z]
```

### <a name="parameters"></a>Параметры

| Параметр | Описание |
|--|--|
| /TN `<Taskname>` | Определяет задачу, которую необходимо изменить. Введите имя задачи. |
| ключ `<computer>` | Указывает имя или IP-адрес удаленного компьютера (с обратными косыми чертами или без них). По умолчанию это локальный компьютер. |
| /u `[<domain>]` | Выполняет эту команду с разрешениями указанной учетной записи пользователя. По умолчанию команда выполняется с разрешениями текущего пользователя локального компьютера. Указанная учетная запись пользователя должна быть членом группы "Администраторы" на удаленном компьютере. Параметры **/u** и **/p** допустимы только при использовании параметра **/s**. |
| /p `<password>` | Указывает пароль учетной записи пользователя, указанной в параметре **/u** . Если параметр **/u** используется без параметра **/p** или аргумента Password, команда Schtasks предложит ввести пароль. Параметры **/u** и **/p** допустимы только при использовании параметра **/s**. |
| выполнил `<username>` | Изменяет имя пользователя, под которым должна выполняться запланированная задача. Для системной учетной записи допустимыми значениями являются *""*, *"NT AUTHORITY\SYSTEM"* или *"System"*. |
| /RP `<password>` | Указывает новый пароль для существующей учетной записи пользователя или учетную запись пользователя, указанную параметром **/ru** . Этот параметр не учитывается при использовании с учетной записью локальной системы. |
| /TR `<Taskrun>` | Изменяет программу, выполняемую задачей. Введите полный путь и имя файла исполняемого файла, файла скрипта или пакетного файла. Если путь не добавлен, **команда Schtasks** предполагает, что файл находится в `<systemroot>\System32` каталоге. Указанная программа заменяет исходную программу, выполняемую задачей. |
| /ST `<Starttime>` | Указывает время начала задачи с использованием 24-часового формата времени, чч: мм. Например, значение 14:30 эквивалентно 12-часовому времени 2:30 PM. |
| /RI `<interval>` | Указывает интервал повторения для запланированной задачи в минутах. Допустимый диапазон — 1-599940 (599940 минут = 9999 часов). Если указаны параметры **/et** или **/du** , значение по умолчанию — **10 минут**. |
| /ET `<Endtime>` | Задает время окончания задачи с использованием 24-часового формата времени, чч: мм. Например, значение 14:30 эквивалентно 12-часовому времени 2:30 PM. |
| #b3 `<duration>` | Значение типа, указывающее длительность выполнения задачи. Формат времени — ЧЧ: мм (24-часовое время). Например, значение 14:30 эквивалентно 12-часовому времени 2:30 PM. |
| /k | Останавливает программу, выполняемую задачей в момент, заданный параметром **/et** или **/du**. Без **/k**программа SchTasks не запускает программу снова после того, как она достигнет времени, заданного параметром **/et** или **/du** , и не останавливает программу, если она все еще запущена. Этот параметр является необязательным и действителен только с поминутным или ЕЖЕЧАСным расписанием. |
| /SD `<Startdate>` | Указывает первую дату выполнения задачи. Формат даты — MM/ДД/ГГГГ. |
| #a1 `<Enddate>` | Указывает последнюю дату выполнения задачи. Формат: мм/дд/гггг. |
| Разрешение | Задает включение запланированной задачи. |
| /DISABLE | Задает отключение запланированной задачи. |
| разрешает | Задает запуск запланированной задачи только в том случае, если пользователь с правами пользователя (учетная запись пользователя, под которой выполняется задача) входит в систему на компьютере. Этот параметр не влияет на задачи, выполняемые с системными разрешениями или задачами, для которых уже задан интерактивный набор свойств. Нельзя использовать команду Change для удаления интерактивного свойства из задачи. По умолчанию запуск от имени пользователя является текущим пользователем локального компьютера при планировании задачи или учетной записью, указанной параметром **/u** , если она используется. Однако если команда включает параметр **/ru** , то пользователь, выполняющий команду, является учетной записью, указанной параметром **/ru** . |
| /z | Указывает, что задача должна быть удалена после завершения ее расписания. |
| /? | Отображение справки в командной строке. |

#### <a name="remarks"></a>Комментарии

- Параметры **/TN** и **/s** обозначают задачу. Параметры **/tr**, **/ru**и **/RP** указывают свойства задачи, которые можно изменить.

- Параметры **/ru** и **/RP** определяют разрешения, с которыми запускается задача. Параметры **/u** и **/p** указывают разрешения, используемые для изменения задачи.

- Чтобы изменить задачи на удаленном компьютере, пользователь должен войти на локальный компьютер с помощью учетной записи, которая является членом группы "Администраторы" на удаленном компьютере.

- Чтобы выполнить команду **/Change** с разрешениями другого пользователя (**/u**, **/p**), локальный компьютер должен находиться в том же домене, что и удаленный компьютер, или в домене, которому доверяет домен удаленного компьютера.

- Системная учетная запись не имеет прав интерактивного входа. Пользователи не видят и не могут взаимодействовать с, программы выполняются с разрешениями системы.
Чтобы указать задачи с помощью свойства **/IT** , используйте подробный запрос (**/query/v**). В подробном запросе на отображение задачи с параметром **/IT**поле режим входа имеет значение только Interactive.

## <a name="examples"></a>Примеры

Чтобы изменить программу, с которой запускается задача проверки на вирусы, с *VirusCheck.exe* на *VirusCheck2.exe*введите:

```
schtasks /change /tn Virus Check /tr C:\VirusCheck2.exe
```

Эта команда использует параметр **/TN** для определения задачи и параметр **/tr** , чтобы указать новую программу для задачи. (Изменить имя задачи нельзя.)

Чтобы изменить пароль учетной записи пользователя для задачи *реминдме* на удаленном компьютере *SVR01*, введите:

```
schtasks /change /tn RemindMe /s Svr01 /rp p@ssWord3
```

Эта процедура необходима при истечении срока действия пароля учетной записи пользователя или изменении. Если пароль, сохраненный в задаче, больше не является допустимым, задача не выполняется. Команда использует параметр **/TN** для определения задачи, а параметр **/s** — для указания удаленного компьютера. Для указания нового пароля используется параметр **/RP** *p@ssWord3* .

Чтобы изменить задачу Чкневс, которая начинается Notepad.exe каждого утра в 9:00 утра, чтобы запустить Internet Explorer, введите:

```
schtasks /change /tn ChkNews /tr c:\program files\Internet Explorer\iexplore.exe /ru DomainX\Admin01
```

Команда использует параметр **/TN** для задания задачи. Параметр **/tr** используется для изменения программы, выполняемой задачей, а параметр/ru — для изменения учетной записи пользователя, от имени которой выполняется задача. Параметры **/ru** и **/RP** , которые предоставляют пароль для учетной записи пользователя, не используются. Необходимо указать пароль для учетной записи, но можно использовать параметр **/ru** и **/RP** , ввести пароль в виде открытого текста или подождать, пока SchTasks.exe запросит пароль, а затем ввести пароль в скрытом тексте.

Чтобы изменить задачу Секуритискрипт, чтобы она выполнялась с разрешениями системной учетной записи, введите:

```
schtasks /change /tn SecurityScript /ru
```

Команда использует параметр **/ru** для указания системной учетной записи. Так как задачи выполняются с разрешениями системной учетной записи, пароль не требуется, SchTasks.exe не запрашивает его.

Чтобы добавить свойство "Интерактивное" в MyApp, существующую задачу, введите:

```
schtasks /change /tn MyApp /it
```

Это свойство гарантирует, что задача выполняется только в том случае, если пользователь с правами запуска от имени, то есть учетная запись пользователя, под которой выполняется задача, входит в систему на компьютере. Команда использует параметр **/TN** для задания задачи и параметра **/IT** для добавления интерактивного свойства в задачу. Так как задача уже выполняется с разрешениями учетной записи пользователя, вам не нужно изменять параметр **/ru** для задачи.

## <a name="additional-references"></a>Дополнительные ссылки

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)

- [команда Schtasks CREATE](schtasks-create.md)

- [команда Schtasks Delete](schtasks-delete.md)

- [команда Schtasks End](schtasks-end.md)

- [команда запроса SchTasks](schtasks-query.md)

- [команда Schtasks Run](schtasks-run.md)
