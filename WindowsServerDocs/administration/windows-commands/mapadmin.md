---
title: mapadmin
description: 'Раздел Windows команды для ****- '
ms.custom: na
ms.prod: windows-server
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: b17332c7-8622-4223-9c43-2fb9cf4d992d
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: fc4b76c1989298ea83c480b9c838ce0fc18fef5f
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/27/2019
ms.locfileid: "71373760"
---
# <a name="mapadmin"></a>mapadmin



**Мападмин** можно использовать для управления сопоставление имен пользователей служб Майкрософт для сетевой файловой системы.

## <a name="syntax"></a>Синтаксис
```
mapadmin [<computer>] [-u <user> [-p <password>]]
mapadmin [<computer>] [-u <user> [-p <password>]] {start | stop}
mapadmin [<computer>] [-u <user> [-p <password>]] config <option[...]>
mapadmin [<computer>] [-u <user> [-p <password>]] add -wu <WindowsUser> -uu <UNIXUser> [-setprimary]
mapadmin [<computer>] [-u <user> [-p <password>]] add -wg <WindowsGroup> -ug <UNIXGroup> [-setprimary]
mapadmin [<computer>] [-u <user> [-p <password>]] setprimary -wu <WindowsUser> [-uu <UNIXUser>]
mapadmin [<computer>] [-u <user> [-p <password>]] setprimary -wg <WindowsGroup> [-ug <UNIXGroup>]
mapadmin [<computer>] [-u <user> [-p <password>]] delete <option[...]>
mapadmin [<computer>] [-u <user> [-p <password>]] list <option[...]>
mapadmin [<computer>] [-u <user> [-p <password>]] backup <filename> 
mapadmin [<computer>] [-u <user> [-p <password>]] restore <filename>
mapadmin [<computer>] [-u <user> [-p <password>]] adddomainmap -d <WindowsDomain> {-y <<NISdomain>> | -f <path>}
mapadmin [<computer>] [-u <user> [-p <password>]] removedomainmap -d <WindowsDomain> -y <<NISdomain>>
mapadmin [<computer>] [-u <user> [-p <password>]] removedomainmap -all
mapadmin [<computer>] [-u <user> [-p <password>]] listdomainmaps
```

## <a name="description"></a>Описание
Служебная программа командной строки **мападмин** выполняет администрирование сопоставление имен пользователей на локальном или удаленном компьютере, на котором работают службы Майкрософт для сетевой файловой системы. Если вы вошли в систему с учетной записью, не имеющей учетных данных администратора, можно указать имя пользователя и пароль учетной записи, которая имеет значение.

В дополнение к указанным аргументам команды **мападмин** принимает следующие аргументы и параметры:

&lt;computer @ no__t-1 указывает удаленный компьютер, на котором запущена служба сопоставление имен пользователей, которую требуется администрировать. Можно указать компьютер, используя имя службы Windows Internet Name Service (WINS) или имя DNS или IP-адрес.

-u &lt;user @ no__t-1 указывает имя пользователя, учетные данные которого будут использоваться. Может потребоваться добавить доменное имя в имя пользователя в формате <em>домен</em> **\\** <em>имя пользователя</em>.

-p &lt;password @ no__t-1 указывает пароль пользователя. Если указать параметр **-u** , но опустить параметр **-p** , будет предложено ввести пароль пользователя.
Конкретное действие, выполняемое **мападмин** , зависит от указанного аргумента команды:

## <a name="parameters"></a>Параметры
### <a name="start"></a>start
запускает службу сопоставление имен пользователей.

### <a name="stop"></a>stop
Останавливает службу сопоставление имен пользователей.

### <a name="config"></a>файле
Задает общие параметры для сопоставление имен пользователей. С этим аргументом команды доступны следующие параметры: **-r &lt;dddd @ no__t-2: &lt;HH @ no__t-4: &lt;mm @ no__t-6** — указывает интервал обновления для обновлений из баз данных Windows и NIS в днях, часах и минутах. Минимальный интервал — 5 минут.
**-i {да | нет}** — включает простое сопоставление (**Да**) или выключено (**нет**). По умолчанию используется простое сопоставление.
**Добавить** — создает новое сопоставление для пользователя или группы. С этим аргументом команды доступны следующие параметры:

|Параметр|Определение|
|-----|-------|
|-Wu &lt;name @ no__t-1|Указывает имя пользователя Windows, для которого создается новое сопоставление.|
|-УУ &lt;name @ no__t-1|Указывает имя пользователя UNIX, для которого создается новое сопоставление.|
|-WG &lt;group @ no__t-1|Указывает имя группы Windows, для которой создается новое сопоставление.|
|-UG &lt;group @ no__t-1|Указывает имя группы UNIX, для которой создается новое сопоставление.|
|-сетпримари|Указывает, что новое сопоставление является первичным сопоставлением.|

**сетпримари** — указывает, какое сопоставление является основным сопоставлением для пользователя или группы UNIX с несколькими сопоставлениями. С этим аргументом команды доступны следующие параметры:

|Параметр|Определение|
|-----|-------|
|-Wu &lt;name @ no__t-1|Указывает пользователя Windows для основного сопоставления. Если для пользователя существует более одного сопоставления, используйте параметр **-УУ** , чтобы указать основное сопоставление.|
|-УУ &lt;name @ no__t-1|Указывает пользователя UNIX основного сопоставления.|
|-WG &lt;group @ no__t-1|Задает группу Windows для основного сопоставления. Если для группы существует несколько сопоставлений, используйте параметр **-UG** , чтобы указать основное сопоставление.|
|-UG &lt;group @ no__t-1|Указывает группу UNIX основного сопоставления.|

**Удалить** — удаляет сопоставление для пользователя или группы. Для этого аргумента команды доступны следующие параметры:

|Параметр|Определение|
|-----|-------|
|-Wu &lt;user @ no__t-1|Пользователь Windows, для которого будет удалено сопоставление, заданное как &lt;*WindowsDomain @ no__t-2 @ no__t-3 @ no__t-4User Name @ no__t-5*. Необходимо указать параметр **-Wu** или **-УУ** . Если заданы оба параметра, то определенное сопоставление, определяемое двумя параметрами, будет удалено. Если указан только параметр **-Wu** , все сопоставления для указанного пользователя будут удалены.|
|-WG &lt;group @ no__t-1|Группа Windows, для которой будет удалено сопоставление, указанная как &lt;WindowsDomain @ no__t-1 @ no__t-2 @ no__t-3groupname @ no__t-4. Необходимо указать параметр **-WG** или **-UG** . Если заданы оба параметра, то определенное сопоставление, определяемое двумя параметрами, будет удалено. Если указать только параметр **-WG** , все сопоставления для указанной группы будут удалены.|
|-УУ &lt;user @ no__t-1|Пользователь UNIX, для которого будет удалено сопоставление, указывается как &lt;User Name @ no__t-1. Необходимо указать параметр **-Wu** или **-УУ** . Если заданы оба параметра, то определенное сопоставление, определяемое двумя параметрами, будет удалено. Если указать только параметр **-УУ** , все сопоставления для указанного пользователя будут удалены.|
|-UG &lt;group @ no__t-1|Группа UNIX, для которой будет удалено сопоставление, указанное как &lt;groupname @ no__t-1. Необходимо указать параметр **-WG** или **-UG** . Если заданы оба параметра, то определенное сопоставление, определяемое двумя параметрами, будет удалено. Если указать только параметр **-UG** , все сопоставления для указанной группы будут удалены.|

**список** — отображает сведения о сопоставлениях пользователей и групп. С этим аргументом команды доступны следующие параметры:

|Параметр|Определение|
|-----|-------|
|все|содержит как простые, так и расширенные сопоставления для пользователей и групп.|
|-Simple|Список всех простых сопоставленных пользователей и групп.|
|-Дополнительно|Список всех расширенных сопоставленных пользователей и групп. Карты перечислены в том порядке, в котором они оцениваются. Первичные карты, отмеченные звездочкой (*), перечислены первыми, за которыми следуют вторичные карты, помеченные карата (^).|
|-Wu &lt;name @ no__t-1|Выводит список сопоставлений для указанного пользователя Windows.|
|-WG &lt;group @ no__t-1|список сопоставлений для группы Windows.|
|-УУ &lt;name @ no__t-1|Выводит список сопоставлений для пользователя UNIX.|
|-UG &lt;group @ no__t-1|список сопоставлений для группы UNIX.|

**BACKUP** — сохраняет конфигурацию сопоставление имен пользователей и сопоставляет данные с файлом, заданным параметром &lt;filename @ no__t-2.
**RESTORE** — замена конфигурации и сопоставление данных из файла (указанного параметром &lt;filename @ no__t-2), созданного с помощью аргумента команды **BACKUP** .
**адддомаинмап** — добавляет простое сопоставление между доменом Windows и доменом NIS или файлами паролей и групп. Для этого аргумента команды доступны следующие параметры:

|Параметр|Определение|
|-----|-------|
|-d &lt;WindowsDomain @ no__t-1|Указывает домен Windows для сопоставления.|
|-y &lt;NISdomain @ no__t-1|Указывает домен NIS для сопоставления. &lt;BR/&gt; @ no__t-2BR/&gt; **-n** &lt;nisServer @ no__t-6 указывает сервер NIS для домена NIS, указанного с помощью параметра **-y** .|
|-f &lt;path @ no__t-1|Указывает полный путь к каталогу, содержащему сопоставляемые файлы паролей и групп. Файлы должны находиться на управляемом компьютере, и вы не можете использовать **мападмин** для управления удаленным компьютером, чтобы настроить карты на основе файлов паролей и групп.|

**ремоведомаинмап** — удаляет простое сопоставление между доменом Windows и NIS-доменом. Для этого аргумента команды доступны следующие параметры и аргумент:

|Параметр|Определение|
|-----|-------|
|-d &lt;WindowsDomain @ no__t-1|Указывает домен Windows для удаляемой таблицы.|
|-y &lt;NISdomain @ no__t-1|Указывает домен NIS удаляемой таблицы.|
|все|Указывает, что необходимо удалить все простые карты между доменами Windows и NIS. Это также приведет к удалению любой простой схемы между доменом Windows и файлами паролей и групп.|

**листдомаинмапс** — список доменов Windows, сопоставленных с NIS-доменами или файлами паролей и групп.

## <a name="notes"></a>Примечания
-   Если не указать аргумент команды, **мападмин** отображает текущие параметры для сопоставление имен пользователей.
-   для всех параметров, в которых указывается имя пользователя или группы, можно использовать следующие форматы:
-   для пользователей Windows используйте форму &lt;domain @ no__t-1 @ no__t-2 @ no__t-3user Name @ no__t-4, \\ @ no__t-6 @ no__t-7computer @ no__t-8 @ no__t-9 @ no__t-10user Name @ no__t-11, &gt;2 @ no__t-13computer @ no__t-14 @ no__t – 15 @ no__t-16user Name @ no__ t-17 или 8computer @ no__t-19 @ no__t-20 @ no__t-21user Name @ no__t-22
-   для групп Windows используйте форму &lt;domain @ no__t-1 @ no__t-2 @ no__t-3 @ no__t-4groupname @ no__t-5 @ no__t-6, \\ @ no__t-8 @ no__t-9computer @ no__t-10 @ no__t-11 @-no__t @ no__t-13groupname @ no__t-14 @ no__t-15, &gt;6 @ no__t _T-18 @ no__t-19 @ no__t-20 @ no__t-21groupname @ no__t-22 @ no__t-23 или \\4computer @ no__t-25 @ no__t-26 @ no__t-27 @ no__t-28groupname @ no__t-29 @ no__t-30
-   для пользователей UNIX используйте форму &lt;NISdomain @ no__t-1 @ no__t-2 @ no__t-3user Name @ no__t-4, &lt;user Name @ no__t-6 @ no__t-7 @ no__t-8NISdomain @ no__t-9, User &gt;0name @ no__t-11 @ no__t-12, или ПКНФС @ no__t-13 @ no__t-14user Name @ no__t-15
-   для групп UNIX используйте форму &lt;NISdomain @ no__t-1 @ no__t-2 @ no__t-3groupname @ no__t-4, &lt;groupname @ no__t-6 @ no__t-7 @ no__t-8NISdomain @ no__t-9, &gt;0groupname @ no__t-11 @ no__t-12 или ПКНФС @ no__t-13 @ no__t-14groupname @ no__t-15

## <a name="additional-references"></a>Дополнительные ссылки
[Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)
