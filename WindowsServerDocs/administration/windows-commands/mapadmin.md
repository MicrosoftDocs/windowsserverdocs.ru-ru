---
title: mapadmin
description: Справочный раздел по * * * *-
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: b17332c7-8622-4223-9c43-2fb9cf4d992d
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 19975f6f4e0e49cf55e4e80f6566f8596d6d33d8
ms.sourcegitcommit: ab64dc83fca28039416c26226815502d0193500c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/01/2020
ms.locfileid: "82724025"
---
# <a name="mapadmin"></a>mapadmin



**Мападмин** можно использовать для управления сопоставление имен пользователей служб Майкрософт для сетевой файловой системы.

## <a name="syntax"></a>Синтаксис
```
mapadmin [<computer>] [-u <user> [-p <password>]]
mapadmin [<computer>] [-u <user> [-p <password>]] {start | stop}
mapadmin [<computer>] [-u <user> [-p <password>]] config <option[...]>
mapadmin [<computer>] [-u <user> [-p <password>]] add -wu <WindowsUser> -uu <UNIXUser> [-setprimary]
mapadmin [<computer>] [-u <user> [-p <password>]] add -wg <WindowsGroup> -ug <UNIXGroup> [-setprimary]
mapadmin [<computer>] [-u <user> [-p <password>]] setprimary -wu <WindowsUser> [-uu <UNIXUser>]
mapadmin [<computer>] [-u <user> [-p <password>]] setprimary -wg <WindowsGroup> [-ug <UNIXGroup>]
mapadmin [<computer>] [-u <user> [-p <password>]] delete <option[...]>
mapadmin [<computer>] [-u <user> [-p <password>]] list <option[...]>
mapadmin [<computer>] [-u <user> [-p <password>]] backup <filename> 
mapadmin [<computer>] [-u <user> [-p <password>]] restore <filename>
mapadmin [<computer>] [-u <user> [-p <password>]] adddomainmap -d <WindowsDomain> {-y <<NISdomain>> | -f <path>}
mapadmin [<computer>] [-u <user> [-p <password>]] removedomainmap -d <WindowsDomain> -y <<NISdomain>>
mapadmin [<computer>] [-u <user> [-p <password>]] removedomainmap -all
mapadmin [<computer>] [-u <user> [-p <password>]] listdomainmaps
```

## <a name="description"></a>Описание
Служебная программа командной строки **мападмин** выполняет администрирование сопоставление имен пользователей на локальном или удаленном компьютере, на котором работают службы Майкрософт для сетевой файловой системы. Если вы вошли в систему с учетной записью, не имеющей учетных данных администратора, можно указать имя пользователя и пароль учетной записи, которая имеет значение.

В дополнение к указанным аргументам команды **мападмин** принимает следующие аргументы и параметры:

&lt;компьютер&gt; указывает удаленный компьютер, на котором запущена служба сопоставление имен пользователей, которую требуется администрировать. Можно указать компьютер, используя имя службы Windows Internet Name Service (WINS) или имя DNS или IP-адрес.

-u &lt;пользователь&gt; указывает имя пользователя, учетные данные которого будут использоваться. Может потребоваться добавить доменное имя в имя пользователя в формате <em>домен</em>**\\**<em>имя пользователя</em>.

-p &lt;пароль&gt; указывает пароль пользователя. Если указать параметр **-u** , но опустить параметр **-p** , будет предложено ввести пароль пользователя.
Конкретное действие, выполняемое **мападмин** , зависит от указанного аргумента команды:

### <a name="parameters"></a>Параметры
### <a name="start"></a>start
запускает службу сопоставление имен пользователей.

### <a name="stop"></a>stop
Останавливает службу сопоставление имен пользователей.

### <a name="config"></a>config
Задает общие параметры для сопоставление имен пользователей. С этим аргументом команды доступны следующие параметры: **-r &lt;dddd&gt;:&lt;чч&gt;:&lt;мм&gt; ** — указывает интервал обновления для баз данных Windows и NIS в днях, часах и минутах. Минимальный интервал — 5 минут.
**-i {да | нет}** — включает простое сопоставление (**Да**) или выключено (**нет**). По умолчанию используется простое сопоставление.
**Добавить** — создает новое сопоставление для пользователя или группы. С этим аргументом команды доступны следующие параметры:

|Параметр|Определение|
|-----|-------|
|-Wu &lt;имя&gt;|Указывает имя пользователя Windows, для которого создается новое сопоставление.|
|-УУ &lt;имя&gt;|Указывает имя пользователя UNIX, для которого создается новое сопоставление.|
|-WG &lt;группа&gt;|Указывает имя группы Windows, для которой создается новое сопоставление.|
|-UG &lt;группа&gt;|Указывает имя группы UNIX, для которой создается новое сопоставление.|
|-сетпримари|Указывает, что новое сопоставление является первичным сопоставлением.|

**сетпримари** — указывает, какое сопоставление является основным сопоставлением для пользователя или группы UNIX с несколькими сопоставлениями. С этим аргументом команды доступны следующие параметры:

|Параметр|Определение|
|-----|-------|
|-Wu &lt;имя&gt;|Указывает пользователя Windows для основного сопоставления. Если для пользователя существует более одного сопоставления, используйте параметр **-УУ** , чтобы указать основное сопоставление.|
|-УУ &lt;имя&gt;|Указывает пользователя UNIX основного сопоставления.|
|-WG &lt;группа&gt;|Задает группу Windows для основного сопоставления. Если для группы существует несколько сопоставлений, используйте параметр **-UG** , чтобы указать основное сопоставление.|
|-UG &lt;группа&gt;|Указывает группу UNIX основного сопоставления.|

**Удалить** — удаляет сопоставление для пользователя или группы. Для этого аргумента команды доступны следующие параметры:

|Параметр|Определение|
|-----|-------|
|-Wu &lt;пользователь&gt;|Пользователь Windows, для которого будет удалено сопоставление, указанное как &lt; *&gt;\\&lt;&gt;имя пользователя WindowsDomain*. Необходимо указать параметр **-Wu** или **-УУ** . Если заданы оба параметра, то определенное сопоставление, определяемое двумя параметрами, будет удалено. Если указан только параметр **-Wu** , все сопоставления для указанного пользователя будут удалены.|
|-WG &lt;группа&gt;|Группа Windows, для которой будет &lt;удалено сопоставление, указанное как WindowsDomain&gt;\\&lt;GroupName.&gt; Необходимо указать параметр **-WG** или **-UG** . Если заданы оба параметра, то определенное сопоставление, определяемое двумя параметрами, будет удалено. Если указать только параметр **-WG** , все сопоставления для указанной группы будут удалены.|
|-УУ &lt;пользователь&gt;|Пользователь UNIX, для которого будет удалено сопоставление, указанное в качестве &lt;имени&gt;пользователя. Необходимо указать параметр **-Wu** или **-УУ** . Если заданы оба параметра, то определенное сопоставление, определяемое двумя параметрами, будет удалено. Если указать только параметр **-УУ** , все сопоставления для указанного пользователя будут удалены.|
|-UG &lt;группа&gt;|Группа UNIX, для которой будет удалено сопоставление, указанное как &lt;GroupName.&gt; Необходимо указать параметр **-WG** или **-UG** . Если заданы оба параметра, то определенное сопоставление, определяемое двумя параметрами, будет удалено. Если указать только параметр **-UG** , все сопоставления для указанной группы будут удалены.|

**список** — отображает сведения о сопоставлениях пользователей и групп. С этим аргументом команды доступны следующие параметры:

|Параметр|Определение|
|-----|-------|
|все|содержит как простые, так и расширенные сопоставления для пользователей и групп.|
|-Simple|Список всех простых сопоставленных пользователей и групп.|
|-Дополнительно|Список всех расширенных сопоставленных пользователей и групп. Карты перечислены в том порядке, в котором они оцениваются. Первичные карты, отмеченные звездочкой (*), перечислены первыми, за которыми следуют вторичные карты, помеченные карата (^).|
|-Wu &lt;имя&gt;|Выводит список сопоставлений для указанного пользователя Windows.|
|-WG &lt;группа&gt;|список сопоставлений для группы Windows.|
|-УУ &lt;имя&gt;|Выводит список сопоставлений для пользователя UNIX.|
|-UG &lt;группа&gt;|список сопоставлений для группы UNIX.|

**резервное копирование** . сохраняет конфигурацию сопоставление имен пользователей и сопоставляет данные с файлом, &lt;указанным&gt;в параметре filename.
**RESTORE** — заменяет конфигурацию и сопоставление данных из файла (указанного &lt;именем файла&gt;), который был создан с помощью аргумента команды **BACKUP** .
**адддомаинмап** — добавляет простое сопоставление между доменом Windows и доменом NIS или файлами паролей и групп. Для этого аргумента команды доступны следующие параметры:

|Параметр|Определение|
|-----|-------|
|-d &lt;WindowsDomain&gt;|Указывает домен Windows для сопоставления.|
|-y &lt;нисдомаин&gt;|Указывает домен NIS для сопоставления. &lt;BR/&gt;&lt;BR/&gt;**-n** &lt;ниссервер&gt; указывает NIS-сервер для домена NIS, указанный с помощью параметра **-y** .|
|-f &lt;путь&gt;|Указывает полный путь к каталогу, содержащему сопоставляемые файлы паролей и групп. Файлы должны находиться на управляемом компьютере, и вы не можете использовать **мападмин** для управления удаленным компьютером, чтобы настроить карты на основе файлов паролей и групп.|

**ремоведомаинмап** — удаляет простое сопоставление между доменом Windows и NIS-доменом. Для этого аргумента команды доступны следующие параметры и аргумент:

|Параметр|Определение|
|-----|-------|
|-d &lt;WindowsDomain&gt;|Указывает домен Windows для удаляемой таблицы.|
|-y &lt;нисдомаин&gt;|Указывает домен NIS удаляемой таблицы.|
|все|Указывает, что необходимо удалить все простые карты между доменами Windows и NIS. Это также приведет к удалению любой простой схемы между доменом Windows и файлами паролей и групп.|

**листдомаинмапс** — список доменов Windows, сопоставленных с NIS-доменами или файлами паролей и групп.

## <a name="notes"></a>Примечания
-   Если не указать аргумент команды, **мападмин** отображает текущие параметры для сопоставление имен пользователей.
-   для всех параметров, в которых указывается имя пользователя или группы, можно использовать следующие форматы:
-   для &lt;пользователей Windows используйте форму домен&gt;\\&lt;имя&gt; \\ \\ &lt; &lt;&gt;\\&lt;&gt;\\пользователя,&lt;имя&gt; \\пользователя компьютера&gt;, имя пользователя компьютера или &lt;имя пользователя компьютера.&lt;&gt;\\&gt;
-   для &lt;групп Windows используйте формат домен&gt;\\&lt;&lt;имя_группы&gt;&gt;, \\ \\ \\компьютер &lt;имя_группы, компьютер&gt;имя_группы или компьютер&lt;GroupName.\\ &lt;&gt;&gt;&gt;\\&lt;&gt;&gt;&gt;\\ &lt;&lt;&lt;&lt;&lt;&gt;&gt;
-   для пользователей UNIX используйте форму &lt;нисдомаин&gt;\\&lt;имя&gt;пользователя, &lt;имя&gt;@&lt;пользователя нисдомаин&gt;, имя &lt;&gt;@PCNFSпользователя или пкнфс\\&lt;имя пользователя.&gt;
-   для групп UNIX используйте форму &lt;нисдомаин&gt;\\&lt;GroupName&gt;, &lt;имя_группы&gt;@&lt;нисдомаин&gt;, &lt;GroupName&gt;@PCNFSили пкнфс\\&lt;GroupName.&gt;

## <a name="additional-references"></a>Дополнительные ссылки
- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)
