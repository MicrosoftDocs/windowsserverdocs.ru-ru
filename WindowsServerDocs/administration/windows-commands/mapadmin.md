---
title: mapadmin
description: 'Раздел Windows команды для ***- '
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: b17332c7-8622-4223-9c43-2fb9cf4d992d
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 007256fffde11899d930c9197cade6d3bf9be42c
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59868785"
---
# <a name="mapadmin"></a>mapadmin



Можно использовать **Mapadmin** для управления сопоставления имен пользователей для служб Майкрософт для сетевой файловой системы.

## <a name="syntax"></a>Синтаксис
```
mapadmin [<computer>] [-u <user> [-p <password>]]
mapadmin [<computer>] [-u <user> [-p <password>]] {start | stop}
mapadmin [<computer>] [-u <user> [-p <password>]] config <option[...]>
mapadmin [<computer>] [-u <user> [-p <password>]] add -wu <WindowsUser> -uu <UNIXUser> [-setprimary]
mapadmin [<computer>] [-u <user> [-p <password>]] add -wg <WindowsGroup> -ug <UNIXGroup> [-setprimary]
mapadmin [<computer>] [-u <user> [-p <password>]] setprimary -wu <WindowsUser> [-uu <UNIXUser>]
mapadmin [<computer>] [-u <user> [-p <password>]] setprimary -wg <WindowsGroup> [-ug <UNIXGroup>]
mapadmin [<computer>] [-u <user> [-p <password>]] delete <option[...]>
mapadmin [<computer>] [-u <user> [-p <password>]] list <option[...]>
mapadmin [<computer>] [-u <user> [-p <password>]] backup <filename> 
mapadmin [<computer>] [-u <user> [-p <password>]] restore <filename>
mapadmin [<computer>] [-u <user> [-p <password>]] adddomainmap -d <WindowsDomain> {-y <<NISdomain>> | -f <path>}
mapadmin [<computer>] [-u <user> [-p <password>]] removedomainmap -d <WindowsDomain> -y <<NISdomain>>
mapadmin [<computer>] [-u <user> [-p <password>]] removedomainmap -all
mapadmin [<computer>] [-u <user> [-p <password>]] listdomainmaps
```

## <a name="description"></a>Описание
**Mapadmin** программы командной строки администрирует сопоставления имен пользователей на локальном или удаленном компьютере со службами Майкрософт для сетевой файловой системы. Если вы вошли под учетной записью, не поддерживает учетные данные администратора, можно указать имя пользователя и пароль учетной записи с нужными.

Помимо указанных аргументов **mapadmin** принимает следующие аргументы и параметры:

&lt;компьютер&gt; указывает службы сопоставления имен пользователей, которые вы хотите администрировать удаленный компьютер. Можно указать компьютер, используя имя службы имя Windows Internet (WINS) или имя системы доменных имен (DNS), или адреса, протокола Интернета (IP).

-u &lt;пользователя&gt; указывает имя пользователя, учетные данные которого будут использоваться. Возможно, необходимо добавить имя домена имя пользователя в форме *домена***\\***имя пользователя*.

-p &lt;пароль&gt; указывает пароль пользователя. Если указать **-u** параметр, но не указывается **-p** параметр запросит пароль пользователя.
Определенное действие, **mapadmin** выполняет зависит от указанного аргумента команды:

## <a name="parameters"></a>Параметры
### <a name="start"></a>start
для запуска службы сопоставления имен пользователей.

### <a name="stop"></a>stop
Останавливает службу сопоставления имен пользователей.

### <a name="config"></a>конфигурации
Задает Общие параметры для сопоставления имен пользователей. С помощью этого аргумента команды доступны следующие параметры: **- r &lt;dddd&gt;:&lt;hh&gt;:&lt;мм&gt;**  -указывает интервал обновления для обновление от Windows и NIS баз данных в днях, часах и минутах. Минимальный интервал составляет 5 минут.
**-i {yes | не}** -включает простое сопоставление (**Да**) или выключается (**не**). По умолчанию простое сопоставление включен.
**Добавление** -создает новое сопоставление для пользователя или группы. С помощью этого аргумента команды доступны следующие параметры:

|Параметр|Определение|
|-----|-------|
|-wu &lt;имя&gt;|Указывает имя пользователя Windows, для которого создается новое сопоставление.|
|-uu &lt;имя&gt;|Указывает имя пользователя UNIX, для которого создается новое сопоставление.|
|-wg &lt;группы&gt;|Указывает имя группы Windows, для которого создается новое сопоставление.|
|-ug &lt;группы&gt;|Указывает имя группы UNIX, для которого создается новое сопоставление.|
|-setprimary|Указывает, что новое сопоставление первичного сопоставление.|

**setprimary** -указывает, какие сопоставление является сопоставлением основной для UNIX пользователя или группы с несколько сопоставлений. С помощью этого аргумента команды доступны следующие параметры:

|Параметр|Определение|
|-----|-------|
|-wu &lt;имя&gt;|Указывает основной сопоставления пользователя Windows. Если существует более одного сопоставления для пользователя, используйте **- uu** параметр, чтобы указать основной сопоставление.|
|-uu &lt;имя&gt;|Указывает пользователя UNIX основной сопоставления.|
|-wg &lt;группы&gt;|Указывает группу Windows основной сопоставления. Если существует несколько соответствий для группы, используйте **- ug** параметр, чтобы указать основной сопоставление.|
|-ug &lt;группы&gt;|Указывает группу UNIX основной сопоставления.|

**Удалить** -удаляет отображение для пользователя или группы. Для этого аргумента команды доступны следующие параметры:

|Параметр|Определение|
|-----|-------|
|-wu &lt;user&gt;|Пользователь Windows, для которого сопоставления будут удалены, заданный как &lt; *WindowsDomain&gt;\\&lt;имя пользователя&gt;*. Необходимо указать либо **- wu** или **- uu** параметр или оба. Если указать оба параметра, определенного сопоставление определяется два типа будут удалены. Если указать только **- wu** параметр, все сопоставления для указанного пользователя будут удалены.|
|-wg &lt;группы&gt;|Группы Windows, для которого сопоставления будут удалены, заданный как &lt;WindowsDomain&gt;\\&lt;groupname&gt;. Необходимо указать либо **- wg** или **- ug** параметр или оба. Если указать оба параметра, определенного сопоставление определяется два типа будут удалены. Если указать только **- wg** параметр, все сопоставления для указанной группы будут удалены.|
|-uu &lt;пользователя&gt;|Пользователей UNIX, для которого сопоставления будут удалены, заданный как &lt;имя пользователя&gt;. Необходимо указать либо **- wu** или **- uu** параметр или оба. Если указать оба параметра, определенного сопоставление определяется два типа будут удалены. Если указать только **- uu** параметр, все сопоставления для указанного пользователя будут удалены.|
|-ug &lt;группы&gt;|Группа UNIX, для которого сопоставления будут удалены, заданный как &lt;groupname&gt;. Необходимо указать либо **- wg** или **- ug** параметр или оба. Если указать оба параметра, определенного сопоставление определяется два типа будут удалены. Если указать только **- ug** параметр, все сопоставления для указанной группы будут удалены.|

**список** -отображает сведения о сопоставлении пользователей и групп. С помощью этого аргумента команды доступны следующие параметры:

|Параметр|Определение|
|-----|-------|
|-все|перечислены простые и расширенные сопоставления для пользователей и групп.|
|-простой|список всех простых сопоставленных пользователей и групп.|
|-Дополнительно|список всех дополнительных сопоставленных пользователей и групп. Сопоставления указаны в порядке, в котором они вычисляются. Основной сопоставления, отмеченные звездочкой (*), указаны во-первых, следуют вторичной карт, которые будут отмечены карет (^).|
|-wu &lt;имя&gt;|приводится список сопоставлений для указанного пользователя Windows.|
|-wg &lt;группы&gt;|приводится список сопоставлений для группы Windows.|
|-uu &lt;имя&gt;|приводится список сопоставлений для пользователей UNIX.|
|-ug &lt;группы&gt;|приводится список сопоставлений для группы UNIX.|

**резервного копирования** — имя пользователя сохраняет сопоставление конфигурации и сопоставления данных в файл, указанный &lt;filename&gt;.
**восстановление** -заменяет конфигурации и сопоставления данных данные из файла (определяется &lt;filename&gt;), созданный с помощью **резервного копирования** аргумент команды.
**adddomainmap** -добавляет простое сопоставление между доменом Windows и NIS-домена "или" пароль "и" группы файлов. Для этого аргумента команды доступны следующие параметры:

|Параметр|Определение|
|-----|-------|
|-d &lt;WindowsDomain&gt;|Домен Windows должны быть сопоставлены.|
|-y &lt;указанную&gt;|Указывает домен NIS должны быть сопоставлены. &lt;br /&gt;&lt;br /&gt;**- n** &lt;nisServer&gt; указывает NIS-сервер для NIS домена, заданное с помощью **- y**параметр.|
|-f &lt;path&gt;|Указывает полный путь к каталогу, содержащему файлы паролей и групп должны быть сопоставлены. Файлы должны располагаться на управляемом компьютере, и вы не можете использовать **mapadmin** для администрирования удаленного компьютера для установки карт на основе паролей и групп файлов.|

**removedomainmap** -удаляет простую карту между доменом Windows и домен NIS. Для этого аргумента команды доступны следующие параметры и аргументы:

|Параметр|Определение|
|-----|-------|
|-d &lt;WindowsDomain&gt;|Домен Windows карты для удаления.|
|-y &lt;указанную&gt;|Указывает домен NIS карты для удаления.|
|-все|Указывает, что все простые сопоставления между доменами Windows и NIS будут удалены. Это приведет к удалению любой простой схемы между файлами, домена и пароля, а также группы Windows.|

**listdomainmaps** -список доменов Windows, которые сопоставляются с доменами NIS или файлы паролей и групп.

## <a name="notes"></a>Примечания
-   Если вы не укажете аргумент команды, **mapadmin** отображает текущие параметры для сопоставления имен пользователей.
-   для всех параметров, которые указывают имя пользователя или группы можно использовать следующие форматы:
-   для пользователей Windows, используйте форму &lt;домена&gt;\\&lt;имя пользователя&gt;, \\ \\ &lt;компьютера&gt;\\&lt;пользователя имя&gt;, \\ &lt;компьютера&gt;\\&lt;имя пользователя&gt;, или &lt;компьютера&gt;\\&lt;пользователя Имя&gt;
-   для групп Windows, используйте форму &lt;домена&gt;\\&lt;&lt;groupname&gt;&gt;, \\ \\ &lt;компьютера&gt; \\ &lt; &lt;groupname&gt;&gt;, \\ &lt;компьютера&gt;\\&lt;&lt;groupname&gt; &gt;, или &lt;компьютера&gt;\\&lt;&lt;groupname&gt;&gt;
-   для пользователей UNIX, используйте форму &lt;указанную&gt;\\&lt;имя пользователя&gt;, &lt;имя пользователя&gt;@&lt;указанную&gt;, пользователь &lt;имя&gt;@PCNFS, или PCNFS\\&lt;имя пользователя&gt;
-   для групп UNIX, используйте форму &lt;указанную&gt;\\&lt;groupname&gt;, &lt;groupname&gt;@&lt;указанную&gt;, &lt;groupname&gt;@PCNFS, или PCNFS\\&lt;groupname&gt;

## <a name="additional-references"></a>Дополнительные ссылки
[Ключ синтаксиса командной строки](command-line-syntax-key.md)
