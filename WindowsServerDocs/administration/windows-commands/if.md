---
title: if
description: 'Раздел Windows команды для ***- '
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 698b3fb9-532b-4c2b-af7f-179f8dc57131
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 2fafd14b0b620a8b5630c869e33c5dbc7cd902f1
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59869235"
---
# <a name="if"></a>if



Выполняет условную обработку в пакетном.

В разделе [Примеры](#BKMK_examples) показан принцип использования этой команды.

## <a name="syntax"></a>Синтаксис

```
if [not] ERRORLEVEL <Number> <Command> [else <Expression>]
if [not] <String1>==<String2> <Command> [else <Expression>]
if [not] exist <FileName> <Command> [else <Expression>]
```
Если включены расширения команд, используйте следующий синтаксис:
```
if [/i] <String1> <CompareOp> <String2> <Command> [else <Expression>]
if cmdextversion <Number> <Command> [else <Expression>]
if defined <Variable> <Command> [else <Expression>]
```

## <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------|-----------|
|not|Указывает, что команда должна выполняться только в том случае, если условие имеет значение false.|
|ERRORLEVEL \<номер >|Условие выполняется, только в том случае, если предыдущая программа Cmd.exe, записав вернула код выхода равен или больше, чем *номер*.|
|\<Команда >|Указывает команду, должно быть выполнено, если условие выполняется.|
|\<String1 > ==<String2>|Указывает условие значение true только в том случае, если *String1* и *String2* одинаковы. Эти значения могут быть строковые литералы или переменные пакетной службы (например, %1). Необходимо заключить в кавычки строковых литералов.|
|существует \<имя файла >|Условие значение true, если указанный файл существует.|
|\<Оп_сравнения >|Указывает оператор сравнения трех букв. Приведенный ниже список содержит допустимые значения для *Оп_сравнения*:</br>**РАВНО** равным</br>**NEQ** не равно</br>**Продавцом** меньше, чем</br>**LEQ** меньше или равно</br>**GTR** больше</br>**GEQ** больше или равно|
|/i|Сравнение не учитывает регистр строк.  Можно использовать **/i** на *String1***==*** String2* форме **Если**. Эти сравнения являются универсальными, тем, что если оба *String1* и *String2* состоят из цифр, строки преобразуются в числа, и выполняется числового сравнения.|
|CMDEXTVERSION \<номер >|Указывает внутренний номер версии связанные с расширения команды, которые особенностью Cmd.exe равен или больше, чем число, указанное условие значение true только в том случае, если. Первая версия является 1. При добавлении расширения команд значительные улучшения, оно увеличивается с шагом в один. **Cmdextversion** conditional никогда не true при команды расширения отключены (по умолчанию, команда расширения включены).|
|определенные \<переменной >|Условие выполняется, если *переменной* определен.|
|\<выражение >|Указывает команды командной строки и все параметры, передаваемые в команду **else** предложение.|
|/?|Отображение справки в командной строке.|

## <a name="remarks"></a>Примечания

-   Если условие, заданное в **Если** предложение имеет значение true, выполняется команда, следующая за условием. Если условие равно false, команда в **Если** предложение игнорируется, и команда выполняет любую команду, которая указана в **else** предложение.
-   Когда программа завершается, она возвращает код выхода. Для использования в качестве условий коды завершения, используйте **errorlevel**.
-   При использовании **определенные**, добавляются следующие три переменные среды: **% errorlevel %**, **% cmdcmdline %**, и **cmdextversion %**.  
    -   **% errorlevel %** разворачивается в строковое представление текущего значения переменной среды ERRORLEVEL. Это предполагает, что не переменную среды с именем ERRORLEVEL, если нет, вы получите это значение ERRORLEVEL вместо этого.
    -   **% cmdcmdline %** исходной командной строкой, которое было передано Cmd.exe перед началом обработки с помощью Cmd.exe. Это предполагает, что не переменную среды с именем CMDCMDLINE — Если нет, вы получите значение CMDCMDLINE вместо этого.
    -   **% cmdextversion %** разворачивается в строковое представление текущего значения **cmdextversion**. Это предполагает, что не переменную среды с именем CMDEXTVERSION — Если нет, вы получите значение CMDEXTVERSION вместо этого.
-   Необходимо использовать **else** предложение в той же строке, что и команды после **Если**.

## <a name="BKMK_examples"></a>Примеры

Для отображения сообщения «Не удается найти файл данных» Если Product.dat не удается найти файл, введите:
```
if not exist product.dat echo Cannot find data file 
```
Чтобы отформатировать диск в дисководе A и отобразить сообщение об ошибке, если произошла ошибка в процессе форматирования, введите следующие команды в пакетном файле:
```
:begin
@echo off
format a: /s
if not errorlevel 1 goto end
echo An error occurred during formatting.
:end
echo End of batch program.
```
Чтобы удалить файл Product.dat из текущего каталога или отобразить сообщение, если не найден Product.dat, введите следующие команды в пакетном файле:
```
IF EXIST Product.dat (
del Product.dat
) ELSE (
echo The Product.dat file is missing.
)
```

> [!NOTE]
> Эти строки могут быть объединены в одну строку следующим образом:
```
IF EXIST Product.dat (del Product.dat) ELSE (echo The Product.dat file is missing.)
```
Чтобы вывести значение переменной среды ERRORLEVEL после запуска пакетного файла, введите следующие команды в пакетном файле:
```
goto answer%errorlevel%
:answer1
echo Program had return code 1
:answer0
echo Program had return code 0
goto end
:end
echo Done! 
```
Для перехода к метке «допустимо», если значение переменной среды ERRORLEVEL меньше или равно 1, тип:
```
if %errorlevel% LEQ 1 goto okay
```

#### <a name="additional-references"></a>Дополнительная справка

[Ключ синтаксиса командной строки](command-line-syntax-key.md)

[If](if.md)

[Оператор GoTo](goto.md)