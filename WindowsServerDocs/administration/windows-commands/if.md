---
title: if
description: Справочный раздел по * * * *-
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: 698b3fb9-532b-4c2b-af7f-179f8dc57131
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: e56624a5c82caefdf7cc51c7a84f67882756e274
ms.sourcegitcommit: ab64dc83fca28039416c26226815502d0193500c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/01/2020
ms.locfileid: "82724860"
---
# <a name="if"></a>if



Выполняет условную обработку в пакетных программах.



## <a name="syntax"></a>Синтаксис

```
if [not] ERRORLEVEL <Number> <Command> [else <Expression>]
if [not] <String1>==<String2> <Command> [else <Expression>]
if [not] exist <FileName> <Command> [else <Expression>]
```
Если расширения команд включены, используйте следующий синтаксис:
```
if [/i] <String1> <CompareOp> <String2> <Command> [else <Expression>]
if cmdextversion <Number> <Command> [else <Expression>]
if defined <Variable> <Command> [else <Expression>]
```

### <a name="parameters"></a>Параметры

|        Параметр        |                                                                                                                                                                                                                Описание                                                                                                                                                                                                                 |
|-------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           not           |                                                                                                                                                                              Указывает, что команда должна выполняться, только если условие имеет значение false.                                                                                                                                                                              |
|  число \<ERRORLEVEL>   |                                                                                                                                                      Задает истинное условие, только если предыдущая программа, запущенная программой cmd. exe, вернула код выхода, который равен или больше этого *числа*.                                                                                                                                                       |
|       \<Командная>        |                                                                                                                                                                            Указывает команду, которая должна быть выполнена при выполнении предыдущего условия.                                                                                                                                                                             |
|  \<Строка1>= =<String2>  |                                                                                                             Задает истинное условие, только если *строка1* и *строка2* совпадают. Эти значения могут быть строками литерала или пакетными переменными (например, %1). Литеральные строки не нужно заключать в кавычки.                                                                                                              |
|    Exists \<filename>    |                                                                                                                                                                                       Указывает истинное условие, если указанное имя файла существует.                                                                                                                                                                                        |
|      \<Компареоп>       |                                                                               Задает оператор сравнения с тремя буквами. В следующем списке представлены допустимые значения для *компареоп*:</br>**Равно** Равно</br>**Нек** Не равно</br>**ЛСС** Меньше</br>**LEQ** Меньше или равно</br>**ГТР** Больше</br>**Жек** Больше или равно                                                                                |
|           /i            |                                                            Принудительное сравнение строк не учитывает регистр.  Параметр **/i** можно использовать в формате <em>строка1</em>**==**<em>строка2</em> в **случае**. Эти сравнения являются универсальными, в том случае, если и *строка1* , и *строка2* состоят из цифр, строки преобразуются в числа и выполняется числовое сравнение.                                                            |
| кмдекстверсион \<число> | Задает истинное условие, только если внутренний номер версии, связанный с компонентом расширения команд Cmd. exe, больше или равен указанному значению. Первая версия — 1. Он увеличивается на единицу при добавлении значительных улучшений в расширения команд. **Кмдекстверсион** Conditional не имеет значения true, если расширения команд отключены (по умолчанию расширения команд включены). |
|   определенная \<переменная>   |                                                                                                                                                                                            Указывает истинное условие, если *переменная* определена.                                                                                                                                                                                            |
|      \<> выражения      |                                                                                                                                                                   Задает команду командной строки и все параметры, которые будут переданы команде в предложении **else** .                                                                                                                                                                   |
|           /?            |                                                                                                                                                                                                    Отображение справки в командной строке.                                                                                                                                                                                                    |

## <a name="remarks"></a>Примечания

-   Если условие, указанное в предложении **If** , имеет значение true, выполняется команда, следующая за условием. Если условие имеет значение false, команда в предложении **If** игнорируется и команда выполняет любую команду, указанную в предложении **else** .
-   Когда программа останавливается, она возвращает код выхода. Чтобы использовать коды выхода в качестве условий, используйте **ERRORLEVEL**.
-   При использовании **определенного**значения в среду добавляются следующие три переменные: **% ERRORLEVEL%**, **% кмдкмдлине%** и **% кмдекстверсион%**.  
    -   **% ERRORLEVEL%** разворачивается в строковое представление текущего значения переменной среды ERRORLEVEL. Предполагается, что отсутствует существующая переменная среды с именем ERRORLEVEL — если это так, то вместо этого будет получено значение ERRORLEVEL.
    -   **% кмдкмдлине%** разворачивается в исходную командную строку, которая была передана в cmd. exe до любой обработки с помощью cmd. exe. Предполагается, что отсутствует существующая переменная среды с именем КМДКМДЛИНЕ — если это так, вместо этого будет получено значение КМДКМДЛИНЕ.
    -   **% кмдекстверсион%** разворачивается в строковое представление текущего значения **кмдекстверсион**. Предполагается, что отсутствует существующая переменная среды с именем КМДЕКСТВЕРСИОН — если это так, вместо этого будет получено значение КМДЕКСТВЕРСИОН.
-   Предложение **else** необходимо использовать в той же строке, что и команда после оператора **If**.

## <a name="examples"></a>Примеры

Чтобы отобразить сообщение не удается найти файл данных если не удается найти файл Product. dat, введите:
```
if not exist product.dat echo Cannot find data file 
```
Чтобы отформатировать диск в диске а и вывести сообщение об ошибке при возникновении ошибки в процессе форматирования, введите в пакетный файл следующие строки:
```
:begin
@echo off
format a: /s
if not errorlevel 1 goto end
echo An error occurred during formatting.
:end
echo End of batch program.
```
Чтобы удалить файл Product. dat из текущего каталога или отобразить сообщение, если Product. dat не найден, введите в пакетном файле следующие строки:
```
IF EXIST Product.dat (
del Product.dat
) ELSE (
echo The Product.dat file is missing.
)
```

> [!NOTE]
> Эти строки можно объединить в одну строку следующим образом:
> ```
> IF EXIST Product.dat (del Product.dat) ELSE (echo The Product.dat file is missing.)
> ```
> Чтобы вывести значение переменной среды ERRORLEVEL после выполнения пакетного файла, введите в пакетный файл следующие строки:
> ```
> goto answer%errorlevel%
> :answer1
> echo The program returned error level 1
> goto end
> :answer0
> echo The program returned error level 0
> goto end
> :end
> echo Done! 
> ```
> Чтобы вернуться к метке "хорошо", если значение переменной среды ERRORLEVEL меньше или равно 1, введите:
> ```
> if %errorlevel% LEQ 1 goto okay
> ```

## <a name="additional-references"></a>Дополнительные ссылки

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)

[Наличии](if.md)

[Goto](goto.md)
