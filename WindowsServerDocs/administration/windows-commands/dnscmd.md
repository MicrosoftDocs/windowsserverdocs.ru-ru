---
title: dnscmd
description: Раздел команд Windows для dnscmd, который является интерфейсом командной строки для управления DNS-серверами.
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: e7f31cb5-a426-4e25-b714-88712b8defd5
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 732b7550236295d1651977a6e1c364bc066fa460
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2020
ms.locfileid: "80845347"
---
# <a name="dnscmd"></a>Dnscmd

>Область применения. Windows Server (Semi-Annual Channel), Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Интерфейс командной строки для управления DNS-серверами. Эта служебная программа полезна в пакетных файлах сценариев для автоматизации подпрограмм задач управления DNS, а также для выполнения простой автоматической установки и настройки новых DNS-серверов в сети.  

## <a name="syntax"></a>Синтаксис  
```  
dnscmd <ServerName> <command> [<command parameters>]  
```  

### <a name="parameters"></a>Параметры  

|  Параметр   |     Описание      |
|--------------|--------------------------------------------------------------|
| `<ServerName>` | IP-адрес или имя узла удаленного или локального DNS-сервера. |


## <a name="commands"></a>Команды  

|   Command   |     Описание      |
| ----------- | -------------------- |
| [dnscmd/ажеаллрекордс](#BKMK_1) | Задает текущее время для всех меток времени в зоне или узле. |
| [dnscmd/ClearCache](#BKMK_2)  | Очищает кэш DNS-сервера. |
| [dnscmd/config](#BKMK_3) | Сброс конфигурации DNS-сервера или зоны. |
| [dnscmd/креатебуилтиндиректорипартитионс](#BKMK_4) | Создает встроенные разделы каталога приложений DNS. |
| [dnscmd/креатедиректорипартитион](#BKMK_5) | Создает раздел каталога приложений DNS. |
| [dnscmd/делетедиректорипартитион](#BKMK_6) | Удаляет раздел каталога приложений DNS. |
| [dnscmd/директорипартитионинфо](#BKMK_7) | выводит сведения о разделе каталога приложений DNS. |
| [dnscmd/енлистдиректорипартитион](#BKMK_8) | Добавляет DNS-сервер в набор репликации раздела каталога приложений DNS. |
| [dnscmd/енумдиректорипартитионс](#BKMK_9) | Список разделов каталога приложений DNS для сервера. |
| [dnscmd/енумрекордс](#BKMK_10) | Список записей ресурсов в зоне. |
| [dnscmd/енумзонес](#BKMK_11) | Выводит список зон, размещенных на указанном сервере. |
| [dnscmd/експортсеттингс](#BKMK_25a) | Записывает сведения о конфигурации сервера в текстовый файл. |
| [dnscmd/info](#BKMK_12) | Возвращает сведения о сервере. |
| [dnscmd/ипвалидате](#BKMK_29a) | Проверяет удаленные DNS-серверы. |
| [dnscmd/нодеделете](#BKMK_13)  | Удаляет все записи для узла в зоне. |
| [dnscmd/рекордадд](#BKMK_14)  | Добавляет запись ресурса в зону. |
| [dnscmd/рекордделете](#BKMK_15) | Удаляет запись ресурса из зоны. |
| [dnscmd/ресетфорвардерс](#BKMK_16) | Настройка DNS-серверов для пересылки рекурсивных запросов. |
| [dnscmd/ресетлистенаддрессес](#BKMK_17) | Задает IP-адреса сервера для обслуживания DNS-запросов. |
| [dnscmd/стартскавенгинг](#BKMK_18) | Инициирует очистку сервера. |
| [dnscmd/Статистикс](#BKMK_19) | Запрашивает или очищает данные статистики сервера. |
| [dnscmd/уненлистдиректорипартитион](#BKMK_20) | Удаляет DNS-сервер из набора репликации раздела каталога приложений DNS. |
| [dnscmd/вритебаккфилес](#BKMK_21) | Сохраняет все данные зоны или корневой подсказки в файле. |
| [dnscmd/зонеадд](#BKMK_22) | Создает новую зону на DNS-сервере. |
| [dnscmd/зонечанжедиректорипартитион](#BKMK_23) | Изменяет раздел каталога, в котором находится зона. |
| [dnscmd/зонеделете](#BKMK_24) | Удаляет зону с DNS-сервера. |
| [dnscmd/зоникспорт](#BKMK_25) | Записывает записи ресурсов зоны в текстовый файл. |
| [dnscmd/зонеинфо](#BKMK_26) | Отображает сведения о зоне. |
| [dnscmd/зонепаусе](#BKMK_27) | Приостанавливает работу зоны. |
| [dnscmd/зонепринт](#BKMK_28) | Отображает все записи в зоне. |
| [dnscmd/зонерефреш](#BKMK_30) | Принудительное обновление дополнительной зоны из главной зоны. |
| [dnscmd/зонерелоад](#BKMK_31) | Перезагружает зону из своей базы данных. |
| [dnscmd/зонересетмастерс](#BKMK_32) | Изменяет главные серверы, которые предоставляют сведения о переносе зоны, во вторичную зону. |
| [dnscmd/зонересетскавенжесерверс](#BKMK_33) | Изменяет серверы, которые могут очищать зону. |
| [dnscmd/зонересетсекондариес](#BKMK_34) | Сбрасывает дополнительные сведения для зоны. |
| [dnscmd/зонересеттипе](#BKMK_29) | Изменяет тип зоны. |
| [dnscmd/зонересуме](#BKMK_35) | Возобновляет зону. |
| [dnscmd/зонеупдатефромдс](#BKMK_36) | Обновляет интегрированную зону Active Directory данными из доменных служб Active Directory (AD DS). |
| [dnscmd/зоневритебакк](#BKMK_37) | Сохраняет данные зоны в файл. |

### <a name="dnscmd-ageallrecords"></a><a name=BKMK_1></a>dnscmd/ажеаллрекордс
  
Устанавливает текущее время отметки времени для записей ресурсов в указанной зоне или узле на DNS-сервере. 
 
#### <a name="syntax"></a>Синтаксис

```  
dnscmd [<ServerName>] /ageallrecords <ZoneName>[<NodeName>] | [/tree]|[/f]  
```  

##### <a name="parameters"></a>Параметры

| партаметер | Описание |
| ---------- | ----------- |
| `<ServerName>` | Указывает DNS-сервер, которым администратор планирует управлять, представленный IP-адресом, полным доменным именем или именем узла. Если этот параметр пропущен, используется локальный сервер. |
| `<ZoneName>` | Указывает полное доменное имя зоны. |
| `<NodeName>` | Указывает конкретный узел или поддерево в зоне. **NodeName** указывает узел или поддерево в зоне, используя следующие команды:<p>-@ для корневой зоны или полного доменного имени<p>— Полное доменное имя узла (с точкой (.) в конце);<p>— Отдельная метка для имени относительно корня зоны. |
| `/tree` | Указывает, что все дочерние узлы также получают метку времени. |
| `/f` | Выполняет команду без запроса подтверждения. |

#### <a name="remarks"></a>Замечания

- Команда **ажеаллрекордс** предназначена для обеспечения обратной совместимости между текущей версией DNS и предыдущими выпусками DNS, в которых устаревание и очистка не поддерживались. Он добавляет отметку времени с текущим временем к записям ресурсов, не имеющим отметки времени, и устанавливает текущее время для записей ресурсов, у которых есть метка времени.

- Очистка записей не выполняется, если только записи не имеют отметки времени. Записи ресурсов сервера имен (NS), записи ресурсов SOA и записи ресурсов службы Windows Internet Name Service (WINS) не включаются в процесс очистки и не имеют отметки времени даже при выполнении команды **ажеаллрекордс** .

- Эта команда завершается сбоем, если для DNS-сервера и зоны не включена очистка. Сведения о включении очистки для зоны см. в параметре **устаревания** в разделе синтаксис уровня зоны в команде <a href=#BKMK_3 data-raw-source=[config](#BKMK_3)>config</a> .<br/>— Добавление метки времени к записям ресурсов DNS делает их несовместимыми с DNS-серверами, работающими в операционных системах, отличных от Windows 2000, Windows XP или Windows Server 2003. Отметка времени, добавляемая с помощью команды **ажеаллрекордс** , не может быть отменена.<br/>— Если ни один из необязательных параметров не указан, команда возвращает все записи ресурсов на указанном узле. Если задано значение хотя бы для одного из необязательных параметров, **dnscmd** перечисляет только те записи ресурсов, которые соответствуют значению или значениям, указанным в необязательных параметрах или аргументах.<br/># # # # Пример<br/>См. раздел < a href =https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[пример 1: Установите текущее время отметки времени для записей ресурсов](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)> примере 1: Установите текущее время для отметки времени на записи ресурсов</a>.<br/>### <a name=BKMK_2> </a>dnscmd/ClearCache<br/>Очистка памяти кэша DNS для записей ресурсов на указанном DNS-сервере.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /clearcache</code><br/># # # # # Параметры<br/><ServerName><br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/># # # # Пример использования<br/><code>dnscmd dnssvr1.contoso.com /clearcache</code><br/>### <a name=BKMK_3> </a>dnscmd/config<br/>изменяет значения в реестре для DNS-сервера и отдельных зон. Принимает параметры уровня сервера и параметры уровня зоны.<br/>&gt; [!CAUTION]<br/>&gt; не изменяйте реестр напрямую, если нет альтернативы. Редактор реестра обходит стандартные средства защиты, что позволяет снизить производительность, повредить систему или даже потребовать переустановки Windows. Большинство параметров реестра можно безопасно изменить с помощью программы на панели управления или консоли управления (MMC). Если необходимо непосредственно изменить реестр, сначала создайте его резервную копию. Дополнительные сведения см. в справке редактора реестра.<br/># # # # Синтаксис уровня сервера<br/><code>dnscmd [&lt;ServerName&gt;] /config &lt;Parameter&gt;</code><br/># # # # dnscmd/config<br/>Изменяет конфигурацию указанного сервера.<br/># # # # # Параметры<br/><ServerName><br/>Указывает DNS-сервер, которым планируется управлять, представленный синтаксисом локального компьютера, IP-адресом, полным доменным именем или узлом. Если этот параметр пропущен, используется локальный сервер.<br/><Parameter><br/>Укажите параметр и в качестве значения параметра. В значениях параметров используется следующий синтаксис: *Parameter* [*значение*]<br/>В оставшейся части этого раздела описаны следующие значения параметров.<br/>-    **/аддрессансверлимит**<br/>-    **/биндсекондариес**<br/>-    **/бутмесод**<br/>-    **/дефаултагингстате**<br/>-    **/дефаултнорефрешинтервал**<br/>-    **/дефаултрефрешинтервал**<br/>-    **/дисаблеаутореверсезонес**<br/>-    **/дисабленсрекордсаутокреатион**<br/>-    **/дсполлингинтервал**<br/>-    **/дстомбстонеинтервал**<br/>-    **/еднскачетимеаут**<br/>-    **/енабледнспробес**<br/>-    **/енабледнссек**<br/>-    **/енаблеглобалнамессуппорт**<br/>-    **/енаблеглобалкуериблокклист**<br/>-    **/евентлоглевел**<br/>-    **/форвардделегатионс**<br/>-    **/форвардингтимеаут**<br/>-    **/глобалнамескуерйордер**<br/>-    **/глобалкуериблокклист**<br/>-    **/исславе**<br/>-    **/локалнетприорити**<br/>-    **/логфилемакссизе**<br/>-    **/logFilePath**<br/>-    **/логипфилтерлист**<br/>-    **/логлевел**<br/>-    **/макскачесизе**<br/>-    **/макскачеттл**<br/>-    **/намечеккфлаг**<br/>-    **/ноткп**<br/>-    **/норекурсион**<br/>-    **/рекурсионретри**<br/>-    **/рекурсионтимеаут**<br/>-    **/раундробин**<br/>-    **/рпкпротокол**<br/>-    **/скавенгингинтервал**<br/>-    **/секуререспонсес**<br/>-    **/сендпорт**<br/>-    **/стриктфилепарсинг**<br/>-    **/упдатеоптионс**<br/>-    **/вритеаусоритинс**<br/>-    **/ксфрконнекттимеаут**<br/>**/аддрессансверлимит [0 | 5 – 28]**<br/>Указывает максимальное количество записей узла, которые DNS-сервер может отправить в ответ на запрос. Значение может быть равно нулю (0) или находиться в диапазоне от 5 до 28 записей. Значение по умолчанию равно нулю (0).<br/>**/биндсекондариес [0 | 1]**<br/>изменяет формат зонной смены таким образом, чтобы он мог обеспечить максимальную степень сжатия и эффективность. Однако этот формат несовместим с предыдущими версиями Berkeley Internet Name Domain (BIND).<br/>**0**<br/>Использует максимальное сжатие. Этот формат совместим с версиями BIND 4.9.4 и более поздних версий.<br/>**1**<br/>Отправляет только одну запись ресурса на сообщение для DNS-серверов, отличных от Майкрософт. Этот формат совместим с версиями BIND, предшествующими 4.9.4. Это параметр по умолчанию.<br/>**/бутмесод [0 | 1 | 2 | 3]**<br/>Определяет источник, из которого DNS-сервер получает сведения о конфигурации.<br/>**0**<br/>Очищает источник сведений о конфигурации.<br/>**1**<br/>Загружает из файла привязки, расположенного в каталоге DNS, который по умолчанию%systemroot%\System32\DNS.<br/>**2**<br/>Загружается из реестра.<br/>**3**<br/>Загружается из AD DS и реестра. Это параметр по умолчанию.<br/>**/дефаултагингстате [0 | 1]**<br/>Определяет, включена ли функция очистки DNS по умолчанию для вновь созданных зон.<br/>**0**<br/>Отключает очистку. Это параметр по умолчанию.<br/>**1**<br/>Включает очистку.<br/>**/дефаултнорефрешинтервал [0x1-0xFFFFFFFF | 0xA8]**<br/>Задает период времени, в течение которого обновления не принимаются для динамически обновляемых записей. Зоны на сервере наследуют это значение автоматически. Чтобы изменить значение по умолчанию, введите значение в диапазоне **0x1-0xFFFFFFFF**. Значение по умолчанию для сервера — **0xA8**.<br/>**/дефаултрефрешинтервал [0x1-0xFFFFFFFF | 0xA8]**<br/>Задает период времени, который разрешен для динамических обновлений записей DNS. Зоны на сервере наследуют это значение автоматически. Чтобы изменить значение по умолчанию, введите значение в диапазоне **0x1-0xFFFFFFFF**. Значение по умолчанию для сервера — **0xA8**.<br/>**/дисаблеаутореверсезонес [0 | 1]**<br/>Включает или отключает автоматическое создание зон обратного просмотра. Зоны обратного просмотра обеспечивают разрешение IP-адресов в доменные имена DNS.<br/>**0**<br/>Включает автоматическое создание зон обратного просмотра. Это параметр по умолчанию.<br/>**1**<br/>Отключает автоматическое создание зон обратного просмотра.<br/>**/дисабленсрекордсаутокреатион {0 | 1}**<br/>Указывает, будет ли DNS-сервер автоматически создавать записи ресурсов сервера имен (NS) для зон, которые она содержит.<br/>**0**<br/>Автоматически создает записи ресурсов сервера имен (NS) для зон, размещаемых DNS-сервером.<br/>**1**<br/>Не создает записи ресурсов сервера имен (NS) автоматически для зон, размещаемых DNS-сервером.<br/>**/дсполлингинтервал 0-30**<br/>Указывает, как часто DNS-сервер опрашивает AD DS на предмет изменений в зонах, интегрированных с Active Directory.<br/>**/дстомбстонеинтервал [1-30]**<br/>Время в секундах, в течение которого необходимо хранить удаленные записи в AD DS.<br/>**/еднскачетимеаут [<seconds>]**<br/>Указывает количество секунд, в течение которых кэшируются данные расширенной DNS (EDNS). Минимальное значение — 3600, а максимальное значение — 15 724 800. Значение по умолчанию — 604 800 секунд (одна неделя).<br/>**/енаблиднспробес {0 | 1}**<br/>Включает или отключает сервер для проверки других серверов на наличие поддержки EDNS.<br/>**0**<br/>Отключает активную поддержку проверок EDNS.<br/>**1**<br/>Включает активную поддержку проверок EDNS.<br/>**/енабледнссек {0 | 1}**<br/>Включает или отключает поддержку расширений безопасности DNS (DNSSEC).<br/>**0**<br/>Отключает DNSSEC.<br/>**1**<br/>Включает DNSSEC.<br/>**/енаблеглобалнамессуппорт {0 | 1}**<br/>Включает или отключает поддержку зоны GlobalNames. Зона GlobalNames поддерживает разрешение имен DNS с одной меткой в пределах леса.<br/>**0**<br/>Отключает поддержку зоны GlobalNames. Если присвоить этой команде значение **0**, служба DNS-сервера не будет разрешать однокомпонентные имена в зоне GlobalNames.<br/>**1**<br/>Включает поддержку зоны GlobalNames. Если для этой команды задано значение **1**, служба DNS-сервера разрешает однокомпонентные имена в зоне GlobalNames.<br/>**/енаблеглобалкуериблокклист {0 | 1}**<br/>Включает или отключает поддержку глобального списка блокировок запросов, который блокирует разрешение имен для имен в списке. Служба DNS-сервера создает и включает глобальный список блокировок запросов по умолчанию при первой загрузке службы. Чтобы просмотреть текущий глобальный список блокировок запросов, используйте команду **dnscmd/info/глобалкуериблокклист** .<br/>**0**<br/>Отключает поддержку глобального списка блокировок запросов. Если задать для этой команды значение **0**, служба DNS-сервера будет отвечать на запросы имен в списке блокировок.<br/>**1**<br/>Включает поддержку глобального списка блокировок запросов. Если для этой команды задать значение **1**, служба DNS-сервера не будет отвечать на запросы имен в списке блокировок.<br/>**/евентлоглевел [0 | 1 | 2 | 4]**<br/>Определяет, какие события регистрируются в журнале DNS-сервера в Просмотр событий.<br/>**0**<br/>Не ведет журнал событий.<br/>**1**<br/>Записывает только ошибки.<br/>**2**<br/>Регистрирует только ошибки и предупреждения.<br/>**4**<br/>Регистрирует ошибки, предупреждения и информационные события. Это параметр по умолчанию.<br/>**/форвардделегатионс [0 | 1]**<br/>Определяет, как DNS-сервер обрабатывает запрос для делегированной подзоны. Эти запросы можно отправить в подзону, на которую ссылается запрос, или в список серверов пересылки, названных для DNS-сервера. Записи в параметре используются только при включенной пересылке.<br/>**0**<br/>Автоматически отправляет запросы, ссылающиеся на делегированные подзоны, в соответствующую подзону. Это параметр по умолчанию.<br/>**1**<br/>перенаправляет запросы, ссылающиеся на делегированную подзону, в существующие серверы пересылки.<br/>**/форвардингтимеаут [<seconds>]**<br/>Определяет, сколько секунд (0x1-0xFFFFFFFF) DNS-сервер ожидает ответа сервера пересылки, прежде чем пытаться выполнить другой сервер пересылки. Значение по умолчанию — **0x5**, то есть 5 секунд.<br/>**/глобалнеамескуерйордер** {**0 | 1**}<br/>Указывает, будет ли служба DNS-сервера сначала выглядеть в зоне GlobalNames или в локальных зонах при разрешении имен.<br/>**0**<br/>Служба DNS-сервера пытается разрешить имена путем запроса к зоне GlobalNames перед запросом к зонам, для которых она является полномочной.<br/>**1**<br/>Служба DNS-сервера пытается разрешить имена, запрашивая зоны, для которых он является полномочным, перед запросом к зоне глобальных имен.<br/>**/глобалкуериблокклист [[<name> [<name>]...]**<br/>заменяет текущий глобальный список блокировок запросов на список указанных имен. Если имена не указаны, эта команда очищает список блокировок. По умолчанию глобальный список блокировок запросов содержит следующие элементы.<br/>— ISATAP<br/>— WPAD<br/>Служба DNS-сервера может удалить одно или оба этих имени при первом запуске, если оно найдет эти имена в существующей зоне.<br/>**/исславе [0 | 1]**<br/>Определяет, как DNS-сервер отвечает, когда пересылаемые запросы не получают ответа.<br/>**0**<br/>Указывает, что DNS-сервер не является подчиненным (также называется *ведомым*). Если сервер пересылки не отвечает, он пытается разрешить сам запрос. Это параметр по умолчанию.<br/>**1**<br/>Указывает, что DNS-сервер является подчиненным. Если сервер пересылки не отвечает, DNS завершает Поиск и отправляет арбитру сообщение об ошибке.<br/>**/локалнетприорити [0 | 1]**<br/>Определяет порядок, в котором записи узла возвращаются, если DNS-сервер имеет несколько записей узлов для одного и того же имени.<br/>**0**<br/>Возвращает записи в том порядке, в котором они указаны в базе данных DNS.<br/>**1**<br/>Возвращает записи с похожими IP-адресами в первую очередь. Это параметр по умолчанию.<br/>**/логфилемакссизе [<size>]**<br/>Задает максимальный размер в байтах (0x10000-0xFFFFFFFF) файла DNS. log. Когда файл достигает максимального размера, DNS перезаписывает самые старые события. Размер по умолчанию — 0x400000, то есть 4 мегабайта (МБ).<br/>**/logFilePath [путь&lt;+ LogFileName&gt;]**<br/>Указывает путь к файлу DNS. log. Путь по умолчанию —%systemroot%\System32\Dns\Dns.log. Можно указать другой путь, используя формат *path + LogFilename*.<br/>**/логипфилтерлист <IPaddress> [,<IPaddress>...]**<br/>Указывает, какие пакеты регистрируются в файле журнала отладки. Записи представляют собой список IP-адресов. В журнал записываются только пакеты, отправляемые с IP-адресов в списке и из них.<br/>**/логлевел [<Eventtype>]**<br/>Определяет, какие типы событий записываются в файл DNS. log. Каждый тип события представлен шестнадцатеричным числом. Если в журнале должно быть несколько событий, используйте Добавление шестнадцатеричных значений, а затем введите сумму.<br/>**0x0**<br/>DNS-сервер не создает журнал. Это запись по умолчанию.<br/>**0x10**<br/>Записывает в журнал запросы.<br/>**0x10**<br/>Регистрирует уведомления.<br/>**0x20**<br/>Регистрирует обновления.<br/>**0xFE**<br/>Записывает в журнал транзакции, не являющиеся запросами.<br/>**0x100**<br/>Записывает в журнал транзакции вопросов.<br/>**0x200**<br/>Журналы ответов.<br/>**0x1000**<br/>Журналы отправки пакетов.<br/>**0x2000**<br/>Журналы получают пакеты.<br/>**0x4000**<br/>Записывает UDP-пакеты.<br/>**0x8000**<br/>Записывает в журнал пакеты протокола управления передачей (TCP).<br/>**0xFFFF**<br/>Записывает в журнал все пакеты.<br/>**0x10000**<br/>Записывает в журнал транзакции записи в Active Directory.<br/>**0x20000**<br/>Записывает в журнал транзакции обновления Active Directory.<br/>**0x1000000**<br/>Записывает полные пакеты.<br/>**0x80000000**<br/>Записывает транзакции с записью в журнал.<br/>**/макскачесизе**<br/>Указывает максимальный размер кэша памяти DNS-сервера (в килобайтах (КБ)).<br/>**/макскачеттл [<seconds>]**<br/>Определяет, сколько секунд (0x0 – 0xFFFFFFFF) сохраняется запись в кэше. Если используется параметр **0x0** , DNS-сервер не кэширует записи. Значение по умолчанию — **0x15180** (86 400 секунд или 1 день).<br/>**/макснегативекачеттл [<seconds>]**<br/>Указывает, сколько секунд (0x1 – 0xFFFFFFFF) запись, которая записывает отрицательный ответ на запрос, сохраняется в кэше DNS. Значение по умолчанию — **0x384** (900 секунд).<br/>**/намечеккфлаг [0 | 1 | 2 | 3]**<br/>Указывает, какой стандарт символов используется при проверке DNS-имен.<br/>**0**<br/>Использует символы ANSI, соответствующие запросу IETF (Internet Engineering Task Force) (RFC).<br/>**1**<br/>Использует символы ANSI, которые не обязательно соответствуют стандарту RFC IETF.<br/>**2**<br/>Использует многобайтовый формат преобразования UCS 8 (UTF-8) символов. Это параметр по умолчанию.<br/>**3**<br/>Использует все символы.<br/>**/норекурсион [0 | 1]**<br/>Определяет, выполняет ли DNS-сервер разрешение рекурсивных имен.<br/>**0**<br/>DNS-сервер выполняет рекурсивное разрешение имен, если оно запрашивается в запросе. Это параметр по умолчанию.<br/>**1**<br/>DNS-сервер не выполняет рекурсивное разрешение имен.<br/>**/ноткп**<br/>Этот параметр устарел и не влияет на текущие версии Windows Server.<br/>**/рекурсионретри [<seconds>]**<br/>Определяет число секунд (0x1-0xFFFFFFFF), в течение которых DNS-сервер ожидает перед попыткой связаться с удаленным сервером. Значение по умолчанию — 0x3 (три секунды). Это значение должно быть увеличено при возникновении рекурсии по медленной ссылке на глобальную сеть (WAN).<br/>**/рекурсионтимеаут [<seconds>]**<br/>Определяет число секунд (0x1-0xFFFFFFFF), которое DNS-сервер ожидает перед прекращением попытки подключения к удаленному серверу. Параметры находятся в диапазоне от **0x1** до **0xFFFFFFFF**. Значение по умолчанию — **0xF** (15 секунд). Это значение следует увеличивать, если рекурсия происходит по медленному каналу глобальной сети.<br/>**/раундробин [0 | 1]**<br/>Определяет порядок, в котором записи узла возвращаются, если сервер имеет несколько записей узла для одного и того же имени.<br/>0<br/>DNS-сервер не использует циклический перебор. Вместо этого он возвращает первую запись в каждый запрос.<br/>**1**<br/>DNS-сервер поворачивает возвращенные записи из верхней части в конец списка соответствующих записей. Это параметр по умолчанию.<br/>**/рпкпротокол [0x0 | 0x1 | 0x2 | 0x4 | 0xFFFFFFFF]**<br/>Указывает протокол, используемый удаленным вызовом процедур (RPC) при подключении с DNS-сервера.<br/>**0x0**<br/>Отключает RPC для DNS.<br/>**0x1**<br/>Использует TCP/IP.<br/>**0x2**<br/>Использует именованные каналы.<br/>**0x4**<br/>Использует локальный вызов процедур (LPC).<br/>**0xFFFFFFFF**<br/>Все протоколы. Это параметр по умолчанию.<br/>**/скавенгингинтервал [<hours>]**<br/>Определяет, включен ли компонент очистки для DNS-сервера, и задает количество часов (0x0 – 0xFFFFFFFF) между циклами очистки. Значение по умолчанию — **0x0**, что отключает очистку DNS-сервера. Параметр больше **0x0** включает очистку для сервера и задает количество часов между циклами очистки.<br/>**/секуререспонсес [0 | 1]**<br/>Определяет, будут ли DNS-фильтры сохранять записи, сохраненные в кэше.<br/>**0**<br/>Сохраняет все ответы на запросы имен в кэше. Это параметр по умолчанию.<br/>**1**<br/>Сохраняет в кэше только те записи, которые принадлежат к одному поддереву DNS.<br/>**/сендпорт [<port>]**<br/>Указывает номер порта (0x0 – 0xFFFFFFFF), который DNS использует для отправки рекурсивных запросов на другие DNS-серверы. Значение по умолчанию — **0x0**, то есть номер порта выбирается случайным образом.<br/>**/серверлевелплугиндлл [<Dllpath>]**<br/>Указывает путь к пользовательскому подключаемому модулю. Если *Dllpath* указывает полный путь к допустимому подключаемому модулю DNS-сервера, DNS-сервер вызывает функции в подключаемом модуле для разрешения запросов имен, находящихся за пределами области всех локально размещенных зон. Если запрашиваемое имя выходит за пределы области действия подключаемого модуля, DNS-сервер выполняет разрешение имен с помощью перенаправления или рекурсии, как настроено. Если параметр *Dllpath* не указан, DNS-сервер прекращает использовать пользовательский подключаемый модуль, если пользовательский подключаемый модуль был настроен ранее.<br/>**/стриктфилепарсинг [0 | 1]**<br/>Определяет поведение DNS-&#39;сервера при обнаружении ошибочной записи при загрузке зоны.<br/>**0**<br/>DNS-сервер продолжит загружать зону, даже если сервер встречает ошибочную запись. Эта ошибка записывается в журнал DNS. Это параметр по умолчанию.<br/>**1**<br/>DNS-сервер останавливает загрузку зоны и регистрирует ошибку в журнале DNS.<br/>**/упдатеоптионс <RecordValue>**<br/>Запрещает динамическое обновление указанных типов записей. Если требуется, чтобы в журнале было запрещено несколько типов записей, используйте Добавление шестнадцатеричных значений, а затем введите сумму.<br/>**0x0**<br/>Не ограничивает типы записей.<br/>**0x1**<br/>Исключение записей ресурсов начальной записи зоны (SOA).<br/>**0x2**<br/>Исключает записи ресурсов сервера имен (NS).<br/>**0x4**<br/>Исключает делегирование записей ресурсов сервера имен (NS).<br/>**0x8**<br/>Исключает записи узла сервера.<br/>**0x100**<br/>Во время безопасного динамического обновления исключает записи ресурсов записей о начале (SOA).<br/>**0x200**<br/>Во время безопасного динамического обновления исключаются записи ресурсов сервера корневого имени (NS).<br/>**0x30F**<br/>Во время стандартного динамического обновления исключает записи ресурсов сервера имен (NS), записи ресурсов SOA и записи узла сервера. Во время безопасного динамического обновления исключаются записи ресурсов сервера корневого имени (NS) и записи ресурсов записей зоны (SOA). Разрешает делегирование и обновление узла сервера.<br/>**0x400**<br/>Во время безопасного динамического обновления исключает записи ресурсов сервера имен делегирования (NS).<br/>**0x800**<br/>Во время безопасного динамического обновления исключает записи узла сервера.<br/>**0x1000000**<br/>Исключает записи подписывания делегирования (DS).<br/>**0x80000000**<br/>Отключает динамическое обновление DNS.<br/>**/вритеаусоритинс [0 | 1]**<br/>Определяет, когда DNS-сервер записывает записи ресурсов сервера имен (NS) в разделе центра ответа.<br/>**0**<br/>Запись записей ресурсов сервера имен (NS) в разделе "центр" только для ссылок. Этот параметр соответствует стандартам RFC 1034, доменным именам и средствам, а также RFC 2181, уточнения спецификаций DNS. Это параметр по умолчанию.<br/>**1**<br/>Запись записей ресурсов сервера имен (NS) в разделе "центр" всех успешных полномочных ответов.<br/>**/ксфрконнекттимеаут [<seconds>]**<br/>Определяет количество секунд (0x0 – 0xFFFFFFFF), в течение которых основной DNS-сервер ожидает ответа на пересылку со своего вторичного сервера. Значение по умолчанию — **0x1E** (30 секунд). По истечении времени ожидания соединение завершается.<br/>Синтаксис на уровне зоны # # # #<br/><code>dnscmd /config &lt;Parameters&gt;</code><br/># # # # dnscmd/config<br/>Изменяет конфигурацию указанной зоны.<br/># # # # # Параметры<br/>**<Parameters>**<br/>Укажите параметр, имя зоны и, как вариант, значение. В значениях параметров используется следующий синтаксис: *ZoneName, параметр* [*значение*]<br/>В оставшейся части этого раздела описаны следующие значения параметров.<br/>-    **/агинг**<br/>-    **/алловнсрекордсаутокреатион**<br/>-    **/алловупдате**<br/>-    **/форвардерславе**<br/>-    **/форвардертимеаут**<br/>-    **/норефрешинтервал**<br/>-    **/рефрешинтервал**<br/>-    **/секуресекондариес**<br/>**/агинг <ZoneName>**<br/>Включает или отключает очистку в определенной зоне.<br/>**/алловнсрекордсаутокреатион <ZoneName> [<Value>]**<br/>Переопределяет параметр автосоздания записи ресурса сервера DNS-&#39;имен (NS). Записи ресурсов сервера имен (NS), которые ранее были зарегистрированы для этой зоны, не затрагиваются. Поэтому их необходимо удалить вручную, если они не нужны.<br/>**/алловупдате <ZoneName>**<br/>Определяет, принимает ли указанная зона динамические обновления.<br/>**/форвардерславе <ZoneName>**<br/>Переопределяет параметр **/исславе** DNS-сервера.<br/>**/форвардертимеаут <ZoneName>**<br/>Определяет, сколько секунд зона DNS ожидает ответа сервера пересылки, прежде чем пытаться выполнить другой сервер пересылки. Это значение переопределяет значение, заданное на уровне сервера.<br/>**/норефрешинтервал <ZoneName>**<br/>Задает интервал времени для зоны, в течение которого никакие обновления не могут динамически обновлять записи DNS в указанной зоне.<br/>**/рефрешинтервал <ZoneName>**<br/>Задает интервал времени для зоны, в течение которого обновления могут динамически обновлять записи DNS в указанной зоне.<br/>**/секуресекондариес <ZoneName>**<br/>Определяет, какие серверы-получатели могут получить обновления зоны с главного сервера для этой зоны.<br/># # # # Примечания<br/>— Имя зоны должно быть указано только для параметров уровня зоны.<br/>### <a name=BKMK_4> </a>dnscmd/креатебуилтиндиректорипартитионс<br/>Создает раздел каталога приложений DNS. При установке DNS раздел каталога приложений для службы создается на уровне леса и домена. Эта команда используется для создания разделов каталога приложений DNS, которые были удалены или никогда не были созданы. Если параметр не задан, эта команда создает встроенный раздел каталога DNS для домена.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /createbuiltindirectorypartitions [/forest] [/alldomains]</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**/Forest**<br/>Создает раздел каталога DNS для леса.<br/>**/аллдомаинс**<br/>создает разделы DNS для всех доменов в лесу.<br/>### <a name=BKMK_5> </a>dnscmd/креатедиректорипартитион<br/>Создает раздел каталога приложений DNS. При установке DNS раздел каталога приложений для службы создается на уровне леса и домена. Эта операция создает дополнительные разделы каталога приложений DNS.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /createdirectorypartition &lt;PartitionFQDN&gt;</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<PartitionFQDN>**<br/>Полное доменное имя раздела каталога приложений DNS, который будет создан.<br/>### <a name=BKMK_6> </a>dnscmd/делетедиректорипартитион<br/>Удаляет существующий раздел каталога приложений DNS.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /deletedirectorypartition &lt;PartitionFQDN&gt;</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<PartitionFQDN>**<br/>Полное доменное имя раздела каталога приложений DNS, который будет удален.<br/>### <a name=BKMK_7> </a>dnscmd/директорипартитионинфо<br/>выводит сведения о указанном разделе каталога приложений DNS.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /directorypartitioninfo &lt;PartitionFQDN&gt; [/detail]</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<PartitionFQDN>**<br/>Полное доменное имя раздела каталога приложений DNS.<br/>**/Detail**<br/>выводит все сведения о разделе каталога приложений.<br/>### <a name=BKMK_8> </a>dnscmd/енлистдиректорипартитион<br/>Добавляет DNS-сервер в указанный набор реплик разделов&#39;каталога.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /enlistdirectorypartition &lt;PartitionFQDN&gt;</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<PartitionFQDN>**<br/>Полное доменное имя раздела каталога приложений DNS.<br/>### <a name=BKMK_9> </a>dnscmd/енумдиректорипартитионс<br/>выводит разделы каталога приложений DNS для указанного сервера.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /enumdirectorypartitions [/custom]</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**/кустом**<br/>содержит только разделы каталога, созданные пользователем.<br/>### <a name=BKMK_10> </a>dnscmd/енумрекордс<br/>список записей ресурсов указанного узла в зоне DNS.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /enumrecords &lt;ZoneName&gt; &lt;NodeName&gt; [/type &lt;RRtype&gt; &lt;Rrdata&gt;] [/authority] [/glue] [/additional] [/node | /child | /startchild&lt;ChildName&gt;] [/continue | /detail]</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер, которым планируется управлять, представленный IP-адресом, полным доменным именем или названием узла. Если этот параметр пропущен, используется локальный сервер.<br/>**/енумрекордс**<br/>список записей ресурсов в указанной зоне.<br/>**<ZoneName>**<br/>Указывает имя зоны, к которой относятся записи ресурсов.<br/>**<NodeName>**<br/>Указывает имя узла записей ресурсов.<br/>**<RRtype>/Type <Rrdata>**<br/>Указывает тип записей ресурсов для перечисления и ожидаемый тип данных:<br/>**<RRtype>**<br/>Указывает тип записей ресурсов для перечисления.<br/>**<Rrdata>**<br/>Указывает тип ожидаемых записей.<br/>**/аусорити**<br/>Включает достоверные данные.<br/>**/глуе**<br/>Включает в себя связывающие данные.<br/>**/аддитионал**<br/>Включает все дополнительные сведения о перечисленных записях ресурсов.<br/>**{/node |/Чилд |/стартчилд <ChildName>}**<br/>Фильтрует или добавляет сведения в отображаемую запись ресурса.<br/>**/node**<br/>выводит только записи ресурсов указанного узла.<br/>**/чилд**<br/>выводит только записи ресурсов указанного дочернего домена.<br/>**/стартчилд <ChildName>**<br/>Начинает список в указанном дочернем домене.<br/>**/континуе | /Detail**<br/>Указывает способ отображения возвращаемых данных.<br/>**/континуе**<br/>выводит только записи ресурсов с их типом и данными.<br/>**/Detail**<br/>выводит все сведения о записях ресурсов.<br/># # # # Пример использования<br/><code>dnscmd /enumrecords test.contoso.com test /additional</code><br/>### <a name=BKMK_11> </a>dnscmd/енумзонес<br/>список зон, существующих на указанном DNS-сервере.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /enumzones [/primary | /secondary | /forwarder | /stub | /cache | /auto-created] [/forward | /reverse | /ds | /file] [/domaindirectorypartition | /forestdirectorypartition | /customdirectorypartition | /legacydirectorypartition | /directorypartition &lt;PartitionFQDN&gt;]</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**/Primary | /Секондари | /Форвардер | /stub прилагает | /Cache | /ауто-креатед**<br/>Фильтрует типы отображаемых зон:<br/>**/Primary**<br/>Список всех зон, которые являются стандартными основными зонами или интегрированными зонами Active Directory.<br/>**/секондари**<br/>Список всех стандартных вторичных зон.<br/>**/форвардер**<br/>список зон, пересылаемых неразрешенные запросы на другой DNS-сервер.<br/>**/stub прилагает**<br/>Список всех зон-заглушек.<br/>**/Cache**<br/>выводит только зоны, загруженные в кэш.<br/>**/ауто-креатед**<br/>список зон, созданных автоматически во время установки DNS-сервера.<br/>**/Форвард | /реверсе | /ДС | /File**<br/>Указывает дополнительные фильтры типов отображаемых зон:<br/>**/форвард**<br/>Перечисление зон прямого просмотра.<br/>**/реверсе**<br/>Перечисление зон обратного просмотра.<br/>**/дс**<br/>список зон, интегрированных с Active Directory.<br/>**/File**<br/>содержит список зон, которые поддерживаются файлами.<br/>**/домаиндиректорипартитион**<br/>содержит список зон, которые хранятся в разделе каталога домена.<br/>**/форестдиректорипартитион**<br/>содержит список зон, которые хранятся в разделе каталога приложений DNS леса.<br/>**/кустомдиректорипартитион**<br/>Список всех зон, которые хранятся в определяемом пользователем разделе каталога приложений.<br/>**/легацидиректорипартитион**<br/>Список всех зон, хранящихся в разделе каталога домена.<br/>**/директорипартитион <PartitionFQDN>**<br/>Список всех зон, хранящихся в указанном разделе каталога.<br/># # # # Примечания<br/>— Параметры **енумзонес** выступают как фильтры в списке зон. Если фильтры не указаны, возвращается полный список зон. Если задан фильтр, в возвращаемый список зон включаются только зоны,&#39;соответствующие условиям фильтра.<br/># # # # Пример<br/>См. раздел < a href =https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[пример 2: Отобразите полный список зон на DNS-сервере](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)> примере 2: Отображение полного списка зон на DNS-сервере</a> или < a href =https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[пример 3: Отображение списка созданных зон на DNS-сервере](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)> примере 3: Отображение списка созданных зон на DNS-сервере</a>.<br/>### <a name=BKMK_25a> </a>dnscmd/експортсеттингс<br/>создает текстовый файл со списком сведений о конфигурации DNS-сервера. Текстовый файл называется DnsSettings. txt. Он находится в каталоге%systemroot%\system32\Dns сервера.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /exportsettings</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный синтаксисом локального компьютера, IP-адресом, полным доменным именем или узлом. Если этот параметр пропущен, используется локальный сервер.<br/># # # # Примечания<br/>— Вы можете использовать сведения в файле, создаваемом **dnscmd/експортсеттингс** , для устранения неполадок конфигурации или для проверки того, что несколько серверов настроены одинаково.<br/>### <a name=BKMK_12> </a>dnscmd/info<br/>Отображает параметры из раздела DNS в реестре указанного сервера: **HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\DNS\Parameters**<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /info [&lt;Setting&gt;]</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<Setting>**<br/>Любой параметр, возвращаемый командой **info** , можно указать отдельно. Если параметр не указан, возвращается отчет об общих параметрах.<br/># # # # Примечания<br/>— Эта команда отображает параметры реестра на уровне DNS-сервера. Чтобы отобразить параметры реестра на уровне зоны, используйте команду <a href=#BKMK_26 data-raw-source=[zoneinfo](#BKMK_26)>зонеинфо</a> . Чтобы просмотреть список параметров, которые можно отобразить с помощью этой команды, см. Описание <a href=#BKMK_3 data-raw-source=[config](#BKMK_3)>конфигурации</a> .<br/># # # # Пример<br/>См. < a href =https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[пример 4: Отобразите параметр Slave с DNS-сервера](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)> примере 4: Отобразите параметр Slave с DNS-сервера</a> или < a href =https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[пример 5. Отобразите параметр Рекурсионтимеаут с DNS-сервера](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)> примере 5: Отобразить параметр Рекурсионтимеаут с DNS-сервера</a>.<br/>### <a name=BKMK_29a> </a>dnscmd/ипвалидате<br/>Проверяет, определяет ли IP-адрес действующий DNS-сервер или может ли DNS-сервер выполнять роль сервера пересылки, корневого сервера указания или главного сервера для определенной зоны.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /ipvalidate &lt;Context&gt; [&lt;ZoneName&gt;] [[&lt;IPaddress&gt;]]</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный синтаксисом локального компьютера, IP-адресом, полным доменным именем или узлом. Если этот параметр пропущен, используется локальный сервер.<br/>**<Context>**<br/>Указывает тип выполняемого теста. Можно указать любой из следующих тестов.<br/>-    **/днссерверс** проверяет, что компьютеры с указанными адресами являются РАБОТАЮЩИМИ DNS-серверами.<br/>-    **/форвардерс** проверяет, что указанные адреса определяют DNS-серверы, которые могут использоваться в качестве серверов пересылки.<br/>-    **/русинтс** проверяет, что указанные адреса определяют DNS-серверы, которые могут использоваться в качестве серверов имен корневых подсказок.<br/>-    **/зонемастерс** проверяет, что указанные адреса определяют DNS-серверы, являющиеся главными серверами для *zonename*.<br/>**<ZoneName>**<br/>Идентифицирует зону. Используйте этот параметр с параметром **/зонемастерс** .<br/>**<IPaddress>**<br/>Указывает IP-адреса, которые проверяет команда.<br/># # # # Пример использования<br/><pre>dnscmd dnssvr1.contoso.com /ipvalidate /dnsservers 10.0.0.1 10.0.0.2  
dnscmd dnssvr1.contoso.com /ipvalidate /zonemasters corp.contoso.com 10.0.0.2</pre><br/>### <a name=BKMK_13> </a>dnscmd/нодеделете<br/>Удаляет все записи для указанного узла.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /nodedelete &lt;ZoneName&gt; &lt;NodeName&gt; [/tree] [/f]</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<ZoneName>**<br/>Указывает имя зоны.<br/>**<NodeName>**<br/>Указывает имя узла для удаления.<br/>**/три**<br/>Удаляет все дочерние записи.<br/>**ключа**<br/>выполняет команду без запроса подтверждения.<br/># # # # Пример<br/>См. < a href =https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-source =[example 6. Удалите записи из узла](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)> примере 6. Удалите записи из узла</a>.<br/>### <a name=BKMK_14> </a>dnscmd/рекордадд<br/>Добавляет запись в указанную зону на DNS-сервере.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /recordadd &lt;ZoneName&gt; &lt;NodeName&gt; &lt;RRtype&gt; &lt;Rrdata&gt;</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный синтаксисом локального компьютера, IP-адресом, полным доменным именем или узлом. Если этот параметр пропущен, используется локальный сервер.<br/>**<ZoneName>**<br/>Указывает зону, в которой находится запись.<br/>**<NodeName>**<br/>Указывает конкретный узел в зоне.<br/>**<RRtype>**<br/>Указывает тип добавляемой записи.<br/>**<Rrdata>**<br/>Указывает ожидаемый тип данных.<br/>&gt; [!NOTE]<br/>&gt; при добавлении записи убедитесь, что используется правильный тип данных и формат данных. Список типов записей ресурсов и соответствующих типов данных см. в разделе < a href =https://technet.microsoft.com/library/cc758321(v=ws.10).aspx Data-RAW-Source = Справочник по[записям](https://technet.microsoft.com/library/cc758321(v=ws.10).aspx)ресурсов > ссылки на</a>.<br/># # # # Пример использования<br/><pre>dnscmd dnssvr1.contoso.com /recordadd test A 10.0.0.5  
dnscmd /recordadd test.contoso.com test MX 10 mailserver.test.contoso.com</pre><br/>### <a name=BKMK_15> </a>dnscmd/рекордделете<br/>Удаляет запись ресурса из указанной зоны.<br/># # # # Синтаксис<br/><code>dnscmd &lt;ServerName&gt; /recorddelete &lt;ZoneName&gt; &lt;NodeName&gt; &lt;RRtype&gt; &lt;Rrdata&gt;[/f]</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<ZoneName>**<br/>Указывает зону, в которой находится запись ресурса.<br/>**<NodeName>**<br/>Указывает имя узла.<br/>**<RRtype>**<br/>Указывает тип удаляемой записи ресурса.<br/>**<Rrdata>**<br/>Указывает ожидаемый тип данных.<br/>**ключа**<br/>выполняет команду без запроса подтверждения:<br/>— Так как узлы могут иметь более одной записи ресурса, для этой команды требуется очень много сведений о типе записи ресурса, которую требуется удалить.<br/>— Если указан тип данных и не указан тип данных записи ресурса, то удаляются все записи с этим конкретным типом данных для указанного узла.<br/># # # # Пример использования<br/><code>dnscmd /recorddelete test.contoso.com test MX 10 mailserver.test.contoso.com</code><br/>### <a name=BKMK_16> </a>dnscmd/ресетфорвардерс<br/>выбирает или сбрасывает IP-адреса, на которые DNS-сервер перенаправляет запросы DNS, если им не удается разрешить их локально.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /resetforwarders [&lt;IPaddress&gt; [,&lt;IPaddress&gt;]...][/timeout &lt;timeOut&gt;] [/slave|/noslave]</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<IPaddress>**<br/>список IP-адресов, на которые DNS-сервер перенаправляет неразрешенные запросы.<br/>**/timeout <timeOut>**<br/>Задает количество секунд, в течение которых DNS-сервер ожидает ответа от сервера пересылки. По умолчанию это значение равно пяти секундам.<br/>**/славе |/нославе**<br/>Определяет, выполняет ли DNS-сервер собственные итеративные запросы, если серверу пересылки не удается разрешить запрос:<br/>**/славе**<br/>Предотвращает выполнение собственных итеративных запросов DNS-сервером, если серверу пересылки не удается разрешить запрос.<br/>**/нославе**<br/>Позволяет DNS-серверу выполнять собственные итеративные запросы, если сервер пересылки не может разрешить запрос. Это параметр по умолчанию.<br/># # # # Примечания<br/>— По умолчанию DNS-сервер выполняет итеративные запросы, когда не может разрешить запрос.<br/>— Настройка IP-адресов с помощью команды **ресетфорвардерс** приводит к тому, что DNS-сервер выполняет рекурсивные запросы к DNS-серверам по указанным IP-адресам. Если серверы пересылки не разрешают запрос, DNS-сервер может выполнять собственные итеративные запросы.<br/>— Если используется параметр **/славе** , DNS-сервер не выполняет собственные итеративные запросы. Это означает, что DNS-сервер перенаправляет неразрешенные запросы только к DNS-серверам из списка и не пытается итеративно выполнять запросы, если серверы пересылки не разрешают их. Более эффективно задавать один IP-адрес как сервер пересылки для DNS-сервера. Вы можете использовать команду **ресетфорвардерс** для внутренних серверов в сети, чтобы перенаправить неразрешенные запросы на один DNS-сервер с внешним подключением.<br/>. Перечисление IP-адресов сервера пересылки дважды приводит к тому, что DNS-сервер дважды попытается переслать этот сервер.<br/># # # # Пример использования<br/><pre>dnscmd dnssvr1.contoso.com /resetforwarders 10.0.0.1 /timeout 7 /slave  
dnscmd dnssvr1.contoso.com /resetforwarders /noslave</pre><br/>### <a name=BKMK_17> </a>dnscmd/ресетлистенаддрессес<br/>Указывает IP-адреса на сервере, который прослушивает запросы клиентов DNS.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /resetlistenaddresses [&lt;listenaddress&gt;]</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<listenaddress>**<br/>Указывает IP-адрес на DNS-сервере, который прослушивает запросы клиентов DNS. Если адрес прослушивания не указан, все IP-адреса на сервере прослушивают запросы клиентов.<br/># # # # Примечания<br/>— По умолчанию все IP-адреса на DNS-сервере прослушивают запросы DNS клиента.<br/># # # # Пример использования<br/><code>dnscmd dnssvr1.contoso.com /resetlistenaddresses 10.0.0.1</code><br/>### <a name=BKMK_18> </a>dnscmd/стартскавенгинг<br/>Указывает DNS-серверу выполнить немедленный поиск устаревших записей ресурсов на указанном DNS-сервере.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /startscavenging</code><br/># # # # Параметр<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/># # # # Примечания<br/>— Успешное выполнение этой команды немедленно запускает очистку.<br/>— Хотя выполнение команды для запуска очистки завершается успешно, очистка не запускается, если выполняются следующие предварительные условия.<br/>    — Очистка включена как для сервера, так и для зоны.<br/>    — Зона запущена.<br/>    — Записи ресурсов имеют метку времени.<br/>— сведения о том, как включить очистку для сервера, см. в параметре **скавенгингинтервал** в разделе синтаксис уровня сервера раздела <a href=#BKMK_3 data-raw-source=[config](#BKMK_3)>config</a> .<br/>— сведения о том, как включить очистку для зоны, см. в параметре **устаревания** в разделе синтаксис уровня зоны раздела <a href=#BKMK_3 data-raw-source=[config](#BKMK_3)>config</a> .<br/>— сведения о том, как запустить приостановленную зону, см. в разделе <a href=#BKMK_35 data-raw-source=[zoneresume](#BKMK_35)>зонересуме</a> .<br/>— сведения о том, как проверить записи ресурсов для отметки времени, см. в разделе <a href=#BKMK_1 data-raw-source=[ageallrecords](#BKMK_1)>ажеаллрекордс</a> .<br/>— Если очистка завершается неудачно, предупреждающее сообщение не отображается.<br/># # # # Пример использования<br/><code>dnscmd dnssvr1.contoso.com /startscavenging</code><br/>### <a name=BKMK_19> </a>dnscmd/Статистикс<br/>Отображает или очищает данные для указанного DNS-сервера.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /statistics [&lt;StatID&gt;] [/clear]</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<StatID>**<br/>Указывает, какая статистика или какая комбинация статистики должна отображаться. Идентификационный номер используется для идентификации статистики. Если идентификатор статистики не указан, отображается вся статистика.<br/>Ниже приведен список чисел, которые можно указать, и соответствующий статистический показатель, отображающий:<br/>**раздела**<br/>time<br/>**00000002**<br/>query<br/>**00000004**<br/>query2<br/>**00000008**<br/>Recurse<br/>**00000010**<br/>Главный<br/>**00000020**<br/>Сервер<br/>**00000040**<br/>WINS<br/>**00000100**<br/>Обновление:<br/>**00000200**<br/>сквансек<br/>**00000400**<br/>DS<br/>**00010000**<br/>Память<br/>**00100000**<br/>паккетмем<br/>**00040000**<br/>DBASE<br/>**00080000**<br/>Записи<br/>**00200000**<br/>нбстатмем<br/>**/Clear**<br/>Сбрасывает указанный счетчик статистики в нулевое значение.<br/># # # # Примечания<br/>— Команда **статистики** отображает счетчики, которые начинаются на DNS-сервере при его запуске или возобновлении.<br/># # # # Примеры<br/>См. раздел < a href =https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[пример 7: Отображать статистику времени для DNS-сервера](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)> примере 7: Отображение статистики времени для DNS-сервера</a> или < a href =https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[пример 8: Отображение статистики Нбстатмем для DNS-сервера](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)> примере 8: Отображение статистики Нбстатмем для DNS-сервера</a>.<br/>### <a name=BKMK_20> </a>dnscmd/уненлистдиректорипартитион<br/>Удаляет DNS-сервер из указанного набора реплик разделов&#39;каталога.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /unenlistdirectorypartition &lt;PartitionFQDN&gt;</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<PartitionFQDN>**<br/>Полное доменное имя раздела каталога приложений DNS, который будет удален.<br/>### <a name=BKMK_21> </a>dnscmd/вритебаккфилес<br/>Проверяет память DNS-сервера на наличие изменений и записывает их в постоянное хранилище.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /writebackfiles [&lt;ZoneName&gt;]</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<ZoneName>**<br/>Указывает имя зоны для обновления.<br/># # # # Примечания<br/>— Команда **вритебаккфилес** обновляет все изменившиеся зоны или указанную зону. Зона изменена при наличии изменений в памяти, которые еще не были записаны в постоянное хранилище. Это операция уровня сервера, которая проверяет все зоны. В этой операции можно указать одну зону или выполнить операцию <a href=#BKMK_37 data-raw-source=[zonewriteback](#BKMK_37)>зоневритебакк</a> .<br/># # # # Пример использования<br/><code>dnscmd dnssvr1.contoso.com /writebackfiles</code><br/>### <a name=BKMK_22> </a>dnscmd/зонеадд<br/>Добавляет зону на DNS-сервер.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /zoneadd &lt;ZoneName&gt; &lt;Zonetype&gt; [/dp &lt;FQDN&gt;| {/domain|/enterprise|/legacy}]</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<ZoneName>**<br/>Указывает имя зоны.<br/>**<Zonetype>**<br/>Указывает тип создаваемой зоны. Каждый тип зоны имеет разные обязательные параметры:<br/>**/дспримари**<br/>создает зону, интегрированную с Active Directory.<br/>**/Primary/File <FileName>**<br/>создает стандартную основную зону и указывает имя файла, в котором будут храниться сведения о зоне.<br/>**/Секондари <MasterIPaddress> [<MasterIPaddress>...]**<br/>создает стандартную вторичную зону.<br/>**/stub прилагает <MasterIPaddress> [<MasterIPaddress>...]/File <FileName>**<br/>создает зону-заглушку с резервным копированием файлов.<br/>**/дсстуб <MasterIPaddress> [<MasterIPaddress>...]**<br/>создает зону-заглушку, интегрированную в Active Directory.<br/>**/Форвардер <MasterIPaddress> [<MasterIPaddress>].../File <FileName>**<br/>Указывает, что созданная зона пересылает неразрешенные запросы другому DNS-серверу.<br/>**/дсфорвардер**<br/>Указывает, что созданная интегрированная зона Active Directory пересылает неразрешенные запросы другому DNS-серверу.<br/>**/DP <FQDN> {/Domain |/ентерприсе |/легаци}**<br/>Указывает раздел каталога, в котором будет храниться зона.<br/>**<FQDN>**<br/>Указывает полное доменное имя раздела каталога.<br/>**/Domain**<br/>Сохраняет зону в разделе каталога домена.<br/>**/ентерприсе**<br/>Сохраняет зону в разделе каталога предприятия.<br/>**/легаци**<br/>Сохраняет зону на устаревшем разделе каталога.<br/># # # # Примечания<br/>— Указание типа зоны **/форвардер** или **/дсфорвардер** создает зону, которая выполняет условное перенаправление.<br/># # # # Пример использования<br/><pre>dnscmd dnssvr1.contoso.com /zoneadd test.contoso.com /dsprimary  
dnscmd dnssvr1.contoso.com /zoneadd secondtest.contoso.com /secondary 10.0.0.2</pre><br/>### <a name=BKMK_23> </a>dnscmd/зонечанжедиректорипартитион<br/>изменяет раздел каталога, в котором находится указанная зона.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /zonechangedirectorypartition &lt;ZoneName&gt;] {[&lt;NewPartitionName&gt;] | [&lt;Zonetype&gt;] }</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<ZoneName>**<br/>Полное доменное имя текущего раздела каталога, в котором находится зона.<br/>**<NewPartitionName>**<br/>Полное доменное имя раздела каталога, в который будет перемещена зона.<br/>**<Zonetype>**<br/>Указывает тип раздела каталога, в который будет перемещена зона.<br/>**/Domain**<br/>Перемещает зону во встроенный раздел каталога домена.<br/>**/Forest**<br/>Перемещает зону во встроенный раздел каталога леса.<br/>**/легаци**<br/>Перемещает зону в раздел каталога, который создается для предварительных контроллеров домена Active Directory. Эти разделы каталога не являются обязательными для основного режима.<br/>### <a name=BKMK_24> </a>dnscmd/зонеделете<br/>Удаляет указанную зону.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /zonedelete &lt;ZoneName&gt; [/dsdel] [/f]</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<ZoneName>**<br/>Указывает имя зоны, которая будет удалена.<br/>**/дсдел**<br/>Удаляет зону из AD DS.<br/>**ключа**<br/>Выполняет команду без запроса подтверждения.<br/># # # # Пример<br/>См. раздел < a href =https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-source =[Пример 9. Удаление зоны с DNS-сервера](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)> Пример 9. Удаление зоны с DNS-сервера</a>.<br/>### <a name=BKMK_25> </a>dnscmd/зоникспорт<br/>создает текстовый файл, в котором перечислены записи ресурсов указанной зоны.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /zoneexport &lt;ZoneName&gt; &lt;ZoneExportFile&gt;</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный синтаксисом локального компьютера, IP-адресом, полным доменным именем или узлом. Если этот параметр пропущен, используется локальный сервер.<br/>**<ZoneName>**<br/>Указывает имя зоны.<br/>**<ZoneExportFile>**<br/>Указывает имя создаваемого файла.<br/># # # # Примечания<br/>— Операция **зоникспорт** создает файл записей ресурсов для интегрированной зоны Active Directory с целью устранения неполадок. По умолчанию файл, создаваемый этой командой, помещается в каталог DNS, который по умолчанию имеет каталог% SystemRoot%/System32/Dns.<br/># # # # Пример<br/>См. < a href =https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[пример 10: Экспортируйте список записей ресурсов зоны в файл](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)> примере 10: Экспорт списка записей ресурсов зоны в файл</a>.<br/>### <a name=BKMK_26> </a>dnscmd/зонеинфо<br/>Отображает параметры из раздела реестра указанной зоны: **HKEY_LOCAL_MACHINE \Систем\куррентконтролсет\сервицес\днс\параметерс\зонес\<ZoneName >**<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /zoneinfo &lt;ZoneName&gt;  [&lt;Setting&gt;]</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<ZoneName>**<br/>Указывает имя зоны.<br/>**<Setting>**<br/>Можно отдельно указать любой параметр, возвращаемый командой **зонеинфо** . Если параметр не указан, возвращаются все параметры.<br/># # # # Примечания<br/>— Команда **зонеинфо** отображает параметры реестра на уровне зоны DNS в **HKEY_LOCAL_MACHINE \систем\куррентконтролсет\сервицес\днс\параметерс\зонес\<zonename >** .<br/>— Для вывода параметров реестра на уровне сервера используйте команду <a href=#BKMK_12 data-raw-source=[info](#BKMK_12)>info</a> .<br/>— Чтобы просмотреть список параметров, которые можно отобразить с помощью этой команды, см. команду <a href=#BKMK_3 data-raw-source=[config](#BKMK_3)>config</a> .<br/># # # # Пример<br/>См. < a href =https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[пример 11: Отобразите параметр RefreshInterval из реестра](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)> Пример 11: Отобразить параметр RefreshInterval из реестра</a> или < a href =https://technet.microsoft.com/library/cc784399(v=ws.10).aspx Data-RAW-Source =[примере 12: Отображение параметра устаревания из реестра](https://technet.microsoft.com/library/cc784399(v=ws.10).aspx)> примере 12: Отображение параметра устаревания из</a> реестра.<br/>### <a name=BKMK_27> </a>dnscmd/зонепаусе<br/>приостанавливает указанную зону, которая затем игнорирует запросы.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /zonepause &lt;ZoneName&gt;</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<ZoneName>**<br/>Указывает имя зоны, которая должна быть приостановлена.<br/># # # # Примечания<br/>— Чтобы возобновить зону и сделать ее доступной после приостановки, используйте команду <a href=#BKMK_35 data-raw-source=[zoneresume](#BKMK_35)>зонересуме</a> .<br/># # # # Пример использования<br/><code>dnscmd dnssvr1.contoso.com /zonepause test.contoso.com</code><br/>### <a name=BKMK_28> </a>dnscmd/зонепринт<br/>Выводит список записей в зоне.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /zoneprint &lt;ZoneName&gt;</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный синтаксисом локального компьютера, IP-адресом, полным доменным именем или узлом. Если этот параметр пропущен, используется локальный сервер.<br/>**<ZoneName>**<br/>Определяет зону для перечисления.<br/>### <a name=BKMK_30> </a>dnscmd/зонерефреш<br/>принудительное обновление дополнительной зоны DNS из главной зоны.<br/># # # # Синтаксис<br/><code>dnscmd &lt;ServerName&gt; /zonerefresh &lt;ZoneName&gt;</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<ZoneName>**<br/>Указывает имя зоны, которая будет обновлена.<br/># # # # Примечания<br/>— Команда **зонерефреш** принудительно проверяет номер версии в записи ресурса SOA главного сервера. Если номер версии на главном сервере выше номера версии сервера&#39;-получателя, инициируется зонная отправка, которая обновляет сервер-получатель. Если номер версии совпадает, перенос зоны не выполняется.<br/>— Принудительная проверка выполняется по умолчанию каждые 15 минут. Чтобы изменить значение по умолчанию, используйте команду **dnscmd config RefreshInterval** .<br/># # # # Пример использования<br/><code>dnscmd dnssvr1.contoso.com /zonerefresh test.contoso.com</code><br/>### <a name=BKMK_31> </a>dnscmd/зонерелоад<br/>Копирует сведения о зоне из своего источника.<br/># # # # Синтаксис<br/><code>dnscmd &lt;ServerName&gt; /zonereload &lt;ZoneName&gt;</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<ZoneName>**<br/>Указывает имя зоны, которая будет перезагружена.<br/># # # # Примечания<br/>— Если зона интегрирована с Active Directory, она перезагружается из AD DS.<br/>— Если зона является стандартной зоной с передачей файлов, она перезагружается из файла.<br/># # # # Пример использования<br/><code>dnscmd dnssvr1.contoso.com /zonereload test.contoso.com</code><br/>### <a name=BKMK_32> </a>dnscmd/зонересетмастерс<br/>Сбрасывает IP-адреса главного сервера, который предоставляет сведения о переносе зоны в дополнительную зону.<br/># # # # Синтаксис<br/><code>dnscmd &lt;ServerName&gt; /zoneresetmasters &lt;ZoneName&gt; [/local] [&lt;IPaddress&gt; [&lt;IPaddress&gt;]...]</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<ZoneName>**<br/>Указывает имя зоны, которая будет перезагружена.<br/>**/Local**<br/>Задает локальный главный список. Этот параметр используется для зон, интегрированных с Active Directory.<br/>**<IPaddress>**<br/>IP-адреса главных серверов дополнительной зоны.<br/># # # # Примечания<br/>— Это значение изначально задается при создании дополнительной зоны. Используйте команду **зонересетмастерс** на сервере-получателе. Это значение не действует, если оно задано на главном DNS-сервере.<br/># # # # Пример использования<br/><pre>dnscmd dnssvr1.contoso.com /zoneresetmasters test.contoso.com 10.0.0.1  
dnscmd dnssvr1.contoso.com /zoneresetmasters test.contoso.com /local</pre><br/>### <a name=BKMK_33> </a>dnscmd/зонересетскавенжесерверс<br/>изменяет IP-адреса серверов, которые могут очищать указанную зону.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /zoneresetscavengeservers &lt;ZoneName&gt; [&lt;IPaddress&gt; [&lt;IPaddress&gt;]...]</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный синтаксисом локального компьютера, IP-адресом, полным доменным именем или узлом. Если этот параметр пропущен, используется локальный сервер.<br/>**<ZoneName>**<br/>Определяет зону для очистки.<br/>**<IPaddress>**<br/>список IP-адресов серверов, которые могут выполнять очистку. Если этот параметр пропущен, все серверы, на которых размещается эта зона, могут очищать ее.<br/># # # # Примечания<br/>— По умолчанию все серверы, на которых размещается зона, могут очищать эту зону.<br/>— Если зона размещается на нескольких DNS-серверах, эту команду можно использовать, чтобы уменьшить количество случаев очистки зоны.<br/>— Очистка должна быть включена на DNS-сервере и зоне, на которые влияет эта команда.<br/># # # # Пример использования<br/><code>dnscmd dnssvr1.contoso.com /zoneresetscavengeservers test.contoso.com 10.0.0.1 10.0.0.2</code><br/>### <a name=BKMK_34> </a>dnscmd/зонересетсекондариес<br/>Указывает список IP-адресов вторичных серверов, на которые будет отвечать главный сервер при запросе на зонную пересылку.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /zoneresetsecondaries &lt;ZoneName&gt; {/noxfr | /nonsecure | /securens | /securelist &lt;SecurityIPaddresses&gt;} {/nonotify | /notify | /notifylist &lt;NotifyIPaddresses&gt;}</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если параметр не указан, используется локальный сервер.<br/>**<ZoneName>**<br/>Указывает имя зоны, для которой будут сброшены вторичные серверы.<br/>**/ноксфр | /нонсекуре | /секуренс | /секурелист <SecurityIPaddresses>**<br/>Указывает, получит ли обновление все или только некоторые серверы-получатели, запрашивающие обновление.<br/>**/ноксфр**<br/>Указывает, что передача зон запрещена.<br/>**/нонсекуре**<br/>Указывает, что предоставлены все запросы на зонную пересылку.<br/>**/секуренс**<br/>Указывает, что перемещение предоставляется только серверу, указанному в записи ресурса сервера имен (NS) для зоны.<br/>**/секурелист**<br/>Указывает, что передачи зоны предоставляются только списку серверов. За этим параметром должен следовать IP-адрес или адреса, используемые главным сервером.<br/>**<SecurityIPaddresses>**<br/>список IP-адресов, которые получают передачи зоны с главного сервера. Этот параметр используется только с параметром **/секурелист** .<br/>**/нонотифи | /нотифи | /нотифилист <NotifyIPaddresses>**<br/>Указывает, что уведомление об изменении отправляется только на определенные серверы-получатели:<br/>**/нонотифи**<br/>Указывает, что уведомления об изменениях не отправляются на серверы-получатели.<br/>**/нотифи**<br/>Указывает, что уведомления об изменениях отправляются на все серверы-получатели.<br/>**/нотифилист**<br/>Указывает, что уведомления об изменениях отправляются только в список серверов. За этой командой должен следовать IP-адрес или адреса, используемые главным сервером.<br/>**<NotifyIPaddresses>**<br/>Указывает IP-адрес или адреса вторичного сервера или серверов, на которые отправляются уведомления об изменениях. Этот список используется только с параметром **/нотифилист** .<br/># # # # Примечания<br/>— Используйте команду **зонересетсекондариес** на главном сервере, чтобы указать, как она реагирует на запросы на зонную пересылку с серверов-получателей.<br/># # # # Пример использования<br/><pre>dnscmd dnssvr1.contoso.com /zoneresetsecondaries test.contoso.com /noxfr /nonotify  
dnscmd dnssvr1.contoso.com /zoneresetsecondaries test.contoso.com /securelist 11.0.0.2</pre><br/>### <a name=BKMK_29> </a>dnscmd/зонересеттипе<br/>изменяет тип зоны.<br/># # # # Синтаксис<br/><code>dnscmd [&lt;ServerName&gt;] /zoneresettype &lt;ZoneName&gt; &lt;Zonetype&gt; [/overwrite_mem | /overwrite_ds]</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный синтаксисом локального компьютера, IP-адресом, полным доменным именем или узлом. Если этот параметр пропущен, используется локальный сервер.<br/>**<ZoneName>**<br/>Определяет зону, в которой будет изменяться тип.<br/>**<Zonetype>**<br/>Указывает тип создаваемой зоны. Каждый тип имеет разные обязательные параметры:<br/>**/дспримари**<br/>создает зону, интегрированную с Active Directory.<br/>**/Primary/File <FileName>**<br/>создает стандартную основную зону.<br/>**/Секондари <MasterIPaddress> [,<MasterIPaddress>...]**<br/>создает стандартную вторичную зону.<br/>**/stub прилагает <MasterIPaddress>[,<MasterIPaddress>...]/File <FileName>**<br/>создает зону-заглушку с резервным копированием файлов.<br/>**/дсстуб <MasterIPaddress>[,<MasterIPaddress>...]**<br/>создает зону-заглушку, интегрированную в Active Directory.<br/>**/Форвардер &lt;Мастерипаддресс [,<MasterIPaddress>].../File<FileName>**<br/>Указывает, что созданная зона пересылает неразрешенные запросы другому DNS-серверу.<br/>**/дсфорвардер**<br/>Указывает, что созданная интегрированная зона Active Directory пересылает неразрешенные запросы другому DNS-серверу.<br/>**/overwrite_mem | /overwrite_ds**<br/>Указывает, как перезаписывать существующие данные:<br/>**/overwrite_mem**<br/>Перезаписывает данные DNS из данных в AD DS.<br/>**/overwrite_ds**<br/>Перезаписывает существующие данные в AD DS.<br/># # # # Примечания<br/>— Установка типа зоны **/дсфорвардер** создает зону, которая выполняет условное перенаправление.<br/># # # # Пример использования<br/><pre>dnscmd dnssvr1.contoso.com /zoneresettype test.contoso.com /primary /file test.contoso.com.dns  
dnscmd dnssvr1.contoso.com /zoneresettype second.contoso.com /secondary 10.0.0.2</pre><br/>### <a name=BKMK_35> </a>dnscmd/зонересуме<br/>Запускает указанную ранее приостановленную зону.<br/># # # # Синтаксис<br/><code>dnscmd &lt;ServerName&gt; /zoneresume &lt;ZoneName&gt;</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<ZoneName>**<br/>Указывает имя зоны для возобновления.<br/># # # # Примечания<br/>— Эту операцию можно использовать для отмены операции <a href=#BKMK_27 data-raw-source=[zonepause](#BKMK_27)>зонепаусе</a> .<br/># # # # Пример использования<br/><code>dnscmd dnssvr1.contoso.com /zoneresume test.contoso.com</code><br/>### <a name=BKMK_36> </a>dnscmd/зонеупдатефромдс<br/>Обновляет указанную интегрированную зону Active Directory из AD DS.<br/># # # # Синтаксис<br/><code>dnscmd &lt;ServerName&gt; /zoneupdatefromds &lt;ZoneName&gt;</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<ZoneName>**<br/>Указывает имя зоны для обновления.<br/># # # # Примечания<br/>— зоны, интегрированные с Active Directory, по умолчанию выполняют это обновление каждые пять минут. Чтобы изменить этот параметр, используйте команду **dnscmd config дсполлингинтервал** .<br/># # # # Пример использования<br/><code>dnscmd dnssvr1.contoso.com /zoneupdatefromds</code><br/>### <a name=BKMK_37> </a>dnscmd/зоневритебакк<br/>Проверяет память DNS-сервера на наличие изменений, относящихся к указанной зоне, и записывает их в постоянное хранилище.<br/># # # # Синтаксис<br/><code>dnscmd &lt;ServerName&gt; /zonewriteback &lt;ZoneName&gt;</code><br/># # # # # Параметры<br/>**<ServerName>**<br/>Указывает DNS-сервер для управления, представленный IP-адресом, FQDN или именем узла. Если этот параметр пропущен, используется локальный сервер.<br/>**<ZoneName>**<br/>Указывает имя зоны для обновления.<br/># # # # Примечания<br/>— Это операция на уровне зоны. Вы можете обновить все зоны на DNS-сервере с помощью операции <a href=#BKMK_21 data-raw-source=[writebackfiles](#BKMK_21)>вритебаккфилес</a> .<br/># # # # Пример использования<br/><code>dnscmd dnssvr1.contoso.com /zonewriteback test.contoso.com</code>  
