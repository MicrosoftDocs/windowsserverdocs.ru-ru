---
title: auditpol Ресаурцесакл
description: Раздел команд Windows для **auditpol ресаурцесакл**, который настраивает списки управления доступом к глобальным ресурсам системы (SACL).
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: 28771ba7-967a-45e9-9bf0-b2a2673070f0
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: b004be6f21cd076fe20e73c45268731c35d654e5
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2020
ms.locfileid: "80851157"
---
# <a name="auditpol-resourcesacl"></a>auditpol Ресаурцесакл

Настраивает списки управления доступом к глобальным ресурсам системы (SACL).

> [!NOTE]
> Применимо только к Windows 7 и Windows Server 2008 R2.

Примеры использования этой команды см. в разделе [примеры](#BKMK_Examples).

## <a name="syntax"></a>Синтаксис

```
auditpol /resourceSACL
[/set /type:<resource> [/success] [/failure] /user:<user> [/access:<access flags>]]
[/remove /type:<resource> /user:<user> [/type:<resource>]]
[/clear [/type:<resource>]]
[/view [/user:<user>] [/type:<resource>]]
```

### <a name="parameters"></a>Параметры

| Параметр | Описание |
| --------- | ----------- |
| команде | Добавляет новую запись в список SACL ресурсов для указанного типа ресурса или обновляет существующую запись в списке управления доступом. |
| /remove | Удаляет все записи для данного пользователя в списке аудита доступа к глобальным объектам. |
| /Clear | Удаляет все записи из списка аудита доступа к глобальным объектам.|
| /виев | Список записей аудита доступа к глобальным объектам в списке SACL ресурса. Типы пользователей и ресурсов необязательны. |
| /? | Отображает справку в командной строке. |

## <a name="arguments"></a>Аргументы

| Аргумент | Описание |
| -------- | ----------- | 
| /type | Ресурс, для которого настраивается аудит доступа к объектам. Поддерживаемые, с учетом регистра, значения аргументов — File (для каталогов и файлов) и Key (для разделов реестра). |
| /сукцесс | Указывает аудит успехов. |
| /фаилуре | Указывает аудит сбоев. |
| WMIC | Указывает пользователя в одной из следующих форм:<ul><li> Домаиннаме\аккаунт (например, Дом\администраторс)</li><li>Учетная запись Стандалонесервер\грауп (см. раздел [функция LookupAccountName](https://msdn.microsoft.com/library/windows/desktop/aa379159(v=vs.85).aspx))</li><li>{S-1-x-x-x-x} (x выражается в десятичном формате, а весь идентификатор SID должен быть заключен в фигурные скобки). Например: {S-1-5-21-5624481-130208933-164394174-1001}<p>**Примечание.** Если используется форма SID, проверка существования этой учетной записи не выполняется.</li></ul> |
| /акцесс | Задает маску разрешений, которую можно указать с помощью:<p>Универсальные права доступа, включая:<ul><li>ОБЩЕДОСТУПНАЯ ВЕРСИЯ-ОБЩИЙ</li><li>GR — УНИВЕРСАЛЬНОЕ ЧТЕНИЕ</li><li>GW — УНИВЕРСАЛЬНАЯ ЗАПИСЬ</li><li>GX — УНИВЕРСАЛЬНОЕ ВЫПОЛНЕНИЕ</li></ul><p>Права доступа к файлам, включая:<ul><li>FA — ФАЙЛ, ПОЛНЫЙ ДОСТУП</li><li>FR — ОБЩЕЕ ЧТЕНИЕ ФАЙЛА</li><li>FW-FILE — ОБЩАЯ ЗАПИСЬ</li><li>FX — ОБЩИЙ ЗАПУСК ФАЙЛА</li></ul><p>Права доступа к разделам реестра, включая:<ul><li>"КА" — КЛЮЧ "ПОЛНЫЙ ДОСТУП"</li><li>ЧТЕНИЕ С КЛАВИАТУРЫ KR</li><li>КВТ *-КЛЮЧ ЗАПИСИ</li><li>ККС-КЛЮЧ ВЫПОЛНЕНИЯ</li></ul><p>Например: `/access:FRFW` включит события аудита для операций чтения и записи.<p>Шестнадцатеричное значение, представляющее маску доступа (например, 0x1200a9)<p>    Это полезно при использовании битовых масок для конкретных ресурсов, которые не входят в стандарт языка определения дескрипторов безопасности (SDDL). Если этот параметр опущен, используется полный доступ. |

## <a name="remarks"></a>Примечания

Для операций Ресаурцесакл необходимо иметь разрешение на запись или полный доступ для этого набора объектов в дескрипторе безопасности. Вы также можете выполнять Ресаурцесакл операции, нажимая права пользователя " **Управление аудитом и журналом безопасности** " (SeSecurityPrivilege). Однако это право позволяет получить дополнительный доступ, который не требуется для выполнения операции удаления.

## <a name="examples"></a><a name=BKMK_Examples></a>Примеров

Чтобы настроить список SACL глобальных ресурсов для аудита успешных попыток доступа пользователем к разделу реестра, выполните следующие действия.

```
auditpol /resourceSACL /set /type:Key /user:MYDOMAIN\myuser /success
```

Чтобы настроить список SACL глобальных ресурсов для аудита успешных и неудачных попыток, выполняемых пользователем для выполнения универсальных функций чтения и записи в файлах или папках:

```
auditpol /resourceSACL /set /type:File /user:MYDOMAIN\myuser /success /failure /access:FRFW
```

Чтобы удалить все глобальные записи SACL ресурсов для файлов или папок, выполните следующие действия.

```
auditpol /resourceSACL /type:File /clear
```

Чтобы удалить все глобальные записи SACL для конкретного пользователя из файлов или папок, выполните следующие действия.

```
auditpol /resourceSACL /remove /type:File /user:{S-1-5-21-56248481-1302087933-1644394174-1001}
```

Для получения списка записей аудита доступа к глобальным объектам, заданных для файлов и папок:

```
auditpol /resourceSACL /type:File /view
```

Для получения списка записей аудита доступа к глобальным объектам для конкретного пользователя, заданных для файлов и папок:

```
auditpol /resourceSACL /type:File /view /user:MYDOMAIN\myuser
```

## <a name="additional-references"></a>Дополнительные материалы

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)