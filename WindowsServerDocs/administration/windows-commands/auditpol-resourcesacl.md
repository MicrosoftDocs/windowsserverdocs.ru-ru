---
title: auditpol Ресаурцесакл
description: Раздел команд Windows для **Удитпол ресаурцесакл** . Настройка списков управления доступом к глобальным ресурсам системы (SACL).
ms.custom: na
ms.prod: windows-server
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 28771ba7-967a-45e9-9bf0-b2a2673070f0
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 2acffd75298f0f36a9c15e0622816feaae57cb64
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/27/2019
ms.locfileid: "71382435"
---
# <a name="auditpol-resourcesacl"></a>auditpol Ресаурцесакл



Настраивает списки управления доступом к глобальным ресурсам системы (SACL).

> [!NOTE]
> Применимо только к Windows 7 и Windows Server 2008 R2.

Примеры использования этой команды см. в разделе [примеры](#BKMK_Examples).

## <a name="syntax"></a>Синтаксис

```
auditpol /resourceSACL
[/set /type:<resource> [/success] [/failure] /user:<user> [/access:<access flags>]]
[/remove /type:<resource> /user:<user> [/type:<resource>]]
[/clear [/type:<resource>]]
[/view [/user:<user>] [/type:<resource>]]
```

## <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------|-----------|
|команде|Добавляет новую запись в список SACL ресурсов для указанного типа ресурса или обновляет существующую запись в списке управления доступом.|
|/remove|Удаляет все записи для данного пользователя в списке аудита доступа к глобальным объектам.|
|/Clear|Удаляет все записи из списка аудита доступа к глобальным объектам.|
|/виев|Список записей аудита доступа к глобальным объектам в списке SACL ресурса. Типы пользователей и ресурсов необязательны.|
|/?|Отображение справки в командной строке.|

## <a name="arguments"></a>Аргументы

|Аргумент|Описание|
|--------|-----------|
|/Type|Ресурс, для которого настраивается аудит доступа к объектам. Поддерживаемые значения аргумента — file (для каталогов и файлов) и Key (для разделов реестра).</br>Примечание. В значениях файла и ключа учитывается регистр.|
|/сукцесс|Указывает аудит успехов.|
|/фаилуре|Указывает аудит сбоев.|
|WMIC|Указывает пользователя в одной из следующих форм:</br>-Домаиннаме\аккаунт (например, Дом\администраторс)</br>— Учетная запись Стандалонесервер\грауп (см. раздел [функция LookupAccountName](https://msdn.microsoft.com/library/windows/desktop/aa379159(v=vs.85).aspx)).</br>-{S-1-x-x-x-x} (x выражается в десятичном формате, а весь идентификатор SID должен быть заключен в фигурные скобки); Например: {S-1-5-21-5624481-130208933-164394174-1001}</br>    Примечание.     Если используется форма SID, проверка существования этой учетной записи не выполняется.|
|/акцесс|Задает маску разрешений, которая может быть указана в одной из двух форм:</br>— Последовательность простых прав:</br>    — Универсальные права доступа:</br>        -GA — ОБЩИЙ ДОСТУП</br>        -GR — УНИВЕРСАЛЬНОЕ ЧТЕНИЕ</br>        -GW — УНИВЕРСАЛЬНАЯ ЗАПИСЬ</br>        -GX — УНИВЕРСАЛЬНОЕ ВЫПОЛНЕНИЕ</br>    — Права доступа к файлам:</br>        -FA — ФАЙЛ ВСЕ ДОСТУП</br>        -FR — ОБЩЕЕ ЧТЕНИЕ ФАЙЛА</br>        -FW-FILE — ОБЩАЯ ЗАПИСЬ</br>        -FX-FILE УНИВЕРСАЛЬНЫЙ ЗАПУСК</br>    — Права доступа к разделам реестра:</br>        -КА – КЛЮЧ ВСЕ ДОСТУП</br>        -KR-ЧТЕНИЕ КЛЮЧА</br>        -КВТ *-КЛЮЧ ЗАПИСИ</br>        -ККС-КЛЮЧ EXECUTE</br>    Например: "/акцесс: ФРФВ" включит события аудита для операций чтения и записи</br>— Шестнадцатеричное значение, представляющее маску доступа (например, 0x1200a9).</br>    Это полезно при использовании битовых масок для конкретных ресурсов, которые не входят в стандарт языка определения дескрипторов безопасности (SDDL). Если этот параметр опущен, используется полный доступ.|

## <a name="remarks"></a>Примечания

Для операций Ресаурцесакл необходимо иметь разрешение на запись или полный доступ для этого набора объектов в дескрипторе безопасности. Вы также можете выполнять Ресаурцесакл операции, нажимая права пользователя " **Управление аудитом и журналом безопасности** " (SeSecurityPrivilege). Однако это право позволяет получить дополнительный доступ, который не требуется для выполнения операции удаления.

## <a name="BKMK_Examples"></a>Примеров

Чтобы настроить список SACL глобальных ресурсов для аудита успешных попыток доступа пользователем к разделу реестра, выполните следующие действия.
```
auditpol /resourceSACL /set /type:Key /user:MYDOMAIN\myuser /success
```
Чтобы настроить список SACL глобальных ресурсов для аудита успешных и неудачных попыток, выполняемых пользователем для выполнения универсальных функций чтения и записи в файлах или папках:
```
auditpol /resourceSACL /set /type:File /user:MYDOMAIN\myuser /success /failure /access:FRFW
```
Чтобы удалить все глобальные записи SACL ресурсов для файлов или папок, выполните следующие действия.
```
auditpol /resourceSACL /type:File /clear
```
Чтобы удалить все глобальные записи SACL для конкретного пользователя из файлов или папок, выполните следующие действия.
```
auditpol /resourceSACL /remove /type:File /user:{S-1-5-21-56248481-1302087933-1644394174-1001}
```
Для получения списка записей аудита доступа к глобальным объектам, заданных для файлов и папок:
```
auditpol /resourceSACL /type:File /view
```
Для получения списка записей аудита доступа к глобальным объектам для конкретного пользователя, заданных для файлов и папок:
```
auditpol /resourceSACL /type:File /view /user:MYDOMAIN\myuser
```

#### <a name="additional-references"></a>Дополнительная справка

[Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)