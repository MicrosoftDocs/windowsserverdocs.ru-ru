---
title: Запрос SC
description: 'Раздел Windows команды для ****- '
ms.custom: na
ms.prod: windows-server
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: ac365f89-4b20-4de6-a582-b204c5e7d0eb
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 4d2f3f603ad173b5ab90bc56a9a4e589c0fe9d8a
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/27/2019
ms.locfileid: "71384345"
---
# <a name="sc-query"></a>Запрос SC



Получение и отображение сведений о указанной службе, драйвере, типе службы или типе драйвера.

В разделе [Примеры](#BKMK_examples) показан принцип использования этой команды.

## <a name="syntax"></a>Синтаксис

```
sc [<ServerName>] query [<ServiceName>] [type= {driver | service | all}] [type= {own | share | interact | kernel | filesys | rec | adapt}] [state= {active | inactive | all}] [bufsize= <BufferSize>] [ri= <ResumeIndex>] [group= <GroupName>]
```

## <a name="parameters"></a>Параметры

|       Параметр        |                                                                                                                          Описание                                                                                                                          |
|------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|     @no__t 0ServerName >      |                       Указывает имя удаленного сервера, на котором расположена служба. Имя должно использовать формат UNC (например, \\ @ no__t-1myserver). Чтобы запустить SC. exe локально, опустите этот параметр.                        |
|     @no__t 0ServiceName >     |                                      Указывает имя службы, возвращенное операцией **жеткэйнаме** . Этот параметр **запроса** не используется совместно с другими параметрами **запроса** (кроме *ServerName*).                                      |
|     Type = {драйвер      |                                                                                                                            служба                                                                                                                            |
|       Введите = {владеет       |                                                                                                                             "Предоставить общий доступ"                                                                                                                             |
|     состояние = {Active     |                                                                                                                           Активный                                                                                                                            |
| буфсизе = @no__t — 0BufferSize > |                     Задает размер (в байтах) буфера перечисления. Размер буфера по умолчанию составляет 1 024 байт. Необходимо увеличить размер буфера перечисления, когда отображение, полученное от запроса, превышает 1 024 байт.                      |
|   RI = \<ResumeIndex >   | Указывает номер индекса, с которого начинается или возобновляется перечисление. Значение по умолчанию — **0** (ноль). Используйте этот параметр вместе с параметром **буфсизе =** , если запрос возвращает больше данных, чем может отобразить буфер по умолчанию. |
|  Group = \<GroupName >   |                                                                             Указывает группу служб для перечисления. По умолчанию все группы перечислены (**Group = ""** ).                                                                              |
|           /?           |                                                                                                             Отображение справки в командной строке.                                                                                                              |

## <a name="remarks"></a>Примечания

- Без пробела между параметром и его значением (то есть **Type = владеет**, а не **типом = владеет**) операция завершится ошибкой.
- Операция **запроса** отображает следующие сведения о службе: SERVICE_NAME (имя подраздела реестра службы), тип, состояние (а также недоступные состояния), WIN32_EXIT_B, SERVICE_EXIT_B, CHECKPOINT и WAIT_HINT.
- В некоторых случаях параметр **Type =** может использоваться дважды. Первый вид параметра **Type =** указывает, следует ли запрашивать службы, драйверы или оба (**все**). Второй вид параметра **Type =** указывает тип из операции **создания** , чтобы дополнительно сузить область запроса.
- Когда отображение, полученное в результате выполнения команды **запроса** , превышает размер буфера перечисления, отображается примерно следующее сообщение:  
  ```
  Enum: more data, need 1822 bytes start resume at index 79
  ```  
  Чтобы отобразить оставшуюся информацию о **запросах** , перезапустите **Query**, установив **буфсизе =** равным количеству байтов и установив параметр **RI =** для указанного индекса. Например, для отображения оставшихся выходных данных введите в командной строке следующую команду:  
  ```
  sc query bufsize= 1822 ri= 79
  ```

## <a name="BKMK_examples"></a>Примеров

Чтобы отобразить сведения только для активных служб, введите одну из следующих команд:
```
sc query
sc query type= service
```
Чтобы отобразить сведения об активных службах и указать размер буфера 2 000 байт, введите:
```
sc query type= all bufsize= 2000
```
Чтобы отобразить сведения о службе WUAUSERV, введите:
```
sc query wuauserv
```
Чтобы отобразить сведения для всех служб (активных и неактивных), введите:
```
sc query state= all
```
Чтобы отобразить сведения для всех служб (активных и неактивных), начиная со строки 56, введите:
```
sc query state= all ri= 56
```
Чтобы отобразить сведения о интерактивных службах, введите:
```
sc query type= service type= interact
```
Чтобы отобразить сведения только для драйверов, введите:
```
sc query type= driver
```
Чтобы отобразить сведения о драйверах в группе NDIS, введите:
```
sc query type= driver group= ndis
```

#### <a name="additional-references"></a>Дополнительная справка

[Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)