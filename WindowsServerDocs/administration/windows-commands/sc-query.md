---
title: Запрос Sc.exe
description: Справочная статья по команде sc.exe Query, которая получает и отображает сведения о указанной службе, драйвере, типе службы или типе драйвера.
ms.topic: reference
ms.assetid: ac365f89-4b20-4de6-a582-b204c5e7d0eb
ms.author: lizross
author: eross-msft
manager: mtillman
ms.date: 10/16/2017
ms.openlocfilehash: 7d5994c54914165cb79ba0f505f1a44b2d7f019a
ms.sourcegitcommit: e164aeffc01069b8f1f3248bf106fcdb7f64f894
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/26/2020
ms.locfileid: "91388217"
---
# <a name="scexe-query"></a>Запрос Sc.exe

Получение и отображение сведений о указанной службе, драйвере, типе службы или типе драйвера.

## <a name="syntax"></a>Синтаксис

```
sc.exe [<servername>] query [<servicename>] [type= {driver | service | all}] [type= {own | share | interact | kernel | filesys | rec | adapt}] [state= {active | inactive | all}] [bufsize= <Buffersize>] [ri= <Resumeindex>] [group= <groupname>]
```

### <a name="parameters"></a>Параметры

| Параметр | Описание |
|--|--|
| `<servername>` | Указывает имя удаленного сервера, на котором расположена служба. Имя должно использовать формат UNC (например, \\ MyServer). Чтобы запустить SC.exe локально, не используйте этот параметр. |
| `<servicename>` | Указывает имя службы, возвращенное операцией **жеткэйнаме** . Этот параметр **запроса** не используется совместно с другими параметрами **запроса** (кроме *ServerName*). |
| `type= {driver | service | all}` | Указывает, что следует перечислять. Эти способы могут быть следующими:<ul><li>**Driver** — указывает, что перечисляются только драйверы.</li><li>**Служба** — указывает, что перечисляются только службы. Это значение по умолчанию.</li><li>**все** — указывает, что перечисляются оба драйвера и службы.</li></ul> |
| `type= {own | share | interact | kernel | filesys | rec | adapt}` | Указывает тип служб или тип драйверов для перечисления. Эти способы могут быть следующими:<ul><li>**собственный** — указывает службу, которая выполняется в собственном процессе. Он не предоставляет доступ к исполняемому файлу другим службам. Это значение по умолчанию.</li><li>**Share** — указывает службу, которая выполняется как общий процесс. Он использует исполняемый файл совместно с другими службами.</li><li>**kernel** — указывает драйвер.</li><li>**филесис** — указывает драйвер файловой системы.</li><li>**REC** — указывает драйвер, распознаваемый файловой системой, который определяет файловые системы, используемые на компьютере.</li><li>**взаимодействие** — указывает службу, которая может взаимодействовать с рабочим столом и получать входные данные от пользователей. Интерактивные службы должны запускаться под учетной записью LocalSystem. Этот тип должен использоваться в сочетании с **Type = владеть** или **Type = Shared** (например, **Type = взаимодействие** **Type = владеет**). При использовании **типа = взаимодействие** само по себе вызывает ошибку.</li></ul> |
| `state= {active | inactive | all}` | Указывает состояние запуска службы для перечисления. Эти способы могут быть следующими:<ul><li>**Активный** — указывает все активные службы. Это значение по умолчанию.</li><li>**неактивное** — указывает все приостановленные или остановленные службы.</li><li>**все** — указывает все службы.</li></ul> |
| `bufsize= <Buffersize>` | Задает размер (в байтах) буфера перечисления. Размер буфера по умолчанию составляет 1 024 байт. Следует увеличить размер буфера, когда отображение результата запроса превышает 1 024 байт. |
| `ri= <Resumeindex>` | Указывает номер индекса, с которого начинается или возобновляется перечисление. Значение по умолчанию — 0 (нуль). Если возвращается больше сведений о том, что может отображать буфер по умолчанию, используйте этот параметр с `bufsize=` параметром. |
| `group= <Groupname>` | Указывает группу служб для перечисления. По умолчанию перечисляются все группы. По умолчанию перечисляются все группы (* * Group = * *). |
| /? | Отображение справки в командной строке. |

#### <a name="remarks"></a>Комментарии

- Каждый параметр командной строки (параметр) должен включать знак равенства как часть имени параметра.

- Между параметром и его значением требуется пробел (например, **Type =** an). Если пространство не указано, операция завершается ошибкой.

- Операция **запроса** отображает следующие сведения о службе: service_name (имя подраздела реестра службы), тип, состояние (а также недоступные состояния), WIN32_EXIT_B, SERVICE_EXIT_B, контрольная точка и WAIT_HINT.

- В некоторых случаях параметр **Type =** может использоваться дважды. Первый вид параметра **Type =** указывает, следует ли запрашивать службы, драйверы или оба (**все**). Второй вид параметра **Type =** указывает тип из операции **создания** , чтобы дополнительно сузить область запроса.

- Когда отображение результатов выполнения команды **запроса** превышает размер буфера перечисления, отображается примерно следующее сообщение:

  ```
  Enum: more data, need 1822 bytes start resume at index 79

  To display the remaining **query** information, rerun **query**, setting **bufsize=** to be the number of bytes and setting **ri=** to the specified index. For example, the remaining output would be displayed by typing the following at the command prompt:

  sc.exe query bufsize= 1822 ri= 79
  ```

## <a name="examples"></a>Примеры

Чтобы отобразить сведения только для активных служб, введите одну из следующих команд:

```
sc.exe query
sc.exe query type= service
```

Чтобы отобразить сведения об активных службах и указать размер буфера 2 000 байт, введите:

```
sc.exe query type= all bufsize= 2000
```

Чтобы отобразить сведения о службе *wuauserv* , введите:

```
sc.exe query wuauserv
```

Чтобы отобразить сведения для всех служб (активных и неактивных), введите:

```
sc.exe query state= all
```

Чтобы отобразить сведения для всех служб (активных и неактивных), начиная со строки 56, введите:

```
sc.exe query state= all ri= 56
```

Чтобы отобразить сведения о интерактивных службах, введите:

```
sc.exe query type= service type= interact
```

Чтобы отобразить сведения только для драйверов, введите:

```
sc.exe query type= driver
```

Чтобы отобразить сведения о драйверах в *группе NDIS*, введите:

```
sc.exe query type= driver group= NDIS
```

## <a name="additional-references"></a>Дополнительные ссылки

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)
