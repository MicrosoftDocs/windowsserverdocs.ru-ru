---
title: Запрос Sc.exe
description: Узнайте, как получить сведения о службах, драйверах, типах служб или типах драйверов с помощью служебной программы sc.exe
ms.topic: reference
ms.assetid: ac365f89-4b20-4de6-a582-b204c5e7d0eb
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 9b3d7967597724dfae4ab5a12ecee9698a43236f
ms.sourcegitcommit: 96d46c702e7a9c3a321bbbb5284f73911c7baa3c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/27/2020
ms.locfileid: "89037532"
---
# <a name="scexe-query"></a>Запрос Sc.exe

Получение и отображение сведений о указанной службе, драйвере, типе службы или типе драйвера.

## <a name="syntax"></a>Синтаксис

```
sc.exe [<ServerName>] query [<ServiceName>] [type= {driver | service | all}] [type= {own | share | interact | kernel | filesys | rec | adapt}] [state= {active | inactive | all}] [bufsize= <BufferSize>] [ri= <ResumeIndex>] [group= <GroupName>]
```

### <a name="parameters"></a>Параметры

|       Параметр        |                                                                                                                          Описание                                                                                                                          |
|------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|     \<ServerName>      |                       Указывает имя удаленного сервера, на котором расположена служба. Имя должно использовать формат UNC (например, \\ \\ MyServer). Чтобы запустить SC.exe локально, пропустите этот параметр.                        |
|     \<ServiceName>     |                                      Указывает имя службы, возвращенное операцией **жеткэйнаме** . Этот параметр **запроса** не используется совместно с другими параметрами **запроса** (кроме *ServerName*).                                      |
|     Type = {драйвер      |                                                                                                                            служба                                                                                                                            |
|       Введите = {владеет       |                                                                                                                             поделиться                                                                                                                             |
|     состояние = {Active     |                                                                                                                           неактивно                                                                                                                            |
| буфсизе = \<BufferSize> |                     Задает размер (в байтах) буфера перечисления. Размер буфера по умолчанию составляет 1 024 байт. Необходимо увеличить размер буфера перечисления, когда отображение, полученное от запроса, превышает 1 024 байт.                      |
|   RI = \<ResumeIndex>   | Указывает номер индекса, с которого начинается или возобновляется перечисление. Значение по умолчанию — **0** (ноль). Используйте этот параметр вместе с параметром **буфсизе =** , если запрос возвращает больше данных, чем может отобразить буфер по умолчанию. |
|  Группа = \<GroupName>   |                                                                             Указывает группу служб для перечисления. По умолчанию перечисляются все группы (* * Group = * *).                                                                              |
|           /?           |                                                                                                             Отображение справки в командной строке.                                                                                                              |

## <a name="remarks"></a>Remarks

- Без пробела между параметром и его значением (то есть **Type = владеет**, а не **типом = владеет**) операция завершится ошибкой.
- Операция **запроса** отображает следующие сведения о службе: service_name (имя подраздела реестра службы), тип, состояние (а также недоступные состояния), WIN32_EXIT_B, SERVICE_EXIT_B, контрольная точка и WAIT_HINT.
- В некоторых случаях параметр **Type =** может использоваться дважды. Первый вид параметра **Type =** указывает, следует ли запрашивать службы, драйверы или оба (**все**). Второй вид параметра **Type =** указывает тип из операции **создания** , чтобы дополнительно сузить область запроса.
- Когда отображение, полученное в результате выполнения команды **запроса** , превышает размер буфера перечисления, отображается примерно следующее сообщение:
  ```
  Enum: more data, need 1822 bytes start resume at index 79
  ```
  Чтобы отобразить оставшуюся информацию о **запросах** , перезапустите **Query**, установив **буфсизе =** равным количеству байтов и установив параметр **RI =** для указанного индекса. Например, для отображения оставшихся выходных данных введите в командной строке следующую команду:
  ```
  sc.exe query bufsize= 1822 ri= 79
  ```

## <a name="examples"></a>Примеры

Чтобы отобразить сведения только для активных служб, введите одну из следующих команд:
```
sc.exe query
sc.exe query type= service
```
Чтобы отобразить сведения об активных службах и указать размер буфера 2 000 байт, введите:
```
sc.exe query type= all bufsize= 2000
```
Чтобы отобразить сведения о службе WUAUSERV, введите:
```
sc.exe query wuauserv
```
Чтобы отобразить сведения для всех служб (активных и неактивных), введите:
```
sc.exe query state= all
```
Чтобы отобразить сведения для всех служб (активных и неактивных), начиная со строки 56, введите:
```
sc.exe query state= all ri= 56
```
Чтобы отобразить сведения о интерактивных службах, введите:
```
sc.exe query type= service type= interact
```
Чтобы отобразить сведения только для драйверов, введите:
```
sc.exe query type= driver
```
Чтобы отобразить сведения о драйверах в группе NDIS, введите:
```
sc.exe query type= driver group= ndis
```

## <a name="additional-references"></a>Дополнительные ссылки

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)
