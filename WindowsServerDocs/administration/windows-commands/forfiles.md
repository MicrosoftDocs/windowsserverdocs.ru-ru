---
title: forfiles
description: Раздел Windows команды для ****-
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: 43f6b004-446d-4fdd-91c5-5653613524a4
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 08/21/2018
ms.openlocfilehash: 196da88dfd4ebe2be5a5c673e5afee3224432cb4
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2020
ms.locfileid: "80844487"
---
# <a name="forfiles"></a>forfiles



Выбирает и выполняет команду для файла или набора файлов. Эта команда полезна для пакетной обработки.

В разделе [Примеры](#BKMK_examples) показан принцип использования этой команды.

## <a name="syntax"></a>Синтаксис

```
forfiles [/p <Path>] [/m <SearchMask>] [/s] [/c <Command>] [/d [{+|-}][{<Date>|<Days>}]]
```


### <a name="parameters"></a>Параметры

|                     Параметр                      |                                                                                                                                                                                                                                                                                                    Описание                                                                                                                                                                                                                                                                                                     |
|----------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                     /p \<путь >                     |                                                                                                                                                                                                                                                 Указывает путь, с которого следует начать поиск. По умолчанию поиск начинается в текущем рабочем каталоге.                                                                                                                                                                                                                                                  |
|                  /m \<Сеарчмаск >                  |                                                                                                                                                                                                                                                           Выполняет поиск в файлах в соответствии с заданной маской поиска. По умолчанию используется маска поиска **\*.\\** \*.                                                                                                                                                                                                                                                           |
|                         /s                         |                                                                                                                                                                                                                                                                   Указывает, что команда **forfiles** выполняет рекурсивный поиск в подкаталогах.                                                                                                                                                                                                                                                                    |
|                  /c \<команда >                   |                                                                                                                                                                                                                                  Выполняет указанную команду для каждого файла. Строки команд должны заключаться в кавычки. Команда по умолчанию — **cmd/c echo @file** .                                                                                                                                                                                                                                   |
| /d&nbsp;[{+\|-}]&#8288;[{\<Date >\|&#8288;\<дней >}] | Выбирает файлы с датой последнего изменения в течение заданного промежутка времени.</br>— Выбирает файлы с датой последнего изменения позже или равно ( **+** ) или более ранней или равной ( **-** ) указанной даты, где *Дата* соответствует формату mm/дд/гггг.</br>— Выбирает файлы с датой последнего изменения позже или равным ( **+** ) текущей датой плюс указанное число дней ( **-** ) текущая дата минус указанное число дней.</br>— Допустимые значения *дней* включают любое число в диапазоне от 0 до 32768. Если знак не указан, по умолчанию используется **+** . |
|                         /?                         |                                                                                                                                                                                                                                                                                        Отображает справку в командной строке.                                                                                                                                                                                                                                                                                        |

## <a name="remarks"></a>Примечания

-   **Forfiles** чаще всего используется в пакетных файлах.
-   Команда **forfiles/s** аналогична **папке dir/с.**
-   В командной строке можно использовать следующие переменные, как указано в параметре командной строки **/c** .  

|Переменная|Описание|
|--------|-----------|
|@FILE|Имя файла.|
|@FNAME|Имя файла без расширения.|
|@EXT|Расширение имени файла.|
|@PATH|Полный путь к файлу.|
|@RELPATH|Относительный путь к файлу.|
|@ISDIR|Возвращает значение TRUE, если тип файла является каталогом. В противном случае эта переменная принимает значение FALSE.|
|@FSIZE|Размер файла в байтах.|
|@FDATE|Метка даты последнего изменения файла.|
|@FTIME|Отметка времени последнего изменения файла.|

-   С помощью **forfiles**можно выполнить команду или передать аргументы в несколько файлов. Например, можно выполнить команду **Type** для всех файлов в дереве с расширением txt. Или можно выполнить каждый пакетный файл (*. bat) на диске C с именем файла MyInput. txt в качестве первого аргумента.
-   С помощью **forfiles**можно выполнять любые из следующих действий.  
    -   Выберите файлы в абсолютную или относительную дату с помощью параметра **/d** .
    -   Создайте архивное дерево файлов, используя такие переменные, как @FSIZE и @FDATE.
    -   Чтобы отличать файлы от каталогов, используйте переменную @ISDIR.
    -   Включите специальные символы в командную строку, используя шестнадцатеричный код для символа в формате 0x*чч* (например, 0x09 для вкладки).
-   Функция **forfiles** работает путем реализации флага **подкаталогов поддиректорий** в средствах, предназначенных для обработки только одного файла.

## <a name="examples"></a><a name=BKMK_examples></a>Примеров

Чтобы вывести список всех пакетных файлов на диске C, введите:
```
forfiles /p c:\ /s /m *.bat /c cmd /c echo @file is a batch file
```
Чтобы вывести список всех каталогов на диске C, введите:
```
forfiles /p c:\ /s /m *.* /c cmd /c if @isdir==TRUE echo @file is a directory
```
Чтобы получить список всех файлов в текущем каталоге, которые устарели по крайней мере один год, введите:
```
forfiles /s /m *.* /d -365 /c cmd /c echo @file is at least one year old.
```
Чтобы отобразить текстовый *файл* , устаревший для каждого из файлов в текущем каталоге, которые старше 1 января 2007, введите:
```
forfiles /s /m *.* /d -01/01/2007 /c cmd /c echo @file is outdated. 
```
Чтобы вывести список расширений имен файлов в текущем каталоге в формате столбца и добавить вкладку перед расширением, введите:
```
forfiles /s /m *.* /c cmd /c echo The extension of @file is 0x09@ext 
```

## <a name="additional-references"></a>Дополнительные материалы

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)
