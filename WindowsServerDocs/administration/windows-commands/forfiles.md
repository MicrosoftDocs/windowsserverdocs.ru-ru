---
title: forfiles
description: 'Раздел Windows команды для ****- '
ms.custom: na
ms.prod: windows-server
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 43f6b004-446d-4fdd-91c5-5653613524a4
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 08/21/2018
ms.openlocfilehash: fa2eb5c96dfbf3870705af41a0f27991084f816d
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/27/2019
ms.locfileid: "71377067"
---
# <a name="forfiles"></a>forfiles



Выбирает и выполняет команду для файла или набора файлов. Эта команда полезна для пакетной обработки.

В разделе [Примеры](#BKMK_examples) показан принцип использования этой команды.

## <a name="syntax"></a>Синтаксис

```
forfiles [/p <Path>] [/m <SearchMask>] [/s] [/c "<Command>"] [/d [{+|-}][{<Date>|<Days>}]]
```


## <a name="parameters"></a>Параметры

|                     Параметр                      |                                                                                                                                                                                                                                                                                                    Описание                                                                                                                                                                                                                                                                                                     |
|----------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                     /p \<Path >                     |                                                                                                                                                                                                                                                 Указывает путь, с которого следует начать поиск. По умолчанию поиск начинается в текущем рабочем каталоге.                                                                                                                                                                                                                                                  |
|                  /m \<SearchMask >                  |                                                                                                                                                                                                                                                           Выполняет поиск в файлах в соответствии с заданной маской поиска. По умолчанию используется маска поиска **\*. \\** \*.                                                                                                                                                                                                                                                           |
|                         /s                         |                                                                                                                                                                                                                                                                   Указывает, что команда **forfiles** выполняет рекурсивный поиск в подкаталогах.                                                                                                                                                                                                                                                                    |
|                  /c "\<Command >"                   |                                                                                                                                                                                                                                  Выполняет указанную команду для каждого файла. Строки команд должны заключаться в кавычки. Команда по умолчанию — **"cmd/c echo @file"** .                                                                                                                                                                                                                                   |
| /d @ no__t-0 [{+ \|-}]&#8288;[{\<Date > \|&#8288;\<Days >}] | Выбирает файлы с датой последнего изменения в течение заданного промежутка времени.</br>— Выбирает файлы с датой последнего изменения позже или равно ( **+** ) или более ранней или равной ( **-** ) указанной даты, где *Дата* соответствует формату mm/дд/гггг.</br>— Выбирает файлы с датой последнего изменения позже или равным ( **+** ) текущей датой плюс указанное число дней ( **-** ) текущей даты минус указанное число дней.</br>— Допустимые значения *дней* включают любое число в диапазоне от 0 до 32768. Если знак не указан, по умолчанию используется **+** . |
|                         /?                         |                                                                                                                                                                                                                                                                                        Отображение справки в командной строке.                                                                                                                                                                                                                                                                                        |

## <a name="remarks"></a>Примечания

-   **Forfiles** чаще всего используется в пакетных файлах.
-   Команда **forfiles/s** аналогична **папке dir/с.**
-   В командной строке можно использовать следующие переменные, как указано в параметре командной строки **/c** .  

|Переменная|Описание|
|--------|-----------|
|@FILE|Имя файла.|
|@FNAME|Имя файла без расширения.|
|@EXT|Расширение имени файла.|
|@PATH|Полный путь к файлу.|
|@RELPATH|Относительный путь к файлу.|
|@ISDIR|Возвращает значение TRUE, если тип файла является каталогом. В противном случае эта переменная принимает значение FALSE.|
|@FSIZE|Размер файла в байтах.|
|@FDATE|Метка даты последнего изменения файла.|
|@FTIME|Отметка времени последнего изменения файла.|

-   С помощью **forfiles**можно выполнить команду или передать аргументы в несколько файлов. Например, можно выполнить команду **Type** для всех файлов в дереве с расширением txt. Или можно выполнить каждый пакетный файл (*. bat) на диске C с именем файла "MyInput. txt" в качестве первого аргумента.
-   С помощью **forfiles**можно выполнять любые из следующих действий.  
    -   Выберите файлы в абсолютную или относительную дату с помощью параметра **/d** .
    -   Создайте архивное дерево файлов, используя такие переменные, как @FSIZE и @FDATE.
    -   Чтобы отличать файлы от каталогов, используйте переменную @ISDIR.
    -   Включите специальные символы в командную строку, используя шестнадцатеричный код для символа в формате 0x*чч* (например, 0x09 для вкладки).
-   Функция **forfiles** работает путем реализации флага **подкаталогов поддиректорий** в средствах, предназначенных для обработки только одного файла.

## <a name="BKMK_examples"></a>Примеров

Чтобы вывести список всех пакетных файлов на диске C, введите:
```
forfiles /p c:\ /s /m *.bat /c "cmd /c echo @file is a batch file"
```
Чтобы вывести список всех каталогов на диске C, введите:
```
forfiles /p c:\ /s /m *.* /c "cmd /c if @isdir==TRUE echo @file is a directory"
```
Чтобы получить список всех файлов в текущем каталоге, которые устарели по крайней мере один год, введите:
```
forfiles /s /m *.* /d -365 /c "cmd /c echo @file is at least one year old."
```
Чтобы отобразить текст "*файл* устарел" для каждого из файлов в текущем каталоге, которые старше 1 января 2007, введите:
```
forfiles /s /m *.* /d -01/01/2007 /c "cmd /c echo @file is outdated." 
```
Чтобы вывести список расширений имен файлов в текущем каталоге в формате столбца и добавить вкладку перед расширением, введите:
```
forfiles /s /m *.* /c "cmd /c echo The extension of @file is 0x09@ext" 
```

#### <a name="additional-references"></a>Дополнительная справка

[Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)
