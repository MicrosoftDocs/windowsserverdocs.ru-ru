---
title: forfiles
description: 'Раздел Windows команды для ***- '
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 43f6b004-446d-4fdd-91c5-5653613524a4
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 08/21/2018
ms.openlocfilehash: d5ac95b795d1c5a59f8917bf851ab08fb4d7c1e7
ms.sourcegitcommit: eaf071249b6eb6b1a758b38579a2d87710abfb54
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/31/2019
ms.locfileid: "66439183"
---
# <a name="forfiles"></a>forfiles



Выбирает и выполняет команду для файла или набора файлов. Эта команда полезна для пакетной обработки.

В разделе [Примеры](#BKMK_examples) показан принцип использования этой команды.

## <a name="syntax"></a>Синтаксис

```
forfiles [/p <Path>] [/m <SearchMask>] [/s] [/c "<Command>"] [/d [{+|-}][{<Date>|<Days>}]]
```


## <a name="parameters"></a>Параметры

|                     Параметр                      |                                                                                                                                                                                                                                                                                                    Описание                                                                                                                                                                                                                                                                                                     |
|----------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                     /p \<путь >                     |                                                                                                                                                                                                                                                 Указывает путь, из которого следует начать поиск. По умолчанию поиск начинается в текущем рабочем каталоге.                                                                                                                                                                                                                                                  |
|                  /m \<SearchMask>                  |                                                                                                                                                                                                                                                           Поиск файлов в соответствии с маски поиска. Маска поиска по умолчанию — **\*.\\** \*.                                                                                                                                                                                                                                                           |
|                         /s                         |                                                                                                                                                                                                                                                                   Указывает, что **forfiles** команды для поиска рекурсивно просматривая подкаталоги.                                                                                                                                                                                                                                                                    |
|                  /c "\<команда >»                   |                                                                                                                                                                                                                                  Выполняет указанную команду для каждого файла. Командные строки должны заключаться в кавычки. Эта команда **«cmd /c echo @file"** .                                                                                                                                                                                                                                   |
| /d&nbsp;[{+\|-}]&#8288;[{\<Date>\|&#8288;\<Days>}] | Выбирает файлы, Дата последнего изменения в течение указанного промежутка времени.</br>-Выбирает файлы, Дата последнего изменения позже, чем или равно ( **+** ) или более ранней, чем или равно ( **-** ) указанной даты, где *даты* представлен в формате мм/дд/гггг.</br>-Выбирает файлы, Дата последнего изменения позже, чем или равно ( **+** ) текущую дату, а также количество дней, или более ранней, чем или равно ( **-** ) текущей даты минус количество дней указано.</br>— Допустимые значения для *дней* включить любое число в диапазоне 0 – 32 768. Если не указан, **+** используется по умолчанию. |
|                         /?                         |                                                                                                                                                                                                                                                                                        Отображение справки в командной строке.                                                                                                                                                                                                                                                                                        |

## <a name="remarks"></a>Примечания

-   **Forfiles** чаще всего используется в пакетных файлах.
-   **Forfiles /s** аналогичен **dir/s.**
-   Можно использовать следующие переменные в командной строке в соответствии с **/c** параметр командной строки.  

|Переменная|Описание|
|--------|-----------|
|@FILE|Имя файла.|
|@FNAME|Имя файла без расширения.|
|@EXT|Расширение имени файла.|
|@PATH|Полный путь к файлу.|
|@RELPATH|Относительный путь к файлу.|
|@ISDIR|Возвращает значение TRUE, если типом файла является каталогом. В противном случае эта переменная принимает значение FALSE.|
|@FSIZE|Размер файла в байтах.|
|@FDATE|Отметка даты последнего изменения файла.|
|@FTIME|Отметка времени последнего изменения файла.|

-   С помощью **forfiles**, можно выполнить команду на или передавать аргументы в несколько файлов. Например, можно выполнить **тип** команду на всех файлов в дереве с расширением .txt. Или можно выполнить все пакетные файлы (* .bat) на диске C, в файле имя «MyInput.txt»» в качестве первого аргумента.
-   С помощью **forfiles**, можно выполнить любое из следующих:  
    -   Выберите файлы, абсолютную дату или относительных дат с помощью **/d** параметра.
    -   Создания архива дерева файлов с помощью переменных, таких как @FSIZE и @FDATE.
    -   Отличить файлы из каталогов с помощью @ISDIR переменной.
    -   Включить специальные символы в командной строке с помощью шестнадцатеричный код символа, в 0 x*HH* формат (например, 0x09 табуляции).
-   **Forfiles** работает путем реализации **рекурсивный обход вложенных папок** флаг на средства, предназначенные для обработки только один файл.

## <a name="BKMK_examples"></a>Примеры

Для получения списка всех пакетных файлов на диске C, введите следующую команду:
```
forfiles /p c:\ /s /m *.bat /c "cmd /c echo @file is a batch file"
```
Чтобы получить список всех каталогов на диске C, введите следующую команду:
```
forfiles /p c:\ /s /m *.* /c "cmd /c if @isdir==TRUE echo @file is a directory"
```
Чтобы получить список всех файлов в текущем каталоге, созданные по крайней мере один год назад, введите следующую команду:
```
forfiles /s /m *.* /d -365 /c "cmd /c echo @file is at least one year old."
```
Для отображения текста "*файл* устарели» для каждого из файлов в текущем каталоге, которые существуют дольше 1 января 2007 г., введите:
```
forfiles /s /m *.* /d -01/01/2007 /c "cmd /c echo @file is outdated." 
```
Чтобы добавить вкладку перед расширением списке расширения имен файлов всех файлов в текущем каталоге в формате столбцов, введите следующую команду:
```
forfiles /s /m *.* /c "cmd /c echo The extension of @file is 0x09@ext" 
```

#### <a name="additional-references"></a>Дополнительная справка

[Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)
