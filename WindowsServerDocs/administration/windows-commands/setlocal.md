---
title: setlocal
description: Справочный раздел по setlocal, который начинает локализацию переменных среды в пакетном файле.
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: e4e4b6d3-3f1a-4851-a782-25ee2470e16e
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: def4e8c58399af498e3c097f53e526fbedf9de0d
ms.sourcegitcommit: ab64dc83fca28039416c26226815502d0193500c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/01/2020
ms.locfileid: "82721865"
---
# <a name="setlocal"></a>setlocal

Начинает локализацию переменных среды в пакетном файле. Локализация продолжится до тех пор, пока не встретится совпадающая команда **endlocal** или не будет достигнут конец пакетного файла.



## <a name="syntax"></a>Синтаксис

```
setlocal [enableextensions | disableextensions] [enabledelayedexpansion | disabledelayedexpansion]
```

## <a name="arguments"></a>Аргументы

|Аргумент|Описание|
|--------|-----------|
|енабликстенсионс|Включает расширения команд до тех пор, пока не будет обнаружена соответствующая команда **endlocal** , независимо от значения параметра до выполнения команды **setlocal** .|
|дисабликстенсионс|Отключает расширения команд до тех пор, пока не будет обнаружена соответствующая команда **endlocal** , независимо от значения параметра до выполнения команды **setlocal** .|
|енабледелайедекспансион|Включает расширение переменной среды с задержкой до тех пор, пока не будет обнаружена соответствующая команда **endlocal** , независимо от значения параметра до выполнения команды **setlocal** .|
|дисабледелайедекспансион|Отключает расширение переменной среды с задержкой до тех пор, пока не будет обнаружена соответствующая команда **endlocal** , независимо от значения параметра до выполнения команды **setlocal** .|
|/?|Отображение справки в командной строке.|

## <a name="remarks"></a>Примечания

-   Использование команды **setlocal**

    При использовании команды **setlocal** вне скрипта или пакетного файла она не действует.
-   Изменение переменных среды

    Используйте команду **setlocal** для изменения переменных среды при запуске пакетного файла. Изменения среды, внесенные после выполнения команды **setlocal** , являются локальными для пакетного файла. Программа cmd. exe восстанавливает предыдущие параметры при обнаружении команды **endlocal** или достижении конца пакетного файла.
-   Вложенные команды

    В пакетной программе можно использовать несколько команд **setlocal** или **endlocal** (т. е. вложенные команды).
-   Тестирование расширений команд в пакетных файлах

    Команда **setlocal** задает переменную ERRORLEVEL. При передаче {**енабликстенсионс** | **дисабликстенсионс**} или {**енабледелайедекспансион** | **дисабледелайедекспансион**} переменной ERRORLEVEL присваивается значение **0** (ноль). В противном случае устанавливается значение **1**. Эти сведения можно использовать в пакетных скриптах, чтобы определить, доступны ли расширения, как показано в следующем примере:  
    ```
    setlocal enableextensions
    verify other 2>nul
    if errorlevel 1 echo Unable to enable extensions
    ```  
    Поскольку при отключенных расширениях команд **cmd** не устанавливает переменную ERRORLEVEL, команда **Verify** ИНИЦИАЛИЗИРУет значение переменной ERRORLEVEL ненулевым значением при его использовании с недопустимым аргументом. Кроме того, если вы используете команду **setlocal** с аргументами {**енабликстенсионс** | **дисабликстенсионс**} или **{енабледелайедекспансион** | **дисабледелайедекспансион**} и не устанавливаете переменную ERRORLEVEL в значение **1**, расширения команд недоступны.

## <a name="examples"></a>Примеры

Вы можете локализовать переменные среды в пакетном файле, как показано в следующем примере скрипта:
```
rem *******Begin Comment**************
rem This program starts the superapp batch program on the network,
rem directs the output to a file, and displays the file
rem in Notepad.
rem *******End Comment**************
@echo off
setlocal
path=g:\programs\superapp;%path%
call superapp>c:\superapp.out
endlocal
start notepad c:\superapp.out
```

## <a name="additional-references"></a>Дополнительные ссылки

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)