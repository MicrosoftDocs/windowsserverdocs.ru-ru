---
title: setlocal
description: Справочная статья по команде setlocal, которая запускает локализацию переменных среды в пакетном файле.
ms.topic: reference
ms.assetid: e4e4b6d3-3f1a-4851-a782-25ee2470e16e
ms.author: lizross
author: eross-msft
manager: mtillman
ms.date: 10/16/2017
ms.openlocfilehash: 2ad4e4c6bd023a5722d823a3bf67c5503329bda5
ms.sourcegitcommit: e164aeffc01069b8f1f3248bf106fcdb7f64f894
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/26/2020
ms.locfileid: "91389004"
---
# <a name="setlocal"></a>setlocal

Начинает локализацию переменных среды в пакетном файле. Локализация продолжится до тех пор, пока не встретится совпадающая команда **endlocal** или не будет достигнут конец пакетного файла.

## <a name="syntax"></a>Синтаксис

```
setlocal [enableextensions | disableextensions] [enabledelayedexpansion | disabledelayedexpansion]
```

### <a name="parameters"></a>Параметры

| Параметр | Описание |
|--|--|
| енабликстенсионс | Включает расширения команд до тех пор, пока не будет обнаружена соответствующая команда **endlocal** , независимо от значения параметра до выполнения команды **setlocal** . |
| дисабликстенсионс | Отключает расширения команд до тех пор, пока не будет обнаружена соответствующая команда **endlocal** , независимо от значения параметра до выполнения команды **setlocal** . |
| енабледелайедекспансион | Включает расширение переменной среды с задержкой до тех пор, пока не будет обнаружена соответствующая команда **endlocal** , независимо от значения параметра до выполнения команды **setlocal** . |
| дисабледелайедекспансион | Отключает расширение переменной среды с задержкой до тех пор, пока не будет обнаружена соответствующая команда **endlocal** , независимо от значения параметра до выполнения команды **setlocal** . |
| /? | Отображение справки в командной строке. |

#### <a name="remarks"></a>Комментарии

- Если вы используете **setlocal** вне сценария или пакетного файла, он не оказывает никакого влияния.

- Используйте команду **setlocal** для изменения переменных среды при запуске пакетного файла. Изменения среды, внесенные после выполнения команды **setlocal** , являются локальными для пакетного файла. Программа Cmd.exe восстанавливает предыдущие параметры при обнаружении команды **endlocal** или достижении конца пакетного файла.

- В пакетной программе можно использовать несколько команд **setlocal** или **endlocal** (т. е. вложенные команды).

- Команда **setlocal** задает переменную ERRORLEVEL. При передаче {**енабликстенсионс**  |  **дисабликстенсионс**} или {**енабледелайедекспансион**  |  **дисабледелайедекспансион**} переменной ERRORLEVEL присваивается значение **0** (ноль). В противном случае устанавливается значение **1**. Эти сведения можно использовать в пакетных скриптах, чтобы определить, доступны ли расширения, как показано в следующем примере:

    ```
    setlocal enableextensions
    verify other 2>nul
    if errorlevel 1 echo Unable to enable extensions
    ```

    Поскольку при отключенных расширениях команд **cmd** не устанавливает переменную ERRORLEVEL, команда **Verify** ИНИЦИАЛИЗИРУет значение переменной ERRORLEVEL ненулевым значением при его использовании с недопустимым аргументом. Кроме того, если вы используете команду **setlocal** с аргументами {**енабликстенсионс**  |  **дисабликстенсионс**} или {**енабледелайедекспансион**  |  **дисабледелайедекспансион**} и не устанавливаете переменную ERRORLEVEL в значение **1**, расширения команд недоступны.

## <a name="examples"></a>Примеры

Для локализации переменных среды в пакетном файле используйте следующий пример скрипта:

```
rem *******Begin Comment**************
rem This program starts the superapp batch program on the network,
rem directs the output to a file, and displays the file
rem in Notepad.
rem *******End Comment**************
@echo off
setlocal
path=g:\programs\superapp;%path%
call superapp>c:\superapp.out
endlocal
start notepad c:\superapp.out
```

## <a name="additional-references"></a>Дополнительные ссылки

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)
