---
title: diskcomp
description: Раздел команд Windows для работы с командами diskcomp, который сравнивает содержимое двух гибких дисков.
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: 4f56f534-a356-4daa-8b4f-38e089341e42
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: e36e644616e25659c1a2a5ca684e975fd06fc19f
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2020
ms.locfileid: "80845557"
---
# <a name="diskcomp"></a>diskcomp

Сравнение содержимого двух гибких дисков. Если используется без параметров, **команда diskcomp** использует текущий диск для сравнения обоих дисков.

В разделе [Примеры](#BKMK_examples) показан принцип использования этой команды.

## <a name="syntax"></a>Синтаксис

```
diskcomp [<Drive1>: [<Drive2>:]]
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------|-----------|
|\<диск1 >|Указывает диск, содержащий один из гибких дисков.|
|\<диск2 >|Указывает диск, содержащий другой гибкий диск.|
|/?|Отображает справку в командной строке.|

## <a name="remarks"></a>Примечания

- Использование дисков

  Команда **diskcomp** работает только с гибкими дисками. Нельзя использовать **diskcomp** с жестким диском. Если для *диск1* или *диск2*указан жесткий диск, **команда diskcomp** выводит следующее сообщение об ошибке:  
  ```
  Invalid drive specification
  Specified drive does not exist
  or is nonremovable
  ```  
- Сравнение дисков

  Если все дорожки на двух сравниваемых дисках одинаковы, **команда diskcomp** выведет следующее сообщение:  
  ```
  Compare OK
  ```  
  Если дорожки не совпадают, **команда diskcomp** выведет примерно следующее сообщение:  
  ```
  Compare error on
  side 1, track 2
  ```  
  Когда **команда diskcomp** завершает сравнение, отображается следующее сообщение:  
  ```
  Compare another diskette (Y/N)?
  ```  
  Если нажать клавишу Y, программа **diskcomp** предложит вставить диск для следующего сравнения. При нажатии клавиши N **команда diskcomp** прекращает сравнение.

  Когда **команда diskcomp** выполняет сравнение, она игнорирует номер тома диска.
- Пропуск параметров диска

  Если опустить параметр *диск2* , **команда diskcomp** будет использовать текущий диск для *диск2*. Если вы не пропускаете оба параметра диска, **команда diskcomp** использует текущий диск для обоих параметров. Если текущий диск совпадает с параметром *диск1*, программа **diskcomp** предлагает при необходимости поменять диски.
- Использование одного диска

  Если для *диск1* и *диск2*указан один и тот же гибкий диск, программа **diskcomp** сравнивает их с использованием одного диска и предлагает вставить диски по мере необходимости. Возможно, потребуется переключить диски несколько раз в зависимости от емкости дисков и объема доступной памяти.
- Сравнение различных типов дисков

  **Diskcomp** не может сравнить односторонний диск с двойным диском и диск высокой плотности с диском двойной плотности. Если диск в параметре *диск1* отличается от типа диска в *диск2*, **команда diskcomp** выводит следующее сообщение:  
  ```
  Drive types or diskette types not compatible
  ```  
- Использование команды **diskcomp** с сетями и перенаправленными дисками

  Команда **diskcomp** не работает на сетевом диске или на диске, созданном с помощью команды **subst** . При попытке использовать команду **diskcomp** с диском любого из этих типов **команда diskcomp** выводит следующее сообщение об ошибке:  
  ```
  Invalid drive specification
  ```  
- Сравнение исходного диска с копией

  При использовании команды **diskcomp** с диском, созданным командой **Copy**, **команда diskcomp** может вывести примерно следующее сообщение:  
  ```
  Compare error on 
  side 0, track 0
  ```  
  Этот тип ошибки может возникать, даже если файлы на дисках идентичны. Несмотря на то, что сведения о **копировании** дублируются, они не обязательно будут размещаться в том же расположении на целевом диске.
- Основные сведения о кодах завершения команды **diskcomp**

  В следующей таблице описывается каждый код выхода.  

  |Код завершения|Описание|
  |---------|-----------|
  |0|Диски одинаковы|
  |1|Обнаружены различия|
  |3|Произошла твердая ошибка|
  |4|Произошла ошибка инициализации|

  Для обработки кодов завершения, возвращаемых командой **diskcomp**, можно использовать переменную среды ERRORLEVEL в командной строке **If** в пакетной программе.

## <a name="examples"></a><a name=BKMK_examples></a>Примеров

Если на компьютере имеется только один дисковод гибких дисков (например, диск A) и требуется сравнить два диска, введите:
```
diskcomp a: a:
```
При необходимости программа **diskcomp** предлагает вставить каждый диск.

В следующем примере **показано, как обработать код выхода в** пакетной программе, использующей переменную среды ERRORLEVEL в командной строке **If** :
```
rem Checkout.bat compares the disks in drive A and B 
echo off 
diskcomp a: b: 
if errorlevel 4 goto ini_error 
if errorlevel 3 goto hard_error 
if errorlevel 1 goto no_compare
if errorlevel 0 goto compare_ok 
:ini_error 
echo ERROR: Insufficient memory or command invalid 
goto exit 
:hard_error 
echo ERROR: An irrecoverable error occurred 
goto exit 
:break 
echo You just pressed CTRL+C to stop the comparison 
goto exit 
:no_compare 
echo Disks are not the same 
goto exit 
:compare_ok 
echo The comparison was successful; the disks are the same 
goto exit 
:exit
```

## <a name="additional-references"></a>Дополнительные материалы

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)
