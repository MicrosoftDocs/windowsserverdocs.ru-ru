---
title: wbadmin start recovery
description: Справочная статья по команде Wbadmin start Recovery, которая выполняет операцию восстановления на основе указанных параметров.
ms.topic: reference
ms.assetid: 52381316-a0fa-459f-b6a6-01e31fb21612
ms.author: lizross
author: eross-msft
manager: mtillman
ms.date: 10/16/2017
ms.openlocfilehash: 408ccadd830e50e9b51447cc19f7243d349cb3ef
ms.sourcegitcommit: 554d274fea48a4d47c19845d969a9ec93dec82de
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/24/2020
ms.locfileid: "92524759"
---
# <a name="wbadmin-start-recovery"></a>wbadmin start recovery

Выполняет операцию восстановления на основе указанных параметров.

Чтобы выполнить восстановление с помощью этой команды, необходимо быть членом группы " **Операторы архива** " или " **Администраторы** ", либо вам должны быть делегированы соответствующие разрешения. Кроме того, необходимо запустить программу **Wbadmin** из командной строки с повышенными привилегиями, щелкнув правой кнопкой мыши **командную строку**и выбрав команду **Запуск от имени администратора**.

## <a name="syntax"></a>Синтаксис

```
wbadmin start recovery -version:<VersionIdentifier> -items:{<VolumesToRecover> | <AppsToRecover> | <FilesOrFoldersToRecover>} -itemtype:{Volume | App | File} [-backupTarget:{<VolumeHostingBackup> | <NetworkShareHostingBackup>}] [-machine:<BackupMachineName>] [-recoveryTarget:{<TargetVolumeForRecovery> | <TargetPathForRecovery>}] [-recursive] [-overwrite:{Overwrite | CreateCopy | Skip}] [-notRestoreAcl] [-skipBadClusterCheck] [-noRollForward] [-quiet]
```

### <a name="parameters"></a>Параметры

| Параметр | Описание |
|--|--|
| -version | Указывает идентификатор версии восстанавливаемой резервной копии в формате мм/дд/гггг-чч: мм. Если вы не знакомы с идентификатором версии, выполните [команду Wbadmin get versions](wbadmin-get-versions.md). |
| — элементы | Указывает разделенный запятыми список томов, приложений, файлов или папок для восстановления. Этот параметр необходимо использовать с параметром **-ItemType** . |
| -ItemType | Указывает тип восстанавливаемых элементов. Это должен быть **том**, **приложение**или **файл**. Если параметр **-ItemType** имеет значение *Volume*, можно указать только один том, указав букву диска тома, точку подключения тома или имя тома на основе GUID. Если параметр **-ItemType** имеет значение *app*, можно указать только одно приложение или использовать значение **адифм** для восстановления установки Active Directory. Для восстановления приложение должно быть зарегистрировано в cистема архивации данных Windows Server. Если *файл*имеет значение **-ItemType** , можно указать файлы или папки, но они должны быть частью одного тома, и они должны находиться в одной родительской папке. |
| -backupTarget | Указывает место хранения резервной копии, которую необходимо восстановить. Этот параметр полезен, если расположение отличается от того, где обычно хранятся резервные копии этого компьютера. |
| -Machine | Указывает имя компьютера, для которого требуется восстановить резервную копию. Этот параметр должен использоваться, если указан параметр **-backupTarget** . Параметр **-Machine** полезен при резервном копировании нескольких компьютеров в одно расположение. |
| -Рековеритаржет | Задает расположение для восстановления. Этот параметр полезен, если это расположение отличается от расположения, резервное копирование которого было выполнено ранее. Его также можно использовать для восстановления томов, файлов или приложений. При восстановлении тома можно указать букву диска тома для дополнительного тома. При восстановлении файла или приложения можно указать альтернативное расположение для восстановления. |
| — рекурсивно | Действует только при восстановлении файлов. Восстанавливает файлы в папках и все файлы, подчиненные указанным папкам. По умолчанию восстанавливаются только файлы, находящиеся непосредственно в указанных папках. |
|-overwrite | Действует только при восстановлении файлов. Указывает действие, выполняемое, когда восстанавливаемый файл уже существует в том же расположении. Допустимые значения:<ul><li>**Skip** — приводит к тому, что Cистема архивации данных Windows Server пропустить существующий файл и продолжить восстановление следующего файла.</li><li>**CreateCopy** — вызывает Cистема архивации данных Windows Server создать копию существующего файла, чтобы существующий файл не был изменен.</li><li>**Перезаписать** — приводит к тому, что Cистема архивации данных Windows Server перезаписывает существующий файл файлом из резервной копии. |
| -Нотрестореакл | Действует только при восстановлении файлов. Указывает, что не следует восстанавливать списки управления доступом (ACL) файлов, восстанавливаемых из резервной копии. По умолчанию списки ACL безопасности восстанавливаются (значение по умолчанию — **true**). Если используется этот параметр, списки ACL для восстановленных файлов будут унаследованы от расположения, в которое восстанавливаются файлы. |
| -Скипбадклустерчекк | Действует только при восстановлении томов. Пропускает проверку восстановленных дисков в для получения сведений о поврежденном кластере. При восстановлении на другом сервере или оборудовании рекомендуется не использовать этот параметр. Вы можете в любое время вручную выполнить команду **chkdsk/b** на этих дисках, чтобы проверить их на наличие поврежденных кластеров, а затем обновить сведения о файловой системе соответствующим образом.<p>**Важно.** До запуска **chkdsk/b**поврежденные кластеры, сообщаемые в восстановленной системе, могут быть неточными. |
| -Нороллфорвард | Действует только при восстановлении приложений. Разрешает предыдущее восстановление приложения на момент времени, если выбрать последнюю версию из резервных копий. Предыдущее восстановление на момент времени выполняется по умолчанию для всех остальных непоследних версий приложения. |
| -quiet | Выполняет команду без запроса пользователю. |

#### <a name="remarks"></a>Remarks

- Чтобы просмотреть список элементов, доступных для восстановления из определенной версии резервной копии, выполните [команду Wbadmin get Items](wbadmin-get-items.md). Если во время резервного копирования том не имеет точки подключения или буквы диска, эта команда возвращает имя тома на основе GUID, которое следует использовать для восстановления тома.

- Если вы используете значение **адифм** для выполнения установки с носителя для восстановления связанных данных, необходимых для служб домен Active Directory, **адифм** создает копию базы данных Active Directory, реестра и состояния SYSVOL, а затем сохраняет эти сведения в расположении, указанном параметром **-рековеритаржет**. Используйте этот параметр только при указании параметра **-рековеритаржет** .

## <a name="examples"></a>Примеры

Чтобы выполнить восстановление резервной копии с 31 марта 2020, созданной в 9:00 утра, тома d:, введите:

```
wbadmin start recovery -version:03/31/2020-09:00 -itemType:Volume -items:d:
```

Чтобы выполнить восстановление на диск d из резервной копии с 31 марта 2020 г. в реестре с 9:00 утра, введите:

```
wbadmin start recovery -version:03/31/2020-09:00 -itemType:App -items:Registry -recoverytarget:d:\
```

Чтобы выполнить восстановление резервной копии с 31 марта 2020, созданной в 9:00 утра, д:\фолдер и папок, подчиненных д:\фолдер, введите:

```
wbadmin start recovery -version:03/31/2020-09:00 -itemType:File -items:d:\folder -recursive
```

Чтобы выполнить восстановление резервной копии с 31 марта 2020, созданной в 9:00 утра, в томе `\\?\Volume{cc566d14-44a0-11d9-9d93-806e6f6e6963}\` введите:

```
wbadmin start recovery -version:03/31/2020-09:00 -itemType:Volume -items:\\?\Volume{cc566d14-44a0-11d9-9d93-806e6f6e6963}\
```

Чтобы выполнить восстановление из резервной копии с 30 апреля 2020, созданной в 9:00 утра общей папки `\\servername\share` из Server01, введите:

```
wbadmin start recovery -version:04/30/2020-09:00 -backupTarget:\\servername\share -machine:server01
```

## <a name="additional-references"></a>Дополнительные ссылки

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)

- [Команда Wbadmin](wbadmin.md)

- [Start-Вбфилерековери](/powershell/module/windowserverbackup/Start-WBFileRecovery)

- [Start-Вбхиперврековери](/powershell/module/windowserverbackup/Start-WBHyperVRecovery)

- [Start-Вбсистемстатерековери](/powershell/module/windowserverbackup/Start-WBSystemStateRecovery)

- [Start-Вбволумерековери](/powershell/module/windowserverbackup/Start-WBVolumeRecovery)
