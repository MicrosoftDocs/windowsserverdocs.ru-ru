---
title: API обновления Logman
description: Раздел Windows команды для ****-
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: 6f322e52-0f9f-42b1-bd64-8b8f8fe086fc britw
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 7739098343f7b98b0812a9b7199dea2da044786e
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2020
ms.locfileid: "80840597"
---
# <a name="logman-update-api"></a>API обновления Logman

>Область применения: Windows Server (Semi-Annual Channel), Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Обновление свойств существующего сборщика данных трассировки API.  

## <a name="syntax"></a>Синтаксис  
```  
logman update api <[-n] <name>> [options]  
```  
### <a name="parameters"></a>Параметры  

|                    Параметр                     |                                                                               Описание                                                                               |
|--------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                        /?                        |                                                                    Отображает контекстную справку.                                                                     |
|                -s <computer name>                |                                                          Выполните команду на указанном удаленном компьютере.                                                          |
|                 -config <value>                  |                                                         Указывает файл параметров, содержащий параметры команды.                                                         |
|                   [-n] <name>                    |                                                                       Имя целевого объекта.                                                                        |
| -f < bin&#124;бинЦирк&#124;CSV&#124;&#124;SQL > |                                                            Указывает формат журнала для сборщика данных.                                                             |
|             -[-] u < пользователь [пароль] >              | Указывает пользователя для запуска от имени. При вводе \* пароля выводится запрос на ввод пароля. Пароль не отображается при вводе пароля в командной строке. |
|    -m < [начало] [завершение] [[начало] [завершение] [...]] >    |                                                Вместо запланированного времени начала или окончания измените значение на запуск или завершение вручную.                                                 |
|                -RF < [[чч:] мм:] SS >                |                                                        Запуск сборщика данных в течение указанного периода времени.                                                         |
|        -b < M/d/гггг ч: СС [AM&#124;] >         |                                                              Начать сбор данных в указанное время.                                                               |
|        -e < M/d/гггг ч: СС [AM&#124;] >         |                                                               Конец сбора данных в указанное время.                                                                |
|                -Si < [[чч:] мм:] SS >                |                                                 Указывает интервал выборки для собираются данных счетчиков производительности.                                                  |
|              -o < путь&#124;dsn. > журнала              |                                              Указывает выходной файл журнала или имя DSN и набора журналов в базе данных SQL.                                               |
|                      -[-] r                       |                                                  Повторять сборщик данных ежедневно по указанному времени начала и окончания.                                                  |
|                      -[-] a                       |                                                                     Добавление к существующему файлу журнала.                                                                     |
|                      -[-]                      |                                                                     Перезаписать существующий файл журнала.                                                                     |
|           -[-] v < нннннн&#124;ммддххмм >           |                                                   присоединить сведения о управлении версиями файлов к концу имени файла журнала.                                                   |
|                  -[-] RC <task>                   |                                                         Выполните команду, указанную при каждом закрытии журнала.                                                          |
|                 -[-] максимум <value>                  |                                                 Максимальный размер файла журнала (в МБ или в максимальном количестве записей для журналов SQL).                                                  |
|              -[-] cnf < [[чч:] мм:] SS >              |     Если указано время, создайте новый файл по истечении указанного времени. Если параметр time не указан, создайте новый файл при превышении максимального размера.     |
|                        -y                        |                                                             Ответьте Да на все вопросы без запроса.                                                              |
|            -МОДС < путь [путь [...]] >             |                                                          Указывает список модулей для ведения журнала вызовов API.                                                           |
|     -API < модуля! API [Module! API [...]] >      |                                                         Указывает список вызовов API, включаемых в ведение журнала.                                                          |
|     -ексапис < Module! API [модуль! API [...]] >      |                                                        Указывает список вызовов API, исключаемых из ведения журнала.                                                         |
|                     -[-] Ano                      |                                                     Log (-Ano) только имена API или не заносить в журнал имена API (-Ano).                                                     |
|                  -[-] рекурсивно                   |                                          Log (-recursive) или не заносить в журнал (рекурсивно) API-интерфейсы рекурсивно за пределами первого слоя.                                           |
|                   -exe <value>                   |                                                        Указывает полный путь к исполняемому файлу для трассировки API.                                                        |

## <a name="remarks"></a>Примечания  
Где [-] присутствует, дополнительный — инвертирует параметр.  
## <a name="examples"></a><a name=BKMK_examples></a>Примеров  
Следующая команда обновляет существующий счетчик трассировки API с именем trace_notepad для исполняемого файла к:\виндовс\нотепад.ЕКСЕ, исключая вызов API Тлсжетвалуе, созданный модулем kernel32. dll.  
```  
logman create api trace_notepad -exe c:\windows\notepad.exe -exapis kernel32.dll!TlsGetValue  
```  
## <a name="additional-references"></a>Дополнительные материалы  
[logman](logman.md)  
[Создание API Logman](logman-create-api.md)  
