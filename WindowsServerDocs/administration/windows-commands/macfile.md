---
title: macfile
description: Справочный раздел по команде macfile, которая управляет серверами, томами, каталогами и файлами файлового сервера для Macintosh.
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: e2ce586c-b316-41d3-90f8-4be0d074cc0e
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 740044088bef1537b5b41493f46be9275be84874
ms.sourcegitcommit: 29bc8740e5a8b1ba8f73b10ba4d08afdf07438b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/30/2020
ms.locfileid: "84223011"
---
# <a name="macfile"></a>macfile

> Область применения: Windows Server (половина ежегодного канала), Windows Server 2019, Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Управляет файловым сервером для серверов, томов, каталогов и файлов Macintosh. Задачи администрирования можно автоматизировать, включив ряд команд в пакетные файлы и запуская их вручную или по заранее заданному времени.

## <a name="modify-directories-in-macintosh-accessible-volumes"></a>Изменение каталогов в томах, доступных для Macintosh

Изменение имени каталога, расположения, владельца, группы и разрешений для томов, доступных для Macintosh.

### <a name="syntax"></a>Синтаксис

```
macfile directory[/server:\\<computername>] /path:<directory> [/owner:<ownername>] [/group:<groupname>] [/permissions:<permissions>]
```

#### <a name="parameters"></a>Параметры

| Параметр | Описание |
| --------- | ----------- |
| /server:`\\<computername>` | Указывает сервер, на котором будет изменен каталог. Если этот параметр опущен, операция выполняется на локальном компьютере. |
| /path`<directory>` | Указывает путь к каталогу, который необходимо изменить. Это обязательный параметр. **Примечание.** Каталог должен существовать, но при использовании **каталога MacFile каталог** не создает каталоги. |
| /Owner`<ownername>` | Изменяет владельца каталога. Если этот параметр опущен, имя владельца не изменится. |
| сгруппировать`<groupname>` | Указывает или изменяет основную группу Macintosh, связанную с каталогом. Если этот параметр не указан, основная группа остается неизменной. |
| чтение`<permissions>` | Задает разрешения для каталога владельца, основной группы и мира (все). Это должно быть 11-значное число, где число 1 предоставляет разрешение и 0 отменяет разрешение (например, 11111011000). Если этот параметр опущен, разрешения остаются неизменными. |
| /? | Отображение справки в командной строке. |

##### <a name="position-of-permissions-digit"></a>Позиция цифры разрешений

Позиция цифры разрешений определяет, какое разрешение задано, включая:

| Положение | Устанавливает разрешение |
| -------- | --------------- |
| Первый | овнерсифилес |
| Секунда | овнерсифолдерс |
| Третья | овнермакечанжес |
| Четвертая | граупсифилес |
| Пятый | граупсифолдерс |
| Шестой | граупмакечанжес |
| Седьмая | ворлдсифилес |
| Ноты | ворлдсифолдерс |
| Девят | ворлдмакечанжес |
| Десят | Каталог нельзя переименовать, переместить или удалить. |
| Одиннадцат | Изменения применяются к текущему каталогу и всем подкаталогам. |

##### <a name="remarks"></a>Комментарии

- Если предоставленная информация содержит пробелы или специальные символы, заключите текст в кавычки (например, " `<computer name>` ").

- Используйте **Каталог MacFile** , чтобы сделать существующий каталог в доступном для Macintosh томе доступным для пользователей Macintosh. Команда " **Каталог MacFile** " не создает каталоги.

- Используйте диспетчер файлов, командную строку или команду **Macintosh "создать папку** ", чтобы создать каталог в томе, доступном для Macintosh, прежде чем использовать команду " **Каталог MacFile** ".

#### <a name="examples"></a>Примеры

Для назначения *Просмотрите файлы*, *см. раздел папки*и *внесите изменения* в разрешения владельца, чтобы установить параметр Просмотреть разрешения для *папки* для всех остальных пользователей и предотвратить переименование, перемещение или удаление каталога.

```
macfile directory /path:e:\statistics\may sales /permissions:11111011000
```

Расположение подкаталога *может быть продаж*в *статистике*томов, доступных для Macintosh, на E:\ диск локального сервера.

## <a name="join-a-macintosh-files-data-and-resource-forks"></a>Присоединение файлов данных и компонентов ресурсов Macintosh

Чтобы указать сервер, на котором будут присоединяться файлы, кто создал файл, тип файла, где находится файл данных, где находится вилка ресурса и где должен находиться выходной файл.

### <a name="syntax"></a>Синтаксис

```
macfile forkize[/server:\\<computername>] [/creator:<creatorname>] [/type:<typename>]  [/datafork:<filepath>] [/resourcefork:<filepath>] /targetfile:<filepath>
```

#### <a name="parameters"></a>Параметры

| Параметр | Описание |
| --------- | ----------- |
| /server:`\\<computername>` | Указывает сервер, на котором необходимо присоединить файлы. Если этот параметр опущен, операция выполняется на локальном компьютере. |
| создатель`<creatorname>` | Указывает создателя файла. Поиск Macintosh использует параметр командной строки **/Креатор** для определения приложения, создавшего файл. |
| /Type`<typename>` | Указывает тип файла. Поиск Macintosh использует параметр командной строки **/Type** для определения типа файла в приложении, создавшем файл. |
| /датафорк:`<filepath>` | Задает расположение для присоединяемой вилки данных. Можно указать удаленный путь. |
| /ресаурцефорк:`<filepath>` | Указывает расположение вилки ресурса, которая будет присоединена. Можно указать удаленный путь. |
| TargetFile`<filepath>` | Указывает расположение файла, созданного путем присоединения к вилке данных и вилки ресурса, или указывает расположение файла, тип или автор которого изменяется. Файл должен находиться на указанном сервере. Это обязательный параметр. |
| /? | Отображение справки в командной строке. |

##### <a name="remarks"></a>Комментарии

- Если предоставленная информация содержит пробелы или специальные символы, заключите текст в кавычки (например, " `<computer name>` ").

#### <a name="examples"></a>Примеры

Чтобы создать файл *tree_app* на томе, доступном для Macintosh, с помощью Магнолиа ресурсов *к:\кросс\мак\аппкоде*и сделать этот новый файл доступным для клиентов Macintosh как приложение (приложения Macintosh используют тип " *приме*" *), указав*для создателя (Signature) значение *MAGNOLIA*, введите:

```
macfile forkize /resourcefork:c:\cross\mac\appcode /type:APPL /creator:MAGNOLIA /targetfile:D:\Release\tree_app
```

Чтобы изменить автор файла на *Microsoft word 5,1*, для файла *Word. txt* в каталоге *д:\ворд документс\грауп Files* * \\ на сервере Server*a введите:

```
macfile forkize /server:\\ServerA /creator:MSWD /type:TEXT /targetfile:d:\Word documents\Group files\Word.txt
```

## <a name="change-the-sign-in-message-and-limit-sessions"></a>Изменение сообщения входа и ограничение сеансов

Для изменения сообщения о входе, которое появляется при входе пользователя на сервер файлового сервера для Macintosh, и для ограничения числа пользователей, которые могут одновременно использовать серверы файлов и печати для Macintosh.

### <a name="syntax"></a>Синтаксис

```
macfile server [/server:\\<computername>] [/maxsessions:{number | unlimited}] [/loginmessage:<message>]
```

#### <a name="parameters"></a>Параметры

| Параметр | Описание |
| --------- |------------ |
| /server:`\\<computername>` | Указывает сервер, на котором необходимо изменить параметры. Если этот параметр опущен, операция выполняется на локальном компьютере. |
| /макссессионс:`{number | unlimited}` | Указывает максимальное число пользователей, которые могут одновременно использовать файлы и серверы печати для Macintosh. Если не указано, параметр **макссессионс** для сервера остается неизменным. |
| /логинмессаже:`<message>` | Изменяет сообщение, которое пользователи Macintosh видят при входе на файловый сервер для Macintosh Server. Максимальное число символов в сообщении для входа — 199. Если этот параметр опущен, сообщение **логинмессаже** для сервера остается неизменным. Чтобы удалить существующее сообщение для входа, включите параметр **/логинмессаже** , но оставьте переменную *сообщения* пустым. |
| /? | Отображение справки в командной строке. |

##### <a name="remarks"></a>Комментарии

- Если предоставленная информация содержит пробелы или специальные символы, заключите текст в кавычки (например, " `<computer name>` ").

#### <a name="examples"></a>Примеры

Чтобы изменить количество разрешенных сеансов файлов и сервера печати для сеанса Macintosh на локальном сервере до пяти сеансов, а также добавить сообщение для входа "выход с сервера для Macintosh по завершении", введите:

```
macfile server /maxsessions:5 /loginmessage:Sign off from Server for Macintosh when you are finished
```

## <a name="add-change-or-remove-macintosh-accessible-volumes"></a>Добавление, изменение и удаление томов, доступных для Macintosh

Для добавления, изменения или удаления тома, доступного для Macintosh.

### <a name="syntax"></a>Синтаксис

```
macfile volume {/add|/set} [/server:\\<computername>] /name:<volumename>/path:<directory>[/readonly:{true | false}] [/guestsallowed:{true | false}] [/password:<password>] [/maxusers:{<number>>|unlimited}]
macfile volume /remove[/server:\\<computername>] /name:<volumename>
```

#### <a name="parameters"></a>Параметры

| Параметр | Описание |
| --------- | ----------- |
| `{/add | /set}` | Требуется при добавлении или изменении тома, доступного для Macintosh. Добавляет или изменяет указанный том. |
| /server:`\\<computername>` | Указывает сервер, на который необходимо добавить, изменить или удалить том. Если этот параметр опущен, операция выполняется на локальном компьютере. |
| /Name`<volumename>` | Обязательный. Указывает имя добавляемого, изменяемого или удаляемого тома. |
| /path`<directory>` | Обязательный и допустимый только при добавлении тома. Указывает путь к корневому каталогу добавляемого тома. |
| доступно`{true | false}` | Указывает, могут ли пользователи изменять файлы в томе. Используйте **значение true** , чтобы указать, что пользователи не могут изменять файлы в томе. Используйте **значение false** , чтобы указать, что пользователи могут изменять файлы в томе. Если при добавлении тома параметр опущен, то изменения в файлах разрешены. Если при изменении тома не указано, параметр **ReadOnly** для тома остается неизменным. |
| /гуестсалловед:`{true | false}` | Указывает, могут ли пользователи, вошедшие в систему как гости, использовать этот том. Используйте **значение true** , чтобы указать, что гости могут использовать том. Используйте **значение false** , чтобы указать, что гости не могут использовать том. Если при добавлении тома он не указан, гости могут использовать этот том. Если при изменении тома не указано, параметр **гуестсалловед** для тома остается неизменным. |
| /Password`<password>` | Указывает пароль, который потребуется для доступа к тому. Если при добавлении тома не указано, пароль не создается. Если при изменении тома параметр опущен, пароль остается неизменным. |
| /максусерс:`{<number>> | unlimited}` | Указывает максимальное число пользователей, которые могут одновременно использовать файлы на томе. Если при добавлении тома параметр не задан, его может использовать неограниченное число пользователей. Если при изменении тома параметр опущен, значение **максусерс** остается неизменным.                                                 |
| /remove | Требуется при удалении тома, доступного для Macintosh. Удаляет указанный том. |
| /? | Отображение справки в командной строке. |

##### <a name="remarks"></a>Комментарии

- Если предоставленная информация содержит пробелы или специальные символы, заключите текст в кавычки (например, " `<computer name>` ").

#### <a name="examples"></a>Примеры

Чтобы создать том с именем " *Статистика маркетинга США* " на локальном сервере, используя каталог *stats* на диске E, и указать, что этот том недоступен для гостей, введите:

```
macfile volume /add /name:US Marketing Statistics /guestsallowed:false /path:e:\Stats
```

Чтобы изменить созданный ранее том, чтобы он был доступен только для чтения, чтобы запрашивать пароль, а также задать максимальное число пользователей в пять, введите:

```
macfile volume /set /name:US Marketing Statistics /readonly:true /password:saturn /maxusers:5
```

Чтобы добавить том с *альбомной архитектурой*, на сервере * \\ Магнолиа*, используя каталог *деревьев* на диске E, и укажите, что доступ к тому разрешен гостями, введите:

```
macfile volume /add /server:\\Magnolia /name:Landscape Design /path:e:\trees
```

Чтобы удалить том, который называется *Sales Reports* на локальном сервере, введите:

```
macfile volume /remove /name:Sales Reports
```

## <a name="additional-references"></a>Дополнительные ссылки

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)
