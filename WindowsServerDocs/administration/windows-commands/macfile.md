---
title: macfile
description: 'Раздел Windows команды для ****- '
ms.custom: na
ms.prod: windows-server
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: e2ce586c-b316-41d3-90f8-4be0d074cc0e
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 194d1adaaf64ffee2a217982638ddf0661dd0369
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/27/2019
ms.locfileid: "71374169"
---
# <a name="macfile"></a>macfile

>Область применения: Windows Server (Semi-Annual Channel), Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Управляет файловым сервером для серверов, томов, каталогов и файлов Macintosh. Задачи администрирования можно автоматизировать, включив ряд команд в пакетные файлы и запуская их вручную или по заранее заданному времени. 
-   [Изменение каталогов в томах, доступных для Macintosh](#BKMK_Moddirs)
-   [Присоединение файлов данных и компонентов ресурсов Macintosh](#BKMK_Joinforks)
-   [Изменение сообщения о входе и ограничение сеансов](#BKMK_LogonLimit)
-   [Добавление, изменение и удаление томов, доступных для Macintosh](#BKMK_addvol)

## <a name="BKMK_Moddirs"></a>Изменение каталогов в томах, доступных для Macintosh

### <a name="syntax"></a>Синтаксис
```
macfile directory[/server:\\<computerName>] /path:<directory> [/owner:<OwnerName>] [/group:<GroupName>] [/permissions:<Permissions>]
```

### <a name="parameters"></a>Параметры
-   /Server:\\\\<computerName> указывает сервер, на котором необходимо изменить каталог. Если этот параметр опущен, операция выполняется на локальном компьютере.
-   /path:<directory> требуется. Указывает путь к каталогу, который необходимо изменить. Каталог должен существовать. **Каталог MacFile** не создает каталоги.
-   /owner:<OwnerName> изменяет владельца каталога. Если этот параметр опущен, владелец остается неизменным.
-   /грауп:<GroupName> указывает или изменяет основную группу Macintosh, связанную с каталогом. Если этот параметр не указан, основная группа остается неизменной.
-   /пермиссионс:<Permissions> устанавливает разрешения для каталога владельца, основной группы и мира (все). Для установки разрешений используется 11-значное число. Число 1 предоставляет разрешение и 0 отменяет разрешение (например, 11111011000). Если этот параметр опущен, разрешения остаются неизменными.
    Позиция цифры определяет, какое разрешение задано, как описано в следующей таблице.

    |Положение|Устанавливает разрешение для|
    |------|------------|
    |Первый|овнерсифилес|
    |Второй|овнерсифолдерс|
    |Третья|овнермакечанжес|
    |Четвертая|граупсифилес|
    |Пятая|граупсифолдерс|
    |Шестой|граупмакечанжес|
    |Седьмая|ворлдсифилес|
    |Ноты|ворлдсифолдерс|
    |Девят|ворлдмакечанжес|
    |Десят|Каталог нельзя переименовать, переместить или удалить.|
    |Одиннадцат|Изменения применяются к текущему каталогу и всем подкаталогам.|

-   /?
    Отображение справки в командной строке.

### <a name="remarks"></a>Замечания
- Если предоставленная информация содержит пробелы или специальные символы, заключите текст в кавычки (например, **"** <em>имя компьютера</em> **"** ).
- Используйте **макфиледиректори** , чтобы сделать существующий каталог в доступном для Macintosh томе доступным для пользователей Macintosh. Команда **макфиледиректори** не создает каталоги. Используйте диспетчер файлов, командную строку или команду **Macintosh "создать папку** ", чтобы создать каталог в томе, доступном для Macintosh, прежде чем использовать команду " **Каталог MacFile** ".
  ### <a name="BKMK_Examples"></a>Примеров
  В следующем примере изменяются разрешения на доступ к подкаталогу Sales на диске E локального сервера. В этом примере показано, как назначить файлы, просмотреть папки и изменить разрешения для владельца, а также просмотреть файлы и просмотреть папки для всех остальных пользователей, не мешая переименованию, перемещению или удалению каталога.
  ```
  macfile directory /path:"e:\statistics\may sales" /permissions:11111011000
  ```

## <a name="BKMK_Joinforks"></a>Присоединение файлов данных и компонентов ресурсов Macintosh

### <a name="syntax"></a>Синтаксис
```
macfile forkize[/server:\\<computerName>] [/creator:<CreatorName>] [/type:<typeName>]  [/datafork:<Filepath>] [/resourcefork:<Filepath>] /targetfile:<Filepath>
```

### <a name="parameters"></a>Параметры

|         Параметр          |                                                                                                           Описание                                                                                                            |
|----------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| /Server:\\\\<computerName> |                                                            Указывает сервер, на котором необходимо присоединить файлы. Если этот параметр опущен, операция выполняется на локальном компьютере.                                                            |
|   /Креатор:<CreatorName>   |                                      Указывает создателя файла. Поиск Macintosh использует параметр командной строки **/Креатор** для определения приложения, создавшего файл.                                       |
|      /Type:<typeName>      |                                 Указывает тип файла. Поиск Macintosh использует параметр командной строки **/Type** для определения типа файла в приложении, создавшем файл.                                 |
|    /датафорк:<Filepath>    |                                                                   Задает расположение для присоединяемой вилки данных. Можно указать удаленный путь.                                                                   |
|  /ресаурцефорк:<Filepath>  |                                                                 Указывает расположение вилки ресурса, которая будет присоединена. Можно указать удаленный путь.                                                                 |
|   /таржетфиле:<Filepath>   | Обязательный. Указывает расположение файла, который создается путем присоединения к компоненту данных и вилке ресурса, или указывает расположение файла, тип или автор которого изменяется. Файл должен находиться на указанном сервере. |
|             /?             |                                                                                               Отображение справки в командной строке.                                                                                               |

### <a name="remarks"></a>Замечания
- Если предоставленная информация содержит пробелы или специальные символы, заключите текст в кавычки (например, **"** <em>имя компьютера</em> **"** ).

### <a name="examples"></a>Примеры.
Чтобы создать файл триапп на томе, доступном для Macintosh, в Д:\релеасе с помощью К:\кросс\мак\аппкоде ресурсов, а также сделать этот новый файл доступным для клиентов Macintosh как приложение (приложения Macintosh используют тип "ПРИМе") с автором (подпись ) задайте значение МАГНОЛИА, введите:
```
macfile forkize /resourcefork:c:\cross\mac\appcode /type:APPL /creator:MAGNOLIA /targetfile:D:\Release\treeapp
```
Чтобы изменить автор файла на Microsoft Word 5,1, для файла WOrd. txt в каталоге Д:\ворд Документс\грауп Files на сервере \\\Сервера введите:
```
macfile forkize /server:\\servera /creator:MSWD /type:TEXT /targetfile:"d:\Word documents\Group files\Word.txt"
```

## <a name="BKMK_LogonLimit"></a>Изменение сообщения о входе и ограничение сеансов
### <a name="syntax"></a>Синтаксис
```
macfile server [/server:\\<computerName>] [/maxsessions:{Number | unlimited}] [/loginmessage:<Message>]
```

### <a name="parameters"></a>Параметры

|               Параметр                |                                                                                                                                                                           Описание                                                                                                                                                                            |
|----------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|       /Server:\\\\<computerName>       |                                                                                                                        Указывает сервер, на котором необходимо изменить параметры. Если этот параметр опущен, операция выполняется на локальном компьютере.                                                                                                                         |
| /макссессионс: {число &#124; не ограничено} |                                                                                         Указывает максимальное число пользователей, которые могут одновременно использовать файлы и серверы печати для Macintosh. Если не указано, параметр **макссессионс** для сервера остается неизменным.                                                                                         |
|        /логинмессаже:<Message>         | изменяет сообщение, которое пользователи Macintosh видят при входе на файловый сервер для Macintosh Server. Максимальное число символов для сообщения при входе в систему — 199. Если этот параметр опущен, сообщение **логинмессаже** для сервера остается неизменным. Чтобы удалить существующее сообщение о входе в систему, включите параметр **/логинмессаже** , но оставьте переменную *сообщения* пустой. |
|                   /?                   |                                                                                                                                                               Отображение справки в командной строке.                                                                                                                                                               |

### <a name="remarks"></a>Замечания
- Если предоставленная информация содержит пробелы или специальные символы, заключите текст в кавычки (например, **"** <em>имя компьютера</em> **"** ).

### <a name="examples"></a>Примеры.
Для изменения числа сеансов файлов и сервера печати для Macintosh, которые разрешены на локальном сервере от текущего до пяти сеансов, и для добавления сообщения о входе в систему с сервера для Macintosh по завершении работы введите:
```
macfile server /maxsessions:5 /loginmessage:"Log off from Server for Macintosh when you are finished."
```

## <a name="BKMK_addvol"></a>Добавление, изменение и удаление томов, доступных для Macintosh
### <a name="syntax"></a>Синтаксис
```
macfile volume {/add|/set} [/server:\\<computerName>] /name:<volumeName>/path:<directory>[/readonly:{true | false}] [/guestsallowed:{true | false}] [/password:<Password>] [/maxusers:{<Number>>|unlimited}]
macfile volume /remove[/server:\\<computerName>] /name:<volumeName>
```

### <a name="parameters"></a>Параметры

|              Параметр               |                                                                                                                                                                       Описание                                                                                                                                                                        |
|--------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|          {/Add &#124; /Сет}          |                                                                                                                      Требуется при добавлении или изменении тома, доступного для Macintosh. Добавляет или изменяет указанный том.                                                                                                                       |
|      /Server:\\\\<computerName>      |                                                                                                             Указывает сервер, на который необходимо добавить, изменить или удалить том. Если этот параметр опущен, операция выполняется на локальном компьютере.                                                                                                              |
|          /Name:<volumeName>          |                                                                                                                                          Обязательный. Указывает имя добавляемого, изменяемого или удаляемого тома.                                                                                                                                           |
|          /path:<directory>           |                                                                                                                Обязательный и допустимый только при добавлении тома. Указывает путь к корневому каталогу добавляемого тома.                                                                                                                 |
|    /реадонли: {true &#124; false}     | Указывает, могут ли пользователи изменять файлы в томе. Введите значение true, чтобы указать, что пользователи не могут изменять файлы в томе. Введите значение false, чтобы указать, что пользователи могут изменять файлы в томе. Если при добавлении тома параметр опущен, то изменения в файлах разрешены. Если при изменении тома не указано, параметр **ReadOnly** для тома остается неизменным. |
|  /гуестсалловед: {true &#124; false}  |      Указывает, могут ли пользователи, вошедшие в систему как гости, использовать этот том. Введите значение true, чтобы указать, что гости может использовать том. Введите значение false, чтобы указать, что гости не смогут использовать том. Если при добавлении тома он не указан, гости могут использовать этот том. Если при изменении тома не указано, параметр **гуестсалловед** для тома остается неизменным.       |
|         /Password:<Password>         |                                                                               Указывает пароль, который потребуется для доступа к тому. Если при добавлении тома не указано, пароль не создается. Если при изменении тома параметр опущен, пароль остается неизменным.                                                                               |
| /максусерс: {<Number>>&#124;неограниченно} |                                                 Указывает максимальное число пользователей, которые могут одновременно использовать файлы на томе. Если при добавлении тома параметр не задан, его может использовать неограниченное число пользователей. Если при изменении тома параметр опущен, значение **максусерс** остается неизменным.                                                 |
|               /remove                |                                                                                                                                Требуется при удалении тома Macintosh-доступный. Удаляет указанный том.                                                                                                                                |
|                  /?                  |                                                                                                                                                           Отображение справки в командной строке.                                                                                                                                                           |

### <a name="remarks"></a>Замечания
- Если предоставленная информация содержит пробелы или специальные символы, заключите текст в кавычки (например, **"** <em>имя компьютера</em> **"** ).

### <a name="examples"></a>Примеры.
Чтобы создать том с именем "Статистика маркетинга США" на локальном сервере, используя каталог stats на диске E, и указать, что этот том недоступен для гостей, введите:
```
macfile volume /add /name:"US Marketing Statistics" /guestsallowed:false /path:e:\Stats
```
Чтобы изменить созданный ранее том, чтобы он был доступен только для чтения и затребовал пароль, а также задать для максимального числа пользователей пять, введите:
```
macfile volume /set /name:"US Marketing Statistics" /readonly:true /password:saturn /maxusers:5
```
Чтобы добавить том с альбомной ориентацией, на сервере \\\Магнолиа с помощью каталога деревьев на диске E, а также для указания того, что доступ к тому может осуществляться гостями, введите:
```
macfile volume /add /server:\\Magnolia /name:"Landscape Design" /path:e:\trees
```
Чтобы удалить том, который называется Sales Reports на локальном сервере, введите:
```
macfile volume /remove /name:"Sales Reports"
```

## <a name="additional-references"></a>Дополнительные ссылки
-   [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)
