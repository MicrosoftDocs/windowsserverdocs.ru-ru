---
ms.assetid: 77545920-2d13-4f35-a4d1-14dbec8340dc
title: Fsutil sparse
ms.prod: windows-server
manager: dmoss
ms.author: toklima
author: toklima
ms.technology: storage
audience: IT Pro
ms.topic: article
ms.date: 10/16/2017
ms.openlocfilehash: 70c881cc02f31614160920766d32d73a3a939315
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2020
ms.locfileid: "80844067"
---
# <a name="fsutil-sparse"></a>Fsutil sparse
>Область применения: Windows Server (половина ежегодного канала), Windows Server 2016, Windows 10, Windows Server 2012 R2, Windows 8.1, Windows Server 2012, Windows 8, Windows Server 2008 R2, Windows 7

Управляет разреженными файлами.

В разделе [Примеры](#BKMK_examples) показан принцип использования этой команды.

## <a name="syntax"></a>Синтаксис

```
fsutil sparse [queryflag] <FileName>
fsutil sparse [queryrange] <FileName>
fsutil sparse [setflag] <FileName>
fsutil sparse [setrange] <FileName> <BeginningOffset> <Length>
```

### <a name="parameters"></a>Параметры

|     Параметр     |                                                    Описание                                                    |
|-------------------|-------------------------------------------------------------------------------------------------------------------|
|     куерифлаг     |                                                  Разреженные запросы.                                                  |
|    куериранже     |                        Сканирует файл и ищет диапазоны, которые могут содержать ненулевые данные.                        |
|      setflag      |                                        Помечает указанный файл как разреженный.                                        |
|     SetRange      |                                   Заполняет указанный диапазон файла нулями.                                   |
|    <FileName>     | Указывает полный путь к файлу, включая имя файла и расширение, например К:\документс\филенаме.ткст. |
| <BeginningOffset> |                              Задает смещение в файле для пометки как разреженного.                              |
|     <Length>      |                 Указывает длину области в файле, которая будет помечена как разреженная (в байтах).                 |

## <a name="remarks"></a>Примечания

-   Разреженный файл — это файл с одним или несколькими регионами нераспределенных данных. Программа будет видеть эти Нераспределенные регионы как содержащие байты с нулевым значением, но место на диске не используется для представления этих нулей. Все осмысленные или ненулевые данные выделяются, тогда как все незначимые данные (большие строки данных, состоящие из нулей) не выделяются. При чтении разреженного файла выделенные данные возвращаются в виде сохраненных данных, а нераспределенные данные по умолчанию возвращаются в виде нулей в соответствии со спецификацией требования безопасности C2. Поддержка разреженных файлов позволяет освободить данные из любого места в файле.

-   В разреженном файле большие диапазоны нулей могут не требовать выделения места на диске. При создании файла пространство для ненулевых данных будет выделяться по мере необходимости.

-   Только сжатые или разреженные файлы могут иметь нулевые диапазоны, известные операционной системе.

-   Если файл Разреженный или сжатый, NTFS может освободить место на диске в файле. Этот параметр задает для диапазона байтов нулевое значение без увеличения размера файла.

## <a name="examples"></a><a name="BKMK_examples"></a>Примеров
Чтобы пометить файл с именем Sample. txt в каталоге C:\Temp как разреженный, введите:

```
fsutil sparse setflag c:\temp\sample.txt 
```

## <a name="additional-references"></a>Дополнительные материалы
- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)

[Fsutil](Fsutil.md)


