---
title: pathping
description: Узнайте, как получить сведения о задержке и потерь сети с помощью команды pathping.
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: ec430125-b1dc-4aad-a7c9-b70f486d9e3c
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 07/11/2018
ms.openlocfilehash: 05675e4764c4c3e135647a1185da05634ee7264f
ms.sourcegitcommit: ab64dc83fca28039416c26226815502d0193500c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/01/2020
ms.locfileid: "82723361"
---
# <a name="pathping"></a>pathping

> Область применения: Windows Server (половина ежегодного канала), Windows Server 2019, Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Предоставляет сведения о задержке сети и сетевой утрате в промежуточных прыжках между источником и назначением. **pathping** отправляет несколько сообщений эхо-запросов каждому маршрутизатору между источником и назначением за определенный период времени, а затем выполняет вычисление результатов на основе пакетов, возвращенных каждым маршрутизатором. Поскольку **pathping** отображает степень потери пакетов на любом конкретном маршрутизаторе или в связи, можно определить, какие маршрутизаторы или подсети могут столкнуться с проблемами сети. 

**pathping** выполняет эквивалент команды **tracert** , определяя маршрутизаторы в пути. Затем они периодически отправляют пакеты проверки связи на все маршрутизаторы за указанный период времени и вычисляют статистику на основе числа, возвращенного из каждой. Используется без параметров, команда **pathping** выводит справку. 

## <a name="syntax"></a>Синтаксис
```
pathping [/n] [/h] [/g <Hostlist>] [/p <Period>] [/q <NumQueries> [/w <timeout>] [/i <IPaddress>] [/4 <IPv4>] [/6 <IPv6>][<TargetName>]
```
#### <a name="parameters"></a>Параметры
|Параметр|Описание|
|-------|--------|
|/n|Предотвращает попытки **pathping** разрешить IP-адреса промежуточных маршрутизаторов к их именам. Это может ускорить отображение результатов **pathping** .|
|/h \<максимумхопс>|Указывает максимальное число прыжков в пути для поиска целевого объекта (назначение). Значение по умолчанию — 30 прыжков.|
|/g \<hostlist>|Указывает, что сообщения эхо-запроса используют параметр свободного исходного маршрута в заголовке IP с набором промежуточных назначений, указанных в *hostlist*. При свободной маршрутизации последовательные промежуточные назначения могут быть разделены одним или несколькими маршрутизаторами. Максимальное число адресов или имен в списке узлов равно 9. *Hostlist* — это серия IP-адресов (в точечно-десятичной нотации), разделенных пробелами.|
|/p \<> периода|Указывает время ожидания между последовательными проверками связи (в миллисекундах). Значение по умолчанию — 250 миллисекунд (1/4 секунд).|
|/q \<нумкуериес>|Указывает число сообщений эхо-запросов, отправляемых каждому маршрутизатору в пути. Значение по умолчанию — 100 запросов.|
|/w \<время ожидания>|Указывает количество миллисекунд ожидания для каждого ответа. Значение по умолчанию — 3000 миллисекунд (3 секунды).|
|/i \<IPAddress>|Указывает исходный адрес.|
|/4 \<> IPv4|Указывает, что pathping использует только IPv4.|
|/6 \<> IPv6|Указывает, что pathping использует только IPv6.|
|\<TargetName>|Указывает назначение, которое определяется по IP-адресу или имени узла.|
|/?|Отображение справки в командной строке.|

## <a name="remarks"></a>Примечания
-   параметры **pathping** чувствительны к регистру.
-   Чтобы избежать перегрузки сети, следует отправлять пакеты проверки связи с достаточной скоростью.
-   Чтобы избежать последствий потери нагрузки, не следует слишком часто отсылать сообщения проверки связи.
-   При использовании параметра **/p** команды ping отправляются по отдельности на каждый промежуточный прыжок. По этой причине интервал между двумя проверками связи, отправляемыми на один прыжок, — это умножение *периода* на число прыжков.
-   При использовании параметра **/w** можно параллельно отправлять несколько пакетов проверки связи. По этой причине количество времени, указанное в параметре *timeout* , не ограничивается временем, указанным в параметре *period* для ожидания между проверками связи.
-   Эта команда доступна, только если протокол Internet Protocol (TCP/IP) установлен в качестве компонента в свойствах сетевого адаптера в окне Сетевые подключения.

## <a name="examples"></a>Примеры

Для отображения выходных данных команды **pathping** :

```
D:\>pathping /n corp1
Tracing route to corp1 [10.54.1.196]
over a maximum of 30 hops:
  0  172.16.87.35
  1  172.16.87.218
  2  192.168.52.1
  3  192.168.80.1
  4  10.54.247.14
  5  10.54.1.196
computing statistics for 125 seconds...
            Source to Here   This Node/Link
Hop  RTT    Lost/Sent = Pct  Lost/Sent = Pct  address
  0                                           172.16.87.35
                                0/ 100 =  0%   |
  1   41ms     0/ 100 =  0%     0/ 100 =  0%  172.16.87.218
                               13/ 100 = 13%   |
  2   22ms    16/ 100 = 16%     3/ 100 =  3%  192.168.52.1
                                0/ 100 =  0%   |
  3   24ms    13/ 100 = 13%     0/ 100 =  0%  192.168.80.1
                                0/ 100 =  0%   |
  4   21ms    14/ 100 = 14%     1/ 100 =  1%  10.54.247.14
                                0/ 100 =  0%   |
  5   24ms    13/ 100 = 13%     0/ 100 =  0%  10.54.1.196
Trace complete.
```
При запуске **pathping** в первом списке результатов отображается путь. Это тот же путь, который отображается с помощью команды **tracert** . Далее в течение приблизительно 90 секунд отображается сообщение о занятости (время зависит от числа прыжков). В течение этого времени сведения собираются со всех перечисленных ранее маршрутизаторов и из связей между ними. по окончании этого периода результаты теста отобразятся.

В приведенном выше примере отчета **этот узел/ссылка**, **потерянные/отправленные = PCT** и **Address** Columns показывает, что ссылка между 172.16.87.218 и 192.168.52.1 удаляет 13% пакетов. Маршрутизаторы на прыжках 2 и 4 также отбрасывают пакеты, адресованные им, но эта утрата не влияет на возможность пересылки трафика, который не адресован им.

Коэффициенты потерь, отображаемые для ссылок, обозначенные как вертикальная**|** черта () в столбце **Address** , указывают на перегрузку ссылок, которая вызывает потери пакетов, пересылаемых по пути. Показатели потерь, отображаемые для маршрутизаторов (идентифицируемые их IP-адреса), указывают на то, что эти маршрутизаторы могут быть перегружены.

## <a name="additional-references"></a>Дополнительная справка
-   - [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)