---
title: pathping
description: Справочная статья по команде Pathping, которая получает сведения о задержке сети и сетевой утрате в промежуточных прыжках между источником и назначением.
ms.topic: article
ms.assetid: ec430125-b1dc-4aad-a7c9-b70f486d9e3c
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 07/11/2018
ms.openlocfilehash: d5ce12d950356c5ebb5ad671de09aaebbc91b9fb
ms.sourcegitcommit: 53d526bfeddb89d28af44210a23ba417f6ce0ecf
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/06/2020
ms.locfileid: "87885092"
---
# <a name="pathping"></a>pathping

> Область применения: Windows Server (половина ежегодного канала), Windows Server 2019, Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Предоставляет сведения о задержке сети и сетевой утрате в промежуточных прыжках между источником и назначением. Эта команда отправляет несколько сообщений эхо-запросов каждому маршрутизатору между источником и назначением за определенный период времени, а затем выполняет вычисление результатов на основе пакетов, возвращенных каждым маршрутизатором. Поскольку эта команда отображает степень потери пакетов на любом конкретном маршрутизаторе или в связи, можно определить, какие маршрутизаторы или подсети могут иметь проблемы с сетью. При использовании без параметров эта команда выводит справку.

> [!NOTE]
> Эта команда доступна, только если протокол Internet Protocol (TCP/IP) установлен в качестве компонента в свойствах сетевого адаптера в окне Сетевые подключения.
>
> Кроме того, эта команда определяет, какие маршрутизаторы находятся в пути, аналогично использованию [команды tracert](tracert.md). Ховевевер эта команда также периодически отправляет пакеты проверки связи на все маршрутизаторы за указанный период времени и выдает статистику на основе числа, возвращенного каждым из них.

## <a name="syntax"></a>Синтаксис

```
pathping [/n] [/h <maximumhops>] [/g <hostlist>] [/p <Period>] [/q <numqueries> [/w <timeout>] [/i <IPaddress>] [/4 <IPv4>] [/6 <IPv6>][<targetname>]
```

### <a name="parameters"></a>Параметры

| Параметр | Описание: |
|--|--|
| /n | Предотвращает попытки **pathping** разрешить IP-адреса промежуточных маршрутизаторов к их именам. Это может ускорить отображение результатов **pathping** . |
| /h`<maximumhops>` | Указывает максимальное число прыжков в пути для поиска целевого объекта (назначение). Значение по умолчанию — 30 прыжков. |
| /g`<hostlist>` | Указывает, что сообщения эхо-запроса используют параметр **свободного исходного маршрута** в заголовке IP с набором промежуточных назначений, указанных в *hostlist*. При свободной маршрутизации последовательные промежуточные назначения могут быть разделены одним или несколькими маршрутизаторами. Максимальное число адресов или имен в списке узлов равно **9**. *Hostlist* — это серия IP-адресов (в точечно-десятичной нотации), разделенных пробелами. |
| /p`<period>` | Указывает время ожидания между последовательными проверками связи (в миллисекундах). Значение по умолчанию — 250 миллисекунд (1/4 секунд). Этот параметр отправляет индивидуальные проверки связи на каждый промежуточный прыжок. По этой причине интервал между двумя проверками связи, отправляемыми на один прыжок, — это умножение *периода* на число прыжков. |
| /q`<numqueries>` | Указывает число сообщений эхо-запросов, отправляемых каждому маршрутизатору в пути. Значение по умолчанию — 100 запросов. |
| /w`<timeout>` | Указывает количество миллисекунд ожидания для каждого ответа. Значение по умолчанию — 3000 миллисекунд (3 секунды). Этот параметр параллельно отправляет несколько пакетов проверки связи. По этой причине количество времени, указанное в параметре *timeout* , не ограничивается временем, указанным в параметре *period* для ожидания проверки связи. |
| /i`<IPaddress>` | Указывает исходный адрес. |
| /4`<IPv4>` | Указывает, что pathping использует только IPv4. |
| /6`<IPv6>` | Указывает, что pathping использует только IPv6. |
| `<targetname>` | Указывает назначение, которое определяется по IP-адресу или имени узла. |
| /? | Отображение справки в командной строке. |

#### <a name="remarks"></a>Remarks

- Все параметры учитывают регистр.

- Чтобы избежать перегрузки сети и уменьшить влияние потерь нагрузки на нагрузку, проверка связи должна выполняться достаточно быстро.

### <a name="example-of-the-pathping-command-output"></a>Пример выходных данных команды pathping

```
D:\>pathping /n contoso1
Tracing route to contoso1 [10.54.1.196]
over a maximum of 30 hops:
  0  172.16.87.35
  1  172.16.87.218
  2  192.168.52.1
  3  192.168.80.1
  4  10.54.247.14
  5  10.54.1.196
computing statistics for 125 seconds...
            Source to Here   This Node/Link
Hop  RTT    Lost/Sent = Pct  Lost/Sent = Pct  address
  0                                           172.16.87.35
                                0/ 100 =  0%   |
  1   41ms     0/ 100 =  0%     0/ 100 =  0%  172.16.87.218
                               13/ 100 = 13%   |
  2   22ms    16/ 100 = 16%     3/ 100 =  3%  192.168.52.1
                                0/ 100 =  0%   |
  3   24ms    13/ 100 = 13%     0/ 100 =  0%  192.168.80.1
                                0/ 100 =  0%   |
  4   21ms    14/ 100 = 14%     1/ 100 =  1%  10.54.247.14
                                0/ 100 =  0%   |
  5   24ms    13/ 100 = 13%     0/ 100 =  0%  10.54.1.196
Trace complete.
```

При запуске **pathping** в первом списке результатов отображается путь. Далее в течение приблизительно 90 секунд отображается сообщение о занятости (время зависит от числа прыжков). В течение этого времени сведения собираются со всех перечисленных ранее маршрутизаторов и из связей между ними. По окончании этого периода результаты теста отобразятся.

В приведенном выше примере отчета **этот узел/ссылка**, **потерянные и отправленные = PCT** и **Address** Columns показывает, что ссылка между *172.16.87.218* и *192.168.52.1* удаляет 13% пакетов. Маршрутизаторы на прыжках 2 и 4 также удаляют адресованные им пакеты, но эта утрата не влияет на возможность пересылки трафика, который не адресован им.

Коэффициенты потерь, отображаемые для ссылок, обозначенные как вертикальная черта ( **|** ) в столбце **Address** , указывают на перегрузку ссылок, которая вызывает потери пакетов, пересылаемых по пути. Показатели потерь, отображаемые для маршрутизаторов (идентифицируемые их IP-адреса), указывают на то, что эти маршрутизаторы могут быть перегружены.

## <a name="additional-references"></a>Дополнительные ссылки

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)

- [Команда tracert](tracert.md)
