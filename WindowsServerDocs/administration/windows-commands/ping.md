---
title: ping
description: Используйте команду ping для проверки сетевого подключения.
ms.custom: na
ms.prod: windows-server
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 49272671-2eec-4fa5-881f-65c24cfbef52
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 07/11/2018
ms.openlocfilehash: 7d9841c12d403d91e14021ff9df65246d322debd
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/27/2019
ms.locfileid: "71372308"
---
# <a name="ping"></a>ping

>Область применения: Windows Server (Semi-Annual Channel), Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Команда **ping** проверяет подключение на уровне IP к другому компьютеру TCP/IP, отправляя сообщения эхо-запросов протокола ICMP. Отображаются сообщения о получении соответствующих эхо-ответов, а также время кругового пути. Ping — это основная команда TCP/IP, используемая для устранения неполадок подключения, доступности и разрешения имен. При использовании без параметров **команда ping** выводит справку.

## <a name="syntax"></a>Синтаксис

```
ping [/t] [/a] [/n <Count>] [/l <Size>] [/f] [/I <TTL>] [/v <TOS>] [/r <Count>] [/s <Count>] [{/j <Hostlist> | /k <Hostlist>}] [/w <timeout>] [/R] [/S <Srcaddr>] [/4] [/6] <TargetName>
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|-------|--------|
|/t|Указывает, что проверка связи продолжит отправлять сообщения эхо-запросов в место назначения, пока не будет прервано. Чтобы прервать и отобразить статистику, нажмите клавиши CTRL + BREAK. Чтобы выполнить прерывание и выйти из **проверки связи**, нажмите клавиши CTRL + C.|
|/|Указывает, что разрешение обратных имен выполняется на IP-адрес назначения. В случае успешного выполнения команды Ping отображает соответствующее имя узла.|
|/n \<число\>|Указывает число отправленных сообщений с эхо-запросом. Значение по умолчанию — 4.|
|/l \<размер\>|Указывает длину (в байтах) поля данных в отправленных сообщениях запроса эха. Значение по умолчанию — 32. Максимальный размер — 65 527.|
|/f|Указывает, что сообщения эхо-запросов отправляются с флагом "не фрагментировать" в заголовке IP, установленном в значение 1 (доступно только в IPv4). Сообщения эхо-запроса не могут быть фрагментированы маршрутизаторами по пути к назначению. Этот параметр полезен для устранения неполадок с максимальным количеством блоков передачи (PMTU).|
|/I \<TTL\>|Задает значение поля TTL в заголовке IP для отправленных сообщений запроса эха. По умолчанию используется значение TTL по умолчанию для узла. Максимальный *срок жизни* — 255.|
|/v \<TOS\>|Указывает значение поля типа службы (TOS) в IP-заголовке для отправленных сообщений запроса эха (доступно только в IPv4). Значение по умолчанию — 0. *TOS* задаются в виде десятичного значения от 0 до 255.|
|/r \<число\>|Указывает, что параметр записи Route в заголовке IP-адреса используется для записи пути, полученного сообщением запроса эха, и соответствующего сообщения о эхо-ответе (доступно только в IPv4). Каждый прыжок в пути использует запись в параметре запись маршрута. Если возможно, укажите *число* прыжков между источником и назначением. *Число* должно быть не меньше 1 и не больше 9.|
|/s \<\> счетчика|Указывает, что параметр отметка времени Интернета в заголовке IP используется для записи времени прибытия сообщения эхо-запроса и соответствующего сообщения эхо-ответа для каждого прыжка. *Число* должно быть не меньше 1 и не больше 4. Это необходимо для адресов назначения, находящейся в локальной связи.|
|/j \<hostlist\>|Указывает, что сообщения эхо-запроса используют параметр свободного исходного маршрута в заголовке IP с набором промежуточных назначений, указанных в *hostlist* (доступно только в IPv4). При свободной маршрутизации последовательные промежуточные назначения могут быть разделены одним или несколькими маршрутизаторами. Максимальное число адресов или имен в списке узлов равно 9. Список узлов представляет собой набор IP-адресов (в точечно-десятичной нотации), разделенных пробелами.|
|/k \<hostlist\>|Указывает, что сообщения эхо-запроса используют в заголовке IP параметр с максимальным исходным маршрутом с набором промежуточных назначений, указанных в *hostlist* (доступно только в IPv4). При использовании явной исходной маршрутизации следующее промежуточное назначение должно быть напрямую достижимо (оно должно быть соседом в интерфейсе маршрутизатора). Максимальное число адресов или имен в списке узлов равно 9. Список узлов представляет собой набор IP-адресов (в точечно-десятичной нотации), разделенных пробелами.|
|время ожидания \</w\>|Указывает время (в миллисекундах) ожидания получения сообщения о эхо-ответе, соответствующего заданному сообщению запроса эха. Если ответное сообщение не получено в течение времени ожидания, отображается сообщение об ошибке "запрос был превышен). Время ожидания по умолчанию — 4000 (4 секунды).|
|/R|Указывает, что путь приема-передачи отслеживается (доступно только в IPv6).|
|/S \<srcaddr\>|Указывает используемый исходный адрес (доступен только в IPv6).|
|/4|Указывает, что протокол IPv4 используется для проверки связи. Этот параметр не требуется для определения целевого узла с IPv4-адресом. Необходимо только указать целевой узел по имени.|
|/6|Указывает, что протокол IPv6 используется для проверки связи. Этот параметр не требуется для определения целевого узла с IPv6-адресом. Необходимо только указать целевой узел по имени.|
|\<TargetName\>|Указывает имя узла или IP-адрес назначения.|
|/?|Отображение справки в командной строке.|

## <a name="remarks"></a>Замечания

-   С помощью **команды ping** можно проверить как имя компьютера, так и IP-адрес компьютера. Если проверка связи с IP-адресом прошла успешно, но проверка связи с именем компьютера не выполняется, может возникнуть проблема разрешения имен. В этом случае убедитесь, что указываемое имя компьютера можно разрешить через локальный файл hosts с помощью запросов службы доменных имен (DNS) или методов разрешения имен NetBIOS.
-   Эта команда доступна, только если протокол Internet Protocol (TCP/IP) установлен в качестве компонента в свойствах сетевого адаптера в окне Сетевые подключения.

## <a name="BKMK_Examples"></a>Примеров

В следующем примере показаны выходные данные команды **ping** :

```
C:\>ping example.microsoft.com       
         pinging example.microsoft.com [192.168.239.132] with 32 bytes of data:       
         Reply from 192.168.239.132: bytes=32 time=101ms TTL=124       
         Reply from 192.168.239.132: bytes=32 time=100ms TTL=124       
         Reply from 192.168.239.132: bytes=32 time=120ms TTL=124       
         Reply from 192.168.239.132: bytes=32 time=120ms TTL=124
```

Чтобы проверить связь с целевым 10.0.99.221 и разрешить 10.0.99.221 в его имя узла, введите:

```
ping /a 10.0.99.221
```

Чтобы проверить связь с 10.0.99.221 назначения с 10 сообщениями эхо-запроса, каждый из которых имеет поле данных 1000 байт, введите:

```
ping /n 10 /l 1000 10.0.99.221
```

Чтобы проверить связь с назначением 10.0.99.221 и записать маршрут для 4 прыжков, введите:

```
ping /r 4 10.0.99.221
```

Чтобы проверить связь с целевым 10.0.99.221 и указать свободный исходный маршрут 10.12.0.1-10.29.3.1-10.1.44.1, введите:

```
ping /j 10.12.0.1 10.29.3.1 10.1.44.1 10.0.99.221
```

## <a name="additional-references"></a>Дополнительные ссылки
-   [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)
