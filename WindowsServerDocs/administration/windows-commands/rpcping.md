---
title: rpcping
description: Раздел Windows команды для ****-
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: 7382aa0d-90fc-47c0-84b3-15f52dd656d0
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 7199566222a87a996ae38b2c4b80dd60f14d4a8f
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2020
ms.locfileid: "80835547"
---
# <a name="rpcping"></a>rpcping

>Область применения: Windows Server (Semi-Annual Channel), Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Подтверждает подключение RPC между компьютером, на котором работает Microsoft Exchange Server, и любой из поддерживаемых клиентских рабочих станций Microsoft Exchange в сети. С помощью этой служебной программы можно проверить, отвечают ли службы Microsoft Exchange Server на запросы RPC от клиентских рабочих станций через сеть. 

## <a name="syntax"></a>Синтаксис
```
rpcping [/t <protseq>] [/s <server_addr>] [/e <endpoint>
        |/f <interface UUID>[,Majorver]] [/O <Interface Object UUID]
        [/i <#_iterations>] [/u <security_package_id>] [/a <authn_level>]
        [/N <server_princ_name>] [/I <auth_identity>] [/C <capabilities>]
        [/T <identity_tracking>] [/M <impersonation_type>]
        [/S <server_sid>] [/P <proxy_auth_identity>] [/F <RPCHTTP_flags>]
        [/H <RPC/HTTP_authn_schemes>] [/o <binding_options>]
        [/B <server_certificate_subject>] [/b] [/E] [/q] [/c]
        [/A <http_proxy_auth_identity>] [/U <HTTP_proxy_authn_schemes>]
        [/r <report_results_interval>] [/v <verbose_level>] [/d]
```

#### <a name="parameters"></a>Параметры

|            Параметр             |                                                                                                                                                                                                                                                                                                                                               Описание                                                                                                                                                                                                                                                                                                                                               |
|----------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|          /t \<протсек >           |                                                                                                                                                                                                                                                  Указывает используемую последовательность протокола. Может быть одной из стандартных последовательностей протокола RPC, например: ncacn_ip_tcp, ncacn_np или ncacn_http.<p>Если значение не указано, по умолчанию используется ncacn_ip_tcp.                                                                                                                                                                                                                                                   |
|        /s \<server_addr >         |                                                                                                                                                                                                                                                                                                            Указывает адрес сервера. Если этот параметр не указан, проверка связи с локальным компьютером будет осуществляться.                                                                                                                                                                                                                                                                                                            |
|          /e \<конечная точка >          |                                                                                                                                                                                                                                                    Указывает конечную точку для проверки связи. Если параметр не указан, средство сопоставления конечных точек на целевом компьютере будет проверять связь.<p>Этот параметр является взаимоисключающим с параметром Interface ( **/f**).                                                                                                                                                                                                                                                     |
|      /o \<binding_options >       |                                                                                                                                                                                                                                                                                                                             Задает параметры привязки для проверки связи RPC.                                                                                                                                                                                                                                                                                                                             |
| /f интерфейс \<UUID > [, majorver]  |                                                                                                            Указывает интерфейс для проверки связи. Этот параметр является взаимоисключающим с параметром конечной точки. Интерфейс указывается в виде UUID.<p>Если *majorver* не указан, будет выполняться поиск версии 1 интерфейса.<p>Если указан интерфейс, **рпкпинг** будет запрашивать сопоставитель конечных точек на целевом компьютере, чтобы получить конечную точку для указанного интерфейса. Запрос сопоставителя конечных точек будет запрашиваться с использованием параметров, указанных в командной строке.                                                                                                             |
|        /O \<UUID объекта >         |                                                                                                                                                                                                                                                                                                                       Указывает идентификатор UUID объекта, если он зарегистрирован.                                                                                                                                                                                                                                                                                                                        |
|        /i \<#_iterations >        |                                                                                                                                                                                                                                                                          Указывает количество вызовов для выполнения. Значение по умолчанию — 1. Этот параметр полезен для измерения задержки подключения, если указано несколько итераций.                                                                                                                                                                                                                                                                          |
|    /u \<security_package_id >     | Указывает пакет безопасности (поставщик безопасности), который RPC будет использовать для выполнения вызова. Пакет безопасности идентифицируется как число или имя. Если используется номер, то это то же число, что и в API Рпкбиндингсетаусинфоекс. В списке ниже показаны имена и числа. Имена не чувствительны к регистру:<p>-Negotiate/9 либо один из него, снего или Negotiate<br />-NTLM/10 или NTLM<br />— SChannel/14 или SChannel<br />— Kerberos/16 или Kerberos<br />-Kernel/20 или ядро<br />    При указании этого параметра необходимо указать уровень проверки подлинности, отличный от None. Для этого параметра значение по умолчанию отсутствует. Если он не указан, RPC не будет использовать безопасность для проверки связи. |
|        /a \<authn_level >         |                                                                                                                                                               Задает используемый уровень проверки подлинности. Возможные значения:<p>— подключение<br />— вызов<br />-PKT<br />— целостность<br />— конфиденциальность<p>Если указан этот параметр, необходимо также указать идентификатор пакета безопасности (/u). Для этого параметра значение по умолчанию отсутствует.<p>Если этот параметр не указан, RPC не будет использовать безопасность для проверки связи.                                                                                                                                                               |
|     /N \<server_princ_name >      |                                                                                                                                                                                                                                                                                 Указывает имя участника на сервере.<p>Это поле можно использовать, только если выбраны уровень проверки подлинности и пакет безопасности.                                                                                                                                                                                                                                                                                  |
|       /I \<auth_identity >        |                                                         Позволяет указать альтернативное удостоверение для подключения к серверу. Удостоверение имеет вид "пользователь", "домен", "пароль". Если имя пользователя, домен или пароль имеют специальные символы, которые могут быть интерпретированы оболочкой, заключите удостоверение в двойные кавычки. Вместо пароля можно указать **\\** \*, а RPC предложит ввести пароль без вывода на экран. Если это поле не указано, будет использоваться удостоверение вошедшего в систему пользователя.<p>Это поле можно использовать, только если выбраны уровень проверки подлинности и пакет безопасности.                                                         |
|        /C \<возможности >        |                                                                                                                                                                                                                                                                                   Указывает шестнадцатеричную битовую маску флагов. Это поле можно использовать, только если выбраны уровень проверки подлинности и пакет безопасности.                                                                                                                                                                                                                                                                                    |
|     /T \<identity_tracking >      |                                                                                                                                                                                                                                                               Указывает статический или динамический. Если не указано, Dynamic является значением по умолчанию.<p>Это поле можно использовать, только если выбраны уровень проверки подлинности и пакет безопасности.                                                                                                                                                                                                                                                                |
|     /M \<impersonation_type >     |                                                                                                                                                                                                                                                           Указывает анонимный, Identify, IMPERSONATE или Delegate. Значение по умолчанию — IMPERSONATE.<p>Это поле можно использовать, только если выбраны уровень проверки подлинности и пакет безопасности.                                                                                                                                                                                                                                                           |
|         /S \<server_sid >         |                                                                                                                                                                                                                                                                              Указывает ожидаемый идентификатор безопасности сервера.<p>Это поле можно использовать, только если выбраны уровень проверки подлинности и пакет безопасности.                                                                                                                                                                                                                                                                              |
|    /P \<proxy_auth_identity >     |                                                                                                                                                                                                                              Указывает удостоверение для проверки подлинности с помощью прокси-сервера RPC/HTTP. Имеет тот же формат, что и параметр/I. Для использования этого параметра необходимо указать пакет безопасности (/u), уровень проверки подлинности (/a) и схемы проверки подлинности (/H).                                                                                                                                                                                                                               |
|       /F \<RPCHTTP_flags >        |                                                                                                                                                                Указывает флаги, передаваемые для проверки подлинности внешнего интерфейса RPC/HTTP. Флаги могут быть указаны в виде чисел или имен, распознаваемых в настоящее время флагами:<p>— Использовать SSL/1 или SSL или use_ssl<br />— Использовать первую схему проверки подлинности/2 или первый или use_first<p>Для использования этого параметра необходимо указать пакет безопасности (/u) и уровень проверки подлинности (/a).                                                                                                                                                                 |
|   /H \<RPC/HTTP_authn_schemes >   |                                                                                                                           Указывает схемы проверки подлинности, используемые для проверки подлинности внешнего интерфейса RPC/HTTP. Этот параметр представляет собой список числовых значений или имен, разделенных запятыми. Пример: Basic, NTLM. Распознанные значения: (в именах не учитывается регистр).<p>-Basic/1 или Basic<br />-NTLM/2 или NTLM<br />-Certificate/65536 или CERT<p>Для использования этого параметра необходимо указать пакет безопасности (/u) и уровень проверки подлинности (/a).                                                                                                                            |
| /B \<server_certificate_subject > |                                                                                                                                                                                                                                                    Указывает субъект сертификата сервера. Для работы этого параметра необходимо использовать SSL.<p>Для использования этого параметра необходимо указать пакет безопасности (/u) и уровень проверки подлинности (/a).                                                                                                                                                                                                                                                     |
|                /b                |                                                                                                                                                                                      Извлекает субъект сертификата сервера из сертификата, отправленного сервером, и выводит его на экран или в файл журнала. Действует только в том случае, если указаны параметр "только эхо прокси" (/E) и параметр "использовать SSL".<p>Для использования этого параметра необходимо указать пакет безопасности (/u) и уровень проверки подлинности (/a).                                                                                                                                                                                      |
|                /R                |                                                                                                                                                               Указывает прокси-сервер HTTP. Если он *отсутствует*, используется прокси-сервер RPC. Значение *по умолчанию* означает использование параметров IE на клиентском компьютере. Любое другое значение будет рассматриваться как явный прокси-сервер HTTP. Если этот флаг не указан, используется значение по умолчанию, то есть проверяются параметры IE. Этот флаг допустим только в том случае, если включен флаг **/e** (только эхо).                                                                                                                                                                |
|                /E                |                                                                                                                                                     Разрешает проверку связи только для прокси-сервера RPC/HTTP. Проверка связи не достигает сервера. Полезно при попытке установить, доступен ли прокси-сервер RPC/HTTP. Чтобы указать прокси-сервер HTTP, используйте флаг/R. Если прокси-сервер HTTP указан в флаге/o, этот параметр будет проигнорирован.<p>Для использования этого параметра необходимо указать пакет безопасности (/u) и уровень проверки подлинности (/a).                                                                                                                                                      |
|                /q                |                                                                                                                                                                                                                                                                                 Задает тихий режим. Не выдает никаких запросов, кроме паролей. Принимает ответ *Y* для всех запросов. Используйте этот параметр с осторожностью.                                                                                                                                                                                                                                                                                  |
|                /c                |                                                                                                                                                                                                                                                                                                               Использовать сертификат смарт-карты. рпкпинг предложит пользователю выбрать смарт-карту.                                                                                                                                                                                                                                                                                                                |
|                /A                |                                                                                                                                                                                                                        Указывает удостоверение для проверки подлинности прокси-сервера HTTP. Имеет тот же формат, что и параметр/I.<p>Для использования этого параметра необходимо указать схемы проверки подлинности (/U), пакет безопасности (/u) и уровень проверки подлинности (/a).                                                                                                                                                                                                                         |
|                /U                |                                                                                                                                                  Указывает схемы проверки подлинности, используемые для проверки подлинности HTTP-прокси. Этот параметр представляет собой список числовых значений или имен, разделенных запятыми. Пример: Basic, NTLM. Распознанные значения: (в именах не учитывается регистр).<p>-Basic/1 или Basic<br />-NTLM/2 или NTLM<p>Для использования этого параметра необходимо указать пакет безопасности (/u) и уровень проверки подлинности (/a).                                                                                                                                                  |
|                /r                |                                                                                                                                                                                                                                             Если указано несколько итераций, этот параметр позволяет периодически отображать статистику текущего выполнения **рпкпинг** , а не после последнего вызова. Интервал отчета указывается в секундах. Значение по умолчанию — 15.                                                                                                                                                                                                                                              |
|                /v                |                                                                                                                                                                                                                                                                                           Сообщает **рпкпинг** , как подробный вывод. По умолчанию установлено значение 1. 2 и 3 предоставляют больше выходных данных от **рпкпинг**.                                                                                                                                                                                                                                                                                           |
|                /d                |                                                                                                                                                                                                                                                                                                                                   Запускает пользовательский интерфейс диагностики сети RPC.                                                                                                                                                                                                                                                                                                                                   |
|                /p                |                                                                                                                                                                                                                                                                                                                      Указывает на запрос учетных данных в случае сбоя проверки подлинности.                                                                                                                                                                                                                                                                                                                       |
|                /?                |                                                                                                                                                                                                                                                                                                                                  Отображает справку в командной строке.                                                                                                                                                                                                                                                                                                                                   |

## <a name="examples"></a><a name=BKMK_Examples></a>Примеров
Чтобы узнать, доступен ли сервер Exchange, который вы подключаете через RPC/HTTP, введите:
```
rpcping /t ncacn_http /s exchange_server /o RpcProxy=front_end_proxy /P username,domain,* /H Basic /u NTLM /a connect /F 3
```

## <a name="additional-references"></a>Дополнительная справка
-   - [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)
