---
title: Logman Создание api
description: 'Раздел Windows команды для ***- '
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 2ecc0a75-2613-464a-8616-c5dc404bb736
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: feabb946c6dd492f38d9d6e2e1dc69795839e211
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59840635"
---
# <a name="logman-create-api"></a>Logman Создание api

>Область применения. Windows Server (полугодовой канал), Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Создание API трассировки сборщика данных.  
  
## <a name="syntax"></a>Синтаксис  
```  
logman create api <[-n] <name>> [options]  
```  
## <a name="parameters"></a>Параметры  
|Параметр|Описание|  
|-------|--------|  
|/?|Отображение контекстной справки.|  
|-s <computer name>|Выполнение команды на удаленный компьютер.|  
|-config <value>|Указывает файл параметров, содержащий параметры команды.|  
|[-n]. <name>|Имя целевого объекта.|  
|-f <bin&#124;bincirc&#124;csv&#124;tsv&#124;sql>|Указывает формат журнала сборщика данных.|  
|-[-]u <user [password]>|Указывает пользователя для запуска от имени. Введя * для пароля выводит приглашение для ввода пароля. Пароль не отображается при вводе пароля.|  
|-m < [start] [stop] [[start] [stop] [...]] >|изменить на ручной запуск или остановка вместо запланированное время begin или end.|  
|-rf < [[чч:] мм:] сс >|Запуск сбора данных в течение указанного периода времени.|  
|-b < м/ГГГГ ч: мин: [AM&#124;PM] >|Начните сбор данных в указанное время.|  
|-e < м/ГГГГ ч: мин: [AM&#124;PM] >|Окончания сбора данных в указанное время.|  
|-si < [[чч:] мм:] сс >|Указывает интервал выборки для сборщиков данных счетчика производительности.|  
|-o <path&#124;dsn!log>|Указывает выходной файл журнала или имя источника данных и журнала, задайте имя базы данных SQL.|  
|-[-]r|Повторите сборщика данных ежедневно в указанный начала и окончания.|  
|-[-]|Добавьте в существующий файл журнала.|  
|-[-] как|Перезаписать существующий файл журнала.|  
|-v [-] < nnnnnn&#124;mmddhhmm >|Присоедините файл сведений об управлении версиями в конец имени файла журнала.|  
|-[-] версия-кандидат <task>|Запуск указанной команды при каждом закрытии журнала.|  
|-max [-] <value>|Максимальный размер файла журнала в МБ или максимальное количество записей в журнале SQL.|  
|-cnf [-] < [[чч:] мм:] сс >|При указании времени создания файла, по истечении указанного времени. Если времени не указан, создайте новый файл, при превышении максимального размера.|  
|-y|Да, ответьте на все вопросы без запроса подтверждения.|  
|-mods <path [path [...]]>|Указывает список модулей для вызовов API из входа.|  
|-inapis < модуля! api [модуль! api [...]] >|Указывает список вызовов API для включения в ведения журнала.|  
|-exapis < модуля! api [модуль! api [...]] >|Указывает список вызовов API, чтобы исключить из ведения журнала.|  
|-ano [-]|Log (-ano) API только, имена или не регистрировать только (-ano) имен API.|  
|-рекурсивного [-]|Log (-рекурсивные) или не регистрировать (-рекурсивные) рекурсивно API-интерфейсы за первый слой.|  
|-EXE-файл <value>|Указывает полный путь к исполняемому файлу для трассировки API.|  
## <a name="remarks"></a>Примечания  
Там, где [-] присутствует в списке, отключает параметр.  
## <a name="BKMK_examples"></a>Примеры  
Следующая команда создает трассировки приложения API, счетчик называется trace_notepad c:\windows\notepad.exe исполняемый файл и выводит результат в файл c:\notepad.etl.  
```  
logman create api trace_notepad -exe c:\windows\notepad.exe -o c:\notepad.etl  
```  
Следующая команда создает трассировки приложения API, счетчик вызывается trace_notepad для исполняемого файла c:\windows\notepad.exe сбор значения, созданные c:\windows\system32\advapi32.dll модуля.  
```  
logman create api trace_notepad -exe c:\windows\notepad.exe -mods c:\windows\system32\advapi32.dll  
```  
Следующая команда создает трассировки приложения API, счетчик вызывается trace_notepad для исполняемого файла c:\windows\notepad.exe за исключением вызова API TlsGetValue созданного модуля kernel32.dll.  
```  
logman create api trace_notepad -exe c:\windows\notepad.exe -exapis kernel32.dll!TlsGetValue  
```  
#### <a name="additional-references"></a>Дополнительные ссылки  
[Logman](logman.md)  
