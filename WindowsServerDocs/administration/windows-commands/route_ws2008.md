---
title: route_ws2008
description: Узнайте, как изменить и отобразить записи в таблица маршрутизации локальных IP-адрес.
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: afcd666c-0cef-47c2-9bcc-02d202b983b3
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 07/11/2018
ms.openlocfilehash: 1164767a80b4d7dd24152bc34eda5d88834c1bdb
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59854825"
---
# <a name="routews2008"></a>route_ws2008

>Область применения. Windows Server (полугодовой канал), Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Отображает и изменяет записи в таблица маршрутизации локальных IP-адрес. При использовании без параметров, **маршрута** отображает справку.   

## <a name="syntax"></a>Синтаксис  
```  
route [/f] [/p] [<Command> [<Destination>] [mask <Netmask>] [<Gateway>] [metric <Metric>]] [if <Interface>]]  
```  

### <a name="parameters"></a>Параметры  

|Параметр|Описание|  
|-------|--------|  
|/f|Очищает таблицу маршрутов всех записей, которые не являются маршрутов (маршруты с маской подсети 255.255.255.255), замыкания на себя сети (маршруты с конечной точкой 127.0.0.0 и маской подсети 255.0.0.0) или многоадресной рассылки маршрут (маршруты с конечной точкой 224.0.0.0 и маской подсети 240.0.0.0). Если используется в сочетании с одной из команд (таких как добавление, изменение или удаление), таблица очищается до выполнения команды.|  
|/p|При использовании команды "Добавить", указанный маршрут добавляется в реестр и используется для инициализации таблицы IP-маршрутизации при запуске протокола TCP/IP. По умолчанию добавленные маршруты не сохраняются при запуске протокола TCP/IP. При использовании с помощью команды print, отображается список постоянных маршрутов. Этот параметр игнорируется для других команд. Постоянные маршруты хранятся в расположении реестра **HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters\PersistentRoutes**.|  
|\<Команда >|Указывает команду, которую вы хотите запустить. В следующей таблице перечислены допустимые команды:<br /><br />-   **Добавление:** добавляет маршрут.<br />-   **изменить:** изменение существующего маршрута.<br />-   **удалить:** удаление маршрута или маршрутов.<br />-   **Печать:** Печать маршрута или маршрутов.|  
|\<Назначения >|Указывает конечную точку маршрута. Назначения может быть IP-адрес сети (где битов узла сетевого адреса имеют значение 0), IP-адрес маршрута к узлу или 0.0.0.0 для маршрута по умолчанию.|  
|Маска \<маска подсети >|Указывает конечную точку маршрута. Назначения может быть IP-адрес сети (где битов узла сетевого адреса имеют значение 0), IP-адрес маршрута к узлу или 0.0.0.0 для маршрута по умолчанию.|  
|\<Шлюз >|Указывает следующего прыжка IP-адрес через который набор адресов, определяется маской подсети и целевом сети можно получить доступ. Для локально подключенных маршрутов подсети адрес шлюза — это IP-адрес, назначенный интерфейсу, который подключен к подсети. Для удаленных маршрутов доступных через один или несколько маршрутизаторов, адрес шлюза — это напрямую доступный IP-адрес, присвоенный соседнего маршрутизатора.|  
|Метрика \<метрика >|Указывает мера стоимости (от 1 до 9999) для маршрута, который используется при выборе одного из нескольких маршрутов в таблице маршрутизации, наиболее подходящий адрес назначения пересылаемого пакета. Будет выбран маршрут с самой низкой метрикой. Метрика отражает число прыжков, скорости путь, надежность, путь к пропускной способности или свойств администрирования.|  
|Если \<интерфейса >|Задает индекс интерфейса для интерфейса, по которому ресурс назначения доступен. Список интерфейсов и их соответствующих индексов используйте команду route print. Можно использовать либо десятичное или шестнадцатеричное значения индекса интерфейса. Для обозначения шестнадцатиричных значений перед шестнадцатеричным числом с 0 x. Когда Если параметр пропущен, интерфейс определяется с помощью адреса шлюза.|  
|/?|Отображение справки в командной строке.|  

## <a name="remarks"></a>Примечания  
-   Большие значения в **метрика** столбец таблицы маршрутизации получены в результате возможности протокола TCP/IP автоматически определять метрики для маршрутов в таблице маршрутизации на основе конфигурации IP-адрес, маску подсети и шлюз по умолчанию для каждого интерфейса локальной сети. Автоматическое определение метрики интерфейса, по умолчанию включен, определяет скорость каждого интерфейса и метрики маршрутов для каждого интерфейса, чтобы самый быстрый интерфейс создает маршруты с самой низкой метрикой. Чтобы удалить большие метрики, отключите автоматическое определение метрики интерфейса в дополнительных свойствах протокола TCP/IP для каждого подключения по локальной сети.  
-   Имена могут использоваться для *назначения* Если существует соответствующая запись в локальном файле сетей, хранящиеся в **systemroot\System32\Drivers\\**папки и Т.д. Имена могут использоваться для *шлюза* до тех пор, пока они не разрешается в IP-адрес через методы разрешения имен стандартного узла, например запросы доменных имен (DNS), использовать локальный файл Hosts, хранящиеся в  **systemroot\system32\drivers\\**д папки и разрешения имен NetBIOS.  
-   Если команда является **печати** или **удалить**, *шлюза* можно опустить и подстановочные знаки можно использовать для назначения и шлюза. *Назначения* значение может быть значение подстановочный знак звездочки (*). Если в расположение, указанное содержит звездочку (\*) или знак вопроса (?), он рассматривается как подстановочный знак и печатаются или удаляются только совпадающих маршрутов назначения. Звездочка соответствует любой строке, а вопросительный знак соответствует любому одиночному символу. Например, 10. \*.1, 192.168. \*, 127. \*, и \*224\* перечислены все допустимые способы использования шаблон «звездочка».  
-   С помощью Недопустимая комбинация подсети и целевом значение маски (маска) отображает «маршрута: маска сети адрес Недопустимый шлюз» сообщение об ошибке. Это сообщение об ошибке появляется при назначения содержит один или несколько битов значение 1 в разрядных расположениях, где соответствующий бит маски подсети имеет значение 0. Чтобы проверить это условие, express назначения и маску подсети в двоичном формате. Маска подсети в двоичном формате состоит из ряда 1 бит, представляющий часть сетевого адреса назначения, а также ряд 0 бит, представляющий часть адреса узла назначения. Установите этот флажок, чтобы определить, есть ли бит в месте назначения, которые принимают значение 1 для части назначения, который является адресом узла (как определено с помощью маски подсети).  
-   **/P** параметр поддерживается только в команде маршрута для Windows NT 4.0, Windows 2000, Windows Millennium edition, Windows XP и Windows Server 2003. Этот параметр не поддерживается **маршрута** команду для Windows 95 или Windows 98.  
-   Эта команда доступна только в том случае, если протокол Интернета (TCP/IP) устанавливается как компонент в свойствах сетевого адаптера в сетевых подключений.  

## <a name="BKMK_Examples"></a>Примеры  
Чтобы отобразить все содержимое таблицы маршрутизации IP-адрес, введите следующую команду:  
```  
route print  
```  
Чтобы отобразить маршруты в таблице маршрутизации, которые начинаются с 10, введите следующую команду:  
```  
route print 10.*  
```  
Чтобы добавить маршрут по умолчанию с 192.168.12.1 адрес шлюза по умолчанию, введите следующую команду:  
```  
route add 0.0.0.0 mask 0.0.0.0 192.168.12.1  
```  
Чтобы добавить маршрут к конечной точке 10.41.0.0 с маской подсети 255.255.0.0 и адрес следующего прыжка 10.27.0.1, введите:  
```  
route add 10.41.0.0 mask 255.255.0.0 10.27.0.1  
```  
Чтобы добавить постоянный маршрут к конечной точке 10.41.0.0 с маской подсети 255.255.0.0 и адрес следующего прыжка 10.27.0.1, введите следующую команду:  
```  
route /p add 10.41.0.0 mask 255.255.0.0 10.27.0.1  
```  
Для добавления маршрута к конечной точке 10.41.0.0 с маской подсети 255.255.0.0, адрес следующего прыжка 10.27.0.1 и метрики стоимость 7, введите следующую команду:  
```  
route add 10.41.0.0 mask 255.255.0.0 10.27.0.1 metric 7  
```  
Чтобы добавить маршрут к конечной точке 10.41.0.0 с маской подсети 255.255.0.0, введите адрес следующего прыжка 10.27.0.1 и индекс интерфейса 0x3, с использованием:  
```  
route add 10.41.0.0 mask 255.255.0.0 10.27.0.1 if 0x3  
```  
Чтобы удалить маршрут к конечной точке 10.41.0.0 с маской подсети 255.255.0.0, введите:  
```  
route delete 10.41.0.0 mask 255.255.0.0  
```  
Чтобы удалить все маршруты в таблицу маршрутизации, которые начинаются с 10, введите следующую команду:  
```  
route delete 10.*  
```  
Чтобы изменить адрес следующего прыжка маршрута назначения 10.41.0.0 и маску подсети 255.255.0.0 с 10.27.0.1 на 10.27.0.25, введите следующую команду:  
```  
route change 10.41.0.0 mask 255.255.0.0 10.27.0.25  
```  

## <a name="additional-references"></a>Дополнительные ссылки  
-   [Ключ синтаксиса командной строки](command-line-syntax-key.md)  
