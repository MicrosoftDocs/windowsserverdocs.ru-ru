---
title: choice
description: Справочная статья по команде Choice, которая предлагает пользователю выбрать один элемент из списка односимвольных вариантов в пакетной программе, а затем возвращает индекс выбранного варианта.
ms.topic: reference
ms.assetid: c65a9119-410b-4dcf-9fa7-4e07d2a7238b
ms.author: jgerend
author: JasonGerend
manager: mtillman
ms.date: 10/16/2017
ms.openlocfilehash: 0c16675aa3cf9de8222aa61040c9ce6723d73537
ms.sourcegitcommit: db4c35ebe56d561768d2a657da9e6d6a791457bd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/04/2021
ms.locfileid: "101819818"
---
# <a name="choice"></a>choice

Предлагает пользователю выбрать один элемент из списка односимвольных вариантов в пакетной программе, а затем возвращает индекс выбранного варианта. При использовании без параметров **choice** отображает значения по умолчанию **Y** и **N**.

## <a name="syntax"></a>Синтаксис

```
choice [/c [<choice1><choice2><…>]] [/n] [/cs] [/t <timeout> /d <choice>] [/m <text>]
```

### <a name="parameters"></a>Параметры

| Параметр | Описание |
| --------- | ----------- |
| ключей `<choice1><choice2><…>` | Указывает список создаваемых элементов. Допустимые варианты: a – z, A – Z, 0-9 и расширенные символы ASCII (128-254). Список по умолчанию — YN, который отображается как `[Y,N]?` . |
| /n | Скрывает список вариантов, хотя варианты по-прежнему включены и текст сообщения (если оно указано параметром **/m**) по-прежнему отображается. |
| /кс | Указывает, что параметры учитывают регистр. По умолчанию варианты не учитывают регистр. |
| /t `<timeout>` | Указывает количество секунд для приостановки перед использованием значения по умолчанию, заданного параметром **/d**. Допустимые значения: от **0** до **9999**. Если параметру **/t** присвоено значение **0**, то **Выбор** не будет приостановлен, прежде чем возвращать значение по умолчанию. |
| /d `<choice>` | Указывает выбор по умолчанию для использования после ожидания числа секунд, заданного параметром **/t**. Значение по умолчанию должно быть в списке вариантов, заданных параметром **/c**. |
| /m `<text>` | Указывает сообщение, отображаемое перед списком вариантов. Если параметр **/m** не указан, отображается только запрос Choice. |
| /? | Отображение справки в командной строке. |

## <a name="remarks"></a>Комментарии

- Переменной среды **ERRORLEVEL** присваивается индекс ключа, который пользователь выбирает из списка вариантов. Первый вариант в списке возвращает значение `1` , второе значение `2` и т. д. Если пользователь нажимает клавишу, которая является недопустимым, **выбирает** звук предупреждения.

- Если **choice** обнаруживает ошибку, она возвращает значение **ERRORLEVEL** , равное `255` . Если пользователь нажимает клавиши CTRL + BREAK или CTRL + C, **choice** возвращает значение **ERRORLEVEL** , равное `0` .

> [!NOTE]
> При использовании значений **ERRORLEVEL** в пакетной программе их необходимо перечислить в порядке убывания.

## <a name="examples"></a>Примеры

Чтобы предоставить варианты **Y**, **N** и **C**, введите следующую строку в пакетном файле:

```
choice /c ync
```

Если пакетный файл выполняет команду **choice** , появляется следующее сообщение:

```
[Y,N,C]?
```

Чтобы скрыть варианты **Y**, **N** и **C**, но отобразить текст **Да**, **нет** или **продолжить**, введите следующую строку в пакетном файле:

```
choice /c ync /n /m "Yes, No, or Continue?"
```

> [!NOTE]
> Если вы используете параметр **/n** , но не используете **/m**, пользователь не будет получать **запрос при** ожидании ввода.

Чтобы отобразить как текст, так и параметры, используемые в предыдущих примерах, введите следующую строку в пакетный файл:

```
choice /c ync /m "Yes, No, or Continue"
```

Чтобы установить ограничение времени, равное пяти секундам, и указать **N** в качестве значения по умолчанию, введите в пакетном файле следующую строку:

```
choice /c ync /t 5 /d n
```

> [!NOTE]
> В этом примере, если пользователь не нажимает клавишу в течение пяти секунд, **choice** выбирает **N** по умолчанию и возвращает значение ошибки `2` . В противном случае **choice** возвращает значение, соответствующее выбору пользователя.

## <a name="additional-references"></a>Дополнительные ссылки

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)
