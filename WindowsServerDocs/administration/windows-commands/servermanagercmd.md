---
title: Servermanagercmd
description: 'Раздел Windows команды для ****- '
ms.custom: na
ms.prod: windows-server
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 507c4b87-8e13-4872-8b34-0c7508eecbc1
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 07/11/2018
ms.openlocfilehash: b47947f8f98ba3bb7e5192713b3cf3b75b9c0212
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/27/2019
ms.locfileid: "71384151"
---
# <a name="servermanagercmd"></a>Servermanagercmd

>Область применения. Windows Server (половина ежегодного канала), Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

> [!IMPORTANT]
> Эта команда доступна только на серверах под Windows Server 2008 или Windows Server 2008 R2. Программа **ServerManagerCmd. exe** является устаревшей и недоступна в Windows Server 2012. Сведения об установке и удалении ролей, служб ролей и компонентов в Windows Server 2012 см. в статье [Установка и удаление ролей, служб ролей и компонентов](https://go.microsoft.com/fwlink/?LinkID=239563) в Microsoft TechNet.

Устанавливает и удаляет роли, службы ролей и компоненты. Также отображается список всех доступных ролей, служб ролей и компонентов и показывает, какие компоненты установлены на этом компьютере. Дополнительные сведения о ролях, службах ролей и компонентах, которые можно указать с помощью этого средства, см. в [справке по Диспетчер сервера](https://go.microsoft.com/fwlink/?LinkID=137387). В разделе [Примеры](#BKMK_examples) показан принцип использования этой команды.

## <a name="syntax"></a>Синтаксис
```
servermanagercmd -query [[[<Drive>:]<path>]<query.xml>] [-logpath   [[<Drive>:]<path>]<log.txt>]
servermanagercmd -inputpath  [[<Drive>:]<path>]<answer.xml> [-resultpath <result.xml> [-restart] | -whatif] [-logpath [[<Drive>:]<path>]<log.txt>]
servermanagercmd -install <Id> [-allSubFeatures] [-resultpath   [[<Drive>:]<path>]<result.xml> [-restart] | -whatif] [-logpath   [[<Drive>:]<path>]<log.txt>]
servermanagercmd -remove <Id> [-resultpath    <result.xml> [-restart] | -whatif] [-logpath  [[<Drive>:]<path>]<log.txt>]
servermanagercmd [-help | -?]
servermanagercmd -version
```

## <a name="parameters"></a>Параметры

|                   Параметр                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  -Query [[[\<Drive >:] \<path >] \<*Query. xml*>]   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Отображает список всех ролей, служб ролей и компонентов, установленных и доступных для установки на сервере. Можно также использовать краткую форму этого параметра **-q**. Если необходимо сохранить результаты запроса в XML-файл, укажите XML-файл для замены *Query. XML*.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| -inputPath < [[\<Drive >:] \<path >]*Answer. xml*> |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Устанавливает или удаляет роли, службы ролей и компоненты, указанные в файле ответов XML, представленном файлом *Answer. XML*. Можно также использовать краткую форму этого параметра **-p.**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|                -Install \<*Id*>                | Устанавливает роль, службу роли или компонент, заданные по *идентификатору*. В идентификаторах регистр не учитывается. Несколько ролей, служб ролей и компонентов должны быть разделены пробелами. С параметром **-Install** используются следующие необязательные параметры.<br /><br />-    **— настройка** \<*SettingName*>= @ no__t-5*сеттингвалуе*> указывает обязательные параметры для установки.<br />-    **-аллсубфеатурес** указывает установку всех подчиненных служб и компонентов вместе с родительской ролью, службой роли или компонентом с именем в значении *идентификатора* . **Примечание.**     Некоторые контейнеры ролей не имеют идентификатора командной строки, разрешающего установку всех служб ролей. Это происходит, если службы ролей не могут быть установлены в одном экземпляре команды диспетчер сервера. Например, служба роли служба федерации служб федерации Active Directory и служба роли прокси-агент службы федерации не могут быть установлены с помощью одного экземпляра команды диспетчер сервера.<br />-    **-ресултпас** \<*result. XML > сохраняет результаты установки в XML-файл, представленный @no__t -4result. XML*. Можно также использовать краткую форму этого параметра **-r**. **Примечание.**     Программу **ServerManagerCmd** нельзя запустить с параметром **-ресултпас** и указанным параметром **-WhatIf** .<br />-    **— перезапуск** автоматически перезагружает компьютер после завершения установки (если требуется перезагрузка для установленных ролей или компонентов).<br />-    **-WhatIf** отображает все операции, указанные для параметра **-Install** . Можно также использовать краткую форму параметра **-WhatIf** , **-w**. Программу **ServerManagerCmd** нельзя запустить с параметром **-ресултпас** и указанным параметром **-WhatIf** .<br />-    **-logpath** \< [[\<Drive >:] \<path >]*log. txt*> указывает имя и расположение файла журнала, отличного от значения по умолчанию, **%виндир%\темп\серверманажер.лог**. |
|                -Remove \<*Id*>                 |                                                                                                                                                                                                                                                                                                                                                                     Удаляет роль, службу роли или компонент, заданные по *идентификатору*. В идентификаторах регистр не учитывается. Несколько ролей, служб ролей и компонентов должны быть разделены пробелами. С параметром **-Remove** используются следующие необязательные параметры.<br /><br />-    **-ресултпас** \< [[\<Drive >:] \<path >]*result. XML*> сохраняет результаты удаления в XML-файл, представленный в файле *result. XML*. Можно также использовать краткую форму этого параметра **-r**. **Примечание.**     Программу **ServerManagerCmd** нельзя запустить с параметром **-ресултпас** и указанным параметром **-WhatIf** .<br />-    **— перезапуск** автоматически перезагружает компьютер после завершения удаления (если перезапуск требуется для остальных ролей или компонентов).<br />-    **-WhatIf** отображает все операции, указанные для параметра **-Remove** . Можно также использовать краткую форму параметра **-WhatIf** , **-w**. Программу **ServerManagerCmd** нельзя запустить с параметром **-ресултпас** и указанным параметром **-WhatIf** .<br />-    **-logpath**\< [[\<Drive >:] \<path >]*log. txt*> указывает имя и расположение файла журнала, отличного от значения по умолчанию, **%виндир%\темп\серверманажер.лог**.                                                                                                                                                                                                                                                                                                                                                                      |
|                     -Справка                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Отображает справку в окне командной строки. Можно также использовать краткую форму **-?** .                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                    -Version                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Отображает номер версии диспетчер сервера. Можно также использовать краткую форму **-v**.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

## <a name="remarks"></a>Примечания
Программу **ServerManagerCmd** использовать не рекомендуется, и в будущих выпусках Windows она не гарантируется. Рекомендуется использовать командлеты Windows PowerShell, доступные для диспетчер сервера, если диспетчер сервера работает на компьютерах под управлением Windows Server 2008 R2. Дополнительные сведения см. в разделе [командлеты Диспетчер сервера](https://go.microsoft.com/fwlink/?LinkID=137653).
Программу ServerManagerCmd можно запустить из любого каталога на локальном диске сервера. Необходимо быть членом группы администраторов на сервере, на котором требуется установить или удалить программное обеспечение.

> [!IMPORTANT]
> Из-за ограничений безопасности, накладываемых контролем учетных записей в Windows Server 2008 R2, необходимо запустить программу **ServerManagerCmd** в окне командной строки, открытой с повышенными разрешениями. Для этого щелкните правой кнопкой мыши исполняемый файл командной строки или объект **командной строки** в меню " **Пуск** " и выберите команду **Запуск от имени администратора**.

## <a name="BKMK_examples"></a>Примеров
В следующем примере показано, как использовать программу **ServerManagerCmd** для отображения списка всех доступных ролей, служб ролей и компонентов, а также ролей, служб ролей и компонентов, установленных на компьютере.
```
servermanagercmd -query
```
В следующем примере показано, как с помощью программы **ServerManagerCmd** установить роль веб-сервера (IIS) и сохранить результаты установки в XML-файл, представленный *инсталлресулт. XML*.
```
servermanagercmd -install Web-Server -resultpath installResult.xml
```
В следующем примере показано, как использовать параметр **WhatIf** с **ServerManagerCmd** для отображения подробных сведений о ролях, службах ролей и компонентах, которые будут установлены или удалены на основе инструкций, указанных в Файл ответов XML, представленный в *install. XML*.
```
servermanagercmd -inputpath install.xml -whatif
```

#### <a name="additional-references"></a>Дополнительная справка
-   полный список идентификаторов ролей, служб ролей и компонентов, которые можно указать для параметра *ID* , а также дополнительные сведения об использовании файла ответов XML с помощью программы **ServerManagerCmd**см. в [справке Диспетчер сервера](https://go.microsoft.com/fwlink/?LinkID=137387). (https://go.microsoft.com/fwlink/?LinkID=137387).
-   Список командлетов Windows PowerShell, доступных для диспетчер сервера, см. в разделе [командлеты Диспетчер сервера](https://go.microsoft.com/fwlink/?LinkID=137653) .
-   [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)
