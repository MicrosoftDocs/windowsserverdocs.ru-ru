---
title: Servermanagercmd
description: 'Раздел Windows команды для ***- '
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 507c4b87-8e13-4872-8b34-0c7508eecbc1
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 07/11/2018
ms.openlocfilehash: ba0b85814d942323b12e1874b852fcf28b8ac068
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59883245"
---
# <a name="servermanagercmd"></a>Servermanagercmd

>Область применения. Windows Server (полугодовой канал), Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

> [!IMPORTANT]
> Эта команда доступна только на серверах, работающих под управлением Windows Server 2008 или Windows Server 2008 R2. **ServerManagerCmd.exe** является устаревшим и недоступно в Windows Server 2012. Сведения о том, как установка и удаление ролей, служб ролей и компонентов в Windows Server 2012, см. в разделе [Установка или удаление ролей, служб ролей и компонентов](https://go.microsoft.com/fwlink/?LinkID=239563) на сайте Microsoft TechNet.

Установка и удаление ролей, служб ролей и компонентов. Также отображается список всех ролей, служб ролей и функций, доступных и показывает, какие приложения установлены на этом компьютере. Дополнительные сведения о ролях, служб ролей и компонентов, которые можно задать с помощью этого средства см. в разделе [Справка диспетчера сервера](https://go.microsoft.com/fwlink/?LinkID=137387). В разделе [Примеры](#BKMK_examples) показан принцип использования этой команды.

## <a name="syntax"></a>Синтаксис
```
servermanagercmd -query [[[<Drive>:]<path>]<query.xml>] [-logpath   [[<Drive>:]<path>]<log.txt>]
servermanagercmd -inputpath  [[<Drive>:]<path>]<answer.xml> [-resultpath <result.xml> [-restart] | -whatif] [-logpath [[<Drive>:]<path>]<log.txt>]
servermanagercmd -install <Id> [-allSubFeatures] [-resultpath   [[<Drive>:]<path>]<result.xml> [-restart] | -whatif] [-logpath   [[<Drive>:]<path>]<log.txt>]
servermanagercmd -remove <Id> [-resultpath    <result.xml> [-restart] | -whatif] [-logpath  [[<Drive>:]<path>]<log.txt>]
servermanagercmd [-help | -?]
servermanagercmd -version
```

## <a name="parameters"></a>Параметры
|Параметр|Описание|
|-------|--------|
|-query [[[\<Drive>:]\<path>]\<*query.xml*>]|Отображает список всех ролей, служб ролей и компонентов, установленных и доступных для установки на сервере. Краткая форма этого параметра можно также использовать **- q**. Результаты запроса, сохраненные в XML-файл, укажите XML-файл для замены *query.xml*.|
|-inputpath < [[\<диска >:]\<путь >]*answer.xml*>|Устанавливает или удаляет ролей, служб ролей и компонентов, заданный в файле ответов XML, представленный *answer.xml*. Краткая форма этого параметра можно также использовать **- p.**|
|-установить \< *идентификатор*>|Устанавливает роль, служба роли или компонента, указанного по *идентификатор*. Идентификаторы не учитывается регистр. Несколько ролей, служб ролей и компонентов должны быть разделены пробелами. Следующие необязательные параметры используются с **-установить** параметра.<br /><br />-   **-Настройка** \< *SettingName*>=\<*SettingValue*> указывает обязательные параметры для установки.<br />-   **-allSubFeatures** задает установку всех зависимых служб и компонентов вместе с родительской роли, служба роли или компонент, именуемый в *идентификатор* значение. **Примечание.**     Некоторые контейнеры роли нет идентификатора командной строки, чтобы разрешить установку всех служб ролей. Это происходит, когда службы роли нельзя установить на том же экземпляре команды диспетчера серверов. Например роли службы федерации, службы федерации active directory и службы роли прокси-сервера службы федерации не может устанавливаться с помощью один и тот же экземпляр диспетчера серверов команду.<br />-   **-resultpath** \< *result.xml > сохраняет результаты установки в XML-файл, представленный *result.xml*. Краткая форма этого параметра можно также использовать **- r**. **Примечание.**     Не удается запустить **servermanagercmd** с обоими **- resultpath** параметр и **- whatif** указан параметр.<br /> -    **-перезапустите** автоматически перезагружать компьютер после установки (если требуется перезагрузка установленными ролями и компонентами).<br /> -    **- whatif** отображает все операции, заданные для **-установить** параметра. Можно также использовать краткую форму **- whatif** параметра **-w**. Не удается запустить **servermanagercmd** с обоими **- resultpath** параметр и **- whatif** указан параметр.<br /> -    **- logpath** \<[[\<диска >:]\<путь >]* log.txt* > указывает имя и расположение для файла журнала, кроме порта по умолчанию, **%windir%\temp\servermanager.log**.|
|-Удалить \< *идентификатор*>|Удаляет роль, служба роли или компонента, указанного по *идентификатор*. Идентификаторы не учитывается регистр. Несколько ролей, служб ролей и компонентов должны быть разделены пробелами. Следующие необязательные параметры используются с **-удалить** параметра.<br /><br />-   **-resultpath** \<[[\<диска >:]\<путь >]*result.xml*> сохраняет результаты удаления в XML-файл, представленный *result.xml*. Краткая форма этого параметра можно также использовать **- r**. **Примечание.**     Не удается запустить **servermanagercmd** с обоими **- resultpath** параметр и **- whatif** указан параметр.<br />-   **-Перезапустите** автоматически перезагружать компьютер после удаления завершения (если требуется перезагрузка оставшихся ролей и компонентов).<br />-   **-whatif** отображает все операции, заданные для **-удалить** параметра. Можно также использовать краткую форму **- whatif** параметра **-w**. Не удается запустить **servermanagercmd** с обоими **- resultpath** параметр и **- whatif** указан параметр.<br />-   **-logpath**\<[[\<диска >:]\<путь >]*log.txt*> указывает имя и расположение для файла журнала, кроме порта по умолчанию, **%windir%\temp\ servermanager.log**.|
|-Справка|Отображение справки в окне командной строки. Можно также использовать краткую форму **-?**.|
|-версии|Отображает номер версии диспетчера сервера. Можно также использовать краткую форму **- v**.|

## <a name="remarks"></a>Примечания
**ServerManagerCmd** считается устаревшим и не обязательно будут поддерживаться в будущих версиях Windows. Мы рекомендуем при запуске диспетчера серверов на компьютерах, работающих под управлением Windows Server 2008 R2, можно использовать командлеты Windows PowerShell, которые доступны для диспетчера сервера. Дополнительные сведения см. в разделе [командлетов диспетчера сервера](https://go.microsoft.com/fwlink/?LinkID=137653).
ServerManagerCmd можно запустить из любого каталога на локальном диске сервера. Необходимо быть членом группы администраторов на сервере, на котором вы хотите установить или удалить программное обеспечение.

> [!IMPORTANT]
> Из-за ограничений, налагаемых системой контроля учетных записей в Windows Server 2008 R2, необходимо запустить **Servermanagercmd** в окне командной строки, открытом с повышенными правами. Чтобы сделать это, щелкните правой кнопкой мыши исполняемый файл командной строки или **командной** объект **запустить** меню, а затем щелкните **Запуск от имени администратора**.

## <a name="BKMK_examples"></a>Примеры
В следующем примере показано, как использовать **servermanagercmd** для отображения списка всех ролей, служб ролей и функций, доступных и какие роли, службы ролей и компоненты установлены на компьютере.
```
servermanagercmd -query
```
В следующем примере показано, как использовать **servermanagercmd** Установка роли веб-сервер (IIS) и сохранять результаты установки в XML-файл, представленный *installResult.xml*.
```
servermanagercmd -install Web-Server -resultpath installResult.xml
```
В следующем примере показано, как использовать ** параметр whatif ** с **servermanagercmd** для отображения подробных сведений о ролях, служб ролей и компонентов, которые будут установлены или удалены, основываясь на инструкции, указаны в файле ответов XML, представленный *install.xml*.
```
servermanagercmd -inputpath install.xml -whatif
```

#### <a name="additional-references"></a>Дополнительная справка
-   Полный список роль, служба роли или идентификаторы компонентов можно указать для *идентификатор* параметр или Дополнительные сведения об использовании файла ответов XML **Servermanagercmd**, см. в разделе [Справка диспетчера сервера](https://go.microsoft.com/fwlink/?LinkID=137387). (https://go.microsoft.com/fwlink/?LinkID=137387).
-   См. в разделе [командлетов диспетчера сервера](https://go.microsoft.com/fwlink/?LinkID=137653) список командлетов Windows PowerShell, которые доступны для диспетчера сервера.
-   [Ключ синтаксиса командной строки](command-line-syntax-key.md)
