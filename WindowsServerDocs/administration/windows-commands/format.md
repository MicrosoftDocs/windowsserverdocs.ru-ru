---
title: Формат
ms.prod: windows-server-threshold
manager: dongill
ms.author: JGerend
ms.technology: storage
ms.topic: article
ms.assetid: 51ec7423-9a01-4219-868a-25d69cdcc832
author: JasonGerend
ms.date: 10/16/2017
ms.openlocfilehash: 1af340f4612015ede3fee659c9662955df9aa578
ms.sourcegitcommit: eaf071249b6eb6b1a758b38579a2d87710abfb54
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/31/2019
ms.locfileid: "66439273"
---
# <a name="format"></a>Формат
> Область применения. Windows 10, Windows Server 2016

Форматирование диска для использования файлов системы Windows.

В разделе [Примеры](#BKMK_examples) показан принцип использования этой команды.

## <a name="syntax"></a>Синтаксис

```
format <Volume> [/fs:{FAT|FAT32|NTFS}] [/v:<Label>] [/q] [/a:<UnitSize>] [/c] [/x] [/p:<Passes>]
format <Volume> [/v:<Label>] [/q] [/f:<Size>] [/p:<Passes>]
format <Volume> [/v:<Label>] [/q] [/t:<Tracks> /n:<Sectors>] [/p:<Passes>]
format <Volume> [/v:<Label>] [/q] [/p:<Passes>]
format <Volume> [/q]
```

## <a name="parameters"></a>Параметры

|   Параметр    |                                                                                                                                                                                                                    Описание                                                                                                                                                                                                                     |
|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|   \<Тома >    |                                                                                         Задает точку подключения, имя тома или букву диска (двоеточие) на диск, который необходимо отформатировать. Если не указать один из следующих параметров командной строки, **формат** использует тип тома, чтобы определить формат по умолчанию для диска.                                                                                         |
|    /FS: {FAT    |                                                                                                                                                                                                                       FAT32                                                                                                                                                                                                                        |
|  /v:\<Label>   |                           Задает метку тома. Если опустить **/v** командной строки параметр или использовать его без указания метки тома, **формат** запросит метку тома после завершения форматирования. Введите параметр с синтаксисом **/v:** , чтобы запрос на ввод метки тома не появлялся. Если вы форматируете несколько дисков одной командой **format**, всем дискам будет присвоена одинаковая метка тома.                            |
| / a:\<UnitSize > | Указывает размер кластера для использования томов FAT, FAT32 или NTFS. Если параметр *UnitSize* не задан, он будет определен в зависимости от размера диска. Для общего использования настоятельно рекомендуется применять параметры по умолчанию. В приведенном ниже списке содержатся допустимые значения параметра *UnitSize* для файловых систем NTFS, FAT и FAT32.</br>512</br>1024</br>2048</br>4096</br>8192</br>16 КБ</br>32 КБ</br>64 КБ</br>Файловые системы FAT и FAT32 также поддерживают значения 128 KБ и 256 KБ для секторов размером больше 512 байт. |
|       /q       |                                                       Выполняет быстрое форматирование. Удаляет таблицу файлов и корневой каталог ранее отформатированного тома, но не выполняет проверку сектор за сектором поврежденных участков. Следует использовать **/q** параметр командной строки, только если том ранее был отформатирован, которые находятся в хорошем состоянии. Обратите внимание, что **/q** переопределяет **/p**.                                                       |
|   / f:\<размер >   |                                                         Задает размер форматируемого гибкого диска. По возможности используйте этот параметр командной строки, а не **/t** и **/n** параметры командной строки. В Windows допустимыми являются следующие значения размера:</br>– 1440, 1440k или 1440kb;</br>– 1.44, 1.44m или 1.44mb;</br>— 1,44 МБ, двусторонние, четверной плотностью, 3,5 дюймовых диска                                                         |
|  / t:\<отслеживает >  |                                                    Задает количество дорожек на диске. По возможности используйте **/f** командной строки вместо него. Параметр **/t** должен использоваться только вместе с параметром **/n**. Эти параметры применяются совместно в качестве альтернативного способа указания размера форматируемого диска. Этот параметр не работает с параметром **/f**.                                                     |
| / n:\<секторов >  |                                                         Задает количество секторов в дорожке. По возможности используйте **/f** параметр командной строки, а не **/n**. Параметр **/n** должен использоваться только вместе с параметром **/t**. Эти параметры применяются совместно в качестве альтернативного способа указания размера форматируемого диска. Этот параметр не работает с параметром **/f**.                                                         |
|  / p:\<передает >  |                                                                                                                                                               Обнуляет каждый сектор тома указанное количество раз. Этот параметр не работает с параметром **/q**.                                                                                                                                                                |
|       /c       |                                                                                                                                                                                     Только для NTFS. Файлы, создаваемые в новом томе, будут сжиматься по умолчанию.                                                                                                                                                                                      |
|       /x       |                                                                                                                                                            Отключает том перед форматированием, если это необходимо. Все открытые дескрипторы тома становятся недействительными.                                                                                                                                                            |
|       /?       |                                                                                                                                                                                                        Отображение справки в командной строке.                                                                                                                                                                                                        |

## <a name="remarks"></a>Примечания

-   Учетные данные администратора

    Необходимо быть членом группы "Администраторы" для форматирования жесткого диска.
-   С помощью **формат**

    **Формат** команда создает новый корневой каталог и файловую систему диска. Его также можно проверить наличие поврежденных участков на диске, и его можно удалить все данные на диске. Чтобы иметь возможность использовать новый диск, необходимо сначала использовать эту команду отформатировать этот диск.
-   Добавление метки тома

    После форматирования на гибком диске, **формат** отображается следующее сообщение:

    `Volume label (11 characters, ENTER for none)?`

    Чтобы добавить метку тома, введите до 11 символов (включая пробелы). Если вы не хотите добавить метку тома диска, нажмите клавишу ВВОД.
-   Форматирование жесткого диска

> [!NOTE]
> Необходимо быть членом группы "Администраторы" для форматирования жесткого диска.

При использовании **формат** команду, чтобы отформатировать жесткий диск, аналогичную появится следующее предупреждающее сообщение:
```
WARNING, ALL DATA ON NON-REMOVABLE DISK 
DRIVE x: WILL BE LOST! 
Proceed with Format (Y/N)? _ 
```
Чтобы отформатировать жесткий диск, нажмите клавишу Y; Если вы не хотите отформатировать диск, нажмите клавишу N.
-   Размер единицы

    Не более чем 65526 файловых систем FAT ограничить число кластеров. Файловая система FAT32 ограничивает число кластеров от 65527 до 4177917.

    Сжатие томов NTFS не поддерживается для кластеров размером более 4 МБ.

> [!NOTE]
> **Формат** немедленно прекращается, если определит, что предыдущих условий не может быть выполнены с использованием указанный размер кластера.
> -   **Формат** сообщений

    When formatting is complete, **format** displays messages that show the total disk space, the spaces marked as defective, and the space available for your files.
- Быстрое форматирование

  Можно ускорить процесс форматирования с помощью **/q** параметр командной строки. Используйте этот параметр, только если на жестком диске нет поврежденных секторов.
- Использование команды **format** с переназначенными и сетевыми дисками

  Диски, подготовленные с помощью команды **subst**, нельзя отформатировать командой **format**. Форматирование сетевых дисков также невозможно.
- Коды завершения команды **format**

  В следующей таблице перечислены коды завершения и краткое описание каждого из них.  

  |Код завершения|Описание|
  |---------|-----------|
  |0|Форматирование выполнено успешно.|
  |1|Заданы недопустимые параметры.|
  |4|Произошла неустранимая ошибка (который является любая ошибка, кроме 0, 1 или 5).|
  |5|Пользователь нажал N в ответ на сообщение «Приступить к форматированию (Д/Н)?» чтобы завершить процесс.|

  Коды завершения можно проверить с помощью переменной среды errorlevel в пакетной команде **if**.
- Использование команды **format** в агенте восстановления

  Команда **format** с различными параметрами доступна в агенте восстановления.

## <a name="BKMK_examples"></a>Примеры

Чтобы отформатировать новый гибкий диск в дисководе A с использованием размера по умолчанию, введите следующую команду.
```
format a:
```
Для быстрого форматирования ранее отформатированного гибкого диска в дисководе A введите следующую команду.
```
format a: /q
```
Чтобы отформатировать гибкий диск в дисководе A и присвоить метку тома "DATA", введите следующую команду.
```
format a: /v:DATA
```

#### <a name="additional-references"></a>Дополнительная справка

[Условные обозначения синтаксиса команд командной строки](https://technet.microsoft.com/library/cc771080.aspx)