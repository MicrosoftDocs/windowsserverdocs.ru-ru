---
title: Формат
ms.prod: windows-server
manager: dongill
ms.author: jgerend
ms.technology: storage
ms.topic: article
ms.assetid: 51ec7423-9a01-4219-868a-25d69cdcc832
author: jasongerend
ms.date: 10/16/2017
ms.openlocfilehash: 95f88ef316bb7d188db212911835b867c6d4556f
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2020
ms.locfileid: "80844477"
---
# <a name="format"></a>Формат
> Область применения: Windows 10, Windows Server 2016

Форматирует диск для приема файлов Windows.

В разделе [Примеры](#BKMK_examples) показан принцип использования этой команды.

## <a name="syntax"></a>Синтаксис

```
format <Volume> [/fs:{FAT|FAT32|NTFS}] [/v:<Label>] [/q] [/a:<UnitSize>] [/c] [/x] [/p:<Passes>]
format <Volume> [/v:<Label>] [/q] [/f:<Size>] [/p:<Passes>]
format <Volume> [/v:<Label>] [/q] [/t:<Tracks> /n:<Sectors>] [/p:<Passes>]
format <Volume> [/v:<Label>] [/q] [/p:<Passes>]
format <Volume> [/q]
```

### <a name="parameters"></a>Параметры

|   Параметр    |                                                                                                                                                                                                                    Описание                                                                                                                                                                                                                     |
|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|   \<> тома    |                                                                                         Указывает точку подключения, имя тома или букву диска (с последующим двоеточием) диска, который требуется отформатировать. Если не указать ни один из следующих параметров командной строки, команда **Format** использует тип тома для определения формата диска по умолчанию.                                                                                         |
|    /FS: {FAT    |                                                                                                                                                                                                                       FAT32                                                                                                                                                                                                                        |
|  /v:\<Метка >   |                           Задает метку тома. Если опустить параметр командной строки **/v** или использовать его без указания метки **тома, будет** предложено ввести метку тома после завершения форматирования. Введите параметр с синтаксисом **/v:** , чтобы запрос на ввод метки тома не появлялся. Если вы форматируете несколько дисков одной командой **format**, всем дискам будет присвоена одинаковая метка тома.                            |
| /a:\<Унитсизе > | Указывает размер единицы размещения для томов FAT, FAT32 или NTFS. Если параметр *UnitSize* не задан, он будет определен в зависимости от размера диска. Для общего использования настоятельно рекомендуется применять параметры по умолчанию. В приведенном ниже списке содержатся допустимые значения параметра *UnitSize* для файловых систем NTFS, FAT и FAT32.</br>512</br>1024</br>2048</br>4096</br>8192</br>16 КБ</br>32 КБ</br>64 КБ</br>Файловые системы FAT и FAT32 также поддерживают значения 128 KБ и 256 KБ для секторов размером больше 512 байт. |
|       /q       |                                                       Выполняет быстрое форматирование. Удаляет файловую таблицу и корневой каталог ранее отформатированного тома, но не выполняет посекторную проверку на наличие плохих областей. Параметр командной строки **/q** следует использовать для форматирования только ранее отформатированных томов, о которых известно, что они имеют хорошее состояние. Обратите внимание, что **/q** переопределяет **/p**.                                                       |
|   /f: размер\<>   |                                                         Задает размер форматируемого гибкого диска. По возможности используйте этот параметр командной строки вместо параметров командной строки **/t** и **/n** . В Windows допустимыми являются следующие значения размера:</br>– 1440, 1440k или 1440kb;</br>– 1.44, 1.44m или 1.44mb;</br>-1,44-МБ, двухсторонний диск с четверной плотностью, 3,5 дюйма                                                         |
|  /t:\<отслеживает >  |                                                    Задает количество дорожек на диске. По возможности используйте параметр командной строки **/f** . Параметр **/t** должен использоваться только вместе с параметром **/n**. Эти параметры применяются совместно в качестве альтернативного способа указания размера форматируемого диска. Этот параметр не работает с параметром **/f**.                                                     |
| /n:\<секторов >  |                                                         Указывает количество секторов на дорожке. По возможности используйте параметр командной строки **/f** вместо **/n**. Параметр **/n** должен использоваться только вместе с параметром **/t**. Эти параметры применяются совместно в качестве альтернативного способа указания размера форматируемого диска. Этот параметр не работает с параметром **/f**.                                                         |
|  /p:\<передает >  |                                                                                                                                                               Обнуляет каждый сектор тома указанное количество раз. Этот параметр не работает с параметром **/q**.                                                                                                                                                                |
|       /c       |                                                                                                                                                                                     Только для NTFS. Файлы, создаваемые в новом томе, будут сжиматься по умолчанию.                                                                                                                                                                                      |
|       /x       |                                                                                                                                                            Отключает том перед форматированием, если это необходимо. Все открытые дескрипторы тома становятся недействительными.                                                                                                                                                            |
|       /?       |                                                                                                                                                                                                        Отображает справку в командной строке.                                                                                                                                                                                                        |

## <a name="remarks"></a>Примечания

-   Учетные данные администратора

    Для форматирования жесткого диска необходимо быть членом группы администраторов.
-   Использование **Format**

    Команда **Format** создает новый корневой каталог и файловую систему для диска. Кроме того, он может проверить наличие поврежденных областей на диске и удалить все данные на диске. Чтобы иметь возможность использовать новый диск, необходимо сначала использовать эту команду для форматирования диска.
-   Добавление метки тома

    После форматирования дискеты в **формате** отображается следующее сообщение:

    `Volume label (11 characters, ENTER for none)?`

    Чтобы добавить метку тома, введите до 11 символов (включая пробелы). Если вы не хотите добавлять метку тома на диск, нажмите клавишу ВВОД.
-   Форматирование жесткого диска

> [!NOTE]
> Для форматирования жесткого диска необходимо быть членом группы администраторов.

При использовании команды **Format** для форматирования жесткого диска выводится предупреждение следующего вида:
```
WARNING, ALL DATA ON NON-REMOVABLE DISK 
DRIVE x: WILL BE LOST! 
Proceed with Format (Y/N)? _ 
```
Чтобы отформатировать жесткий диск, нажмите клавишу Y; Если вы не хотите форматировать диск, нажмите клавишу N.
-   Размер единицы

    Файловые системы FAT ограничивают количество кластеров не более 65526. Файловые системы FAT32 ограничивают количество кластеров между 65527 и 4177917.

    Сжатие томов NTFS не поддерживается для кластеров размером более 4 МБ.

> [!NOTE]
> Параметр **Format** немедленно останавливает обработку, если он определяет, что предыдущие требования не могут быть выполнены с использованием указанного размера кластера.
> -   **Форматирование** сообщений

    When formatting is complete, **format** displays messages that show the total disk space, the spaces marked as defective, and the space available for your files.
- Быстрое форматирование

  Ускорить процесс форматирования можно с помощью параметра командной строки **/q** . Используйте этот параметр, только если на жестком диске нет поврежденных секторов.
- Использование команды **format** с переназначенными и сетевыми дисками

  Диски, подготовленные с помощью команды **subst**, нельзя отформатировать командой **format**. Форматирование сетевых дисков также невозможно.
- Коды завершения команды **format**

  В следующей таблице перечислены коды завершения и краткое описание каждого из них.  

  |Код завершения|Описание|
  |---------|-----------|
  |0|Форматирование выполнено успешно.|
  |1|Заданы недопустимые параметры.|
  |4|Произошла неустранимая ошибка (любая ошибка, отличная от 0, 1 или 5).|
  |5|Пользователь нажал N в ответ на запрос "продолжить форматирование (Y/N)?" чтобы завершить процесс.|

  Коды завершения можно проверить с помощью переменной среды errorlevel в пакетной команде **if**.
- Использование команды **format** в агенте восстановления

  Команда **format** с различными параметрами доступна в агенте восстановления.

## <a name="examples"></a><a name="BKMK_examples"></a>Примеров

Чтобы отформатировать новый гибкий диск в дисководе A с использованием размера по умолчанию, введите следующую команду.
```
format a:
```
Для быстрого форматирования ранее отформатированного гибкого диска в дисководе A введите следующую команду.
```
format a: /q
```
Чтобы отформатировать гибкий диск в дисководе A и присвоить метку тома "DATA", введите следующую команду.
```
format a: /v:DATA
```

## <a name="additional-references"></a>Дополнительные материалы

[Условные обозначения синтаксиса команд командной строки](https://technet.microsoft.com/library/cc771080.aspx)