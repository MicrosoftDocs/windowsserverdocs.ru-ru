---
title: format
description: Справочная статья по команде Format, которая форматирует диск для приема файлов Windows.
ms.prod: windows-server
manager: dongill
ms.author: jgerend
ms.technology: storage
ms.topic: article
ms.assetid: 51ec7423-9a01-4219-868a-25d69cdcc832
author: jasongerend
ms.date: 10/16/2017
ms.openlocfilehash: 1ce046cf3bdce046a86d98228223cc2bc03b7c31
ms.sourcegitcommit: 2afed2461574a3f53f84fc9ec28d86df3b335685
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/02/2020
ms.locfileid: "85922672"
---
# <a name="format"></a>Формат

> Область применения: Windows 10, Windows Server 2016

Форматирует диск для приема файлов Windows. Для форматирования жесткого диска необходимо быть членом группы администраторов.

> [!NOTE]
> В консоли восстановления можно также использовать команду **Format** с различными параметрами. Дополнительные сведения о консоли восстановления см. в разделе [Среда восстановления Windows (Windows RE)](https://docs.microsoft.com/windows-hardware/manufacture/desktop/windows-recovery-environment--windows-re--technical-reference).

## <a name="syntax"></a>Синтаксис

```
format <volume> [/fs:{FAT|FAT32|NTFS}] [/v:<label>] [/q] [/a:<unitsize>] [/c] [/x] [/p:<passes>]
format <volume> [/v:<label>] [/q] [/f:<size>] [/p:<passes>]
format <volume> [/v:<label>] [/q] [/t:<tracks> /n:<sectors>] [/p:<passes>]
format <volume> [/v:<label>] [/q] [/p:<passes>]
format <volume> [/q]
```

### <a name="parameters"></a>Параметры

| Параметр | Описание |
| --------- | ----------- |
| `<volume>` | Указывает точку подключения, имя тома или букву диска (с последующим двоеточием) диска, который требуется отформатировать. Если не указать ни один из следующих параметров командной строки, команда **Format** использует тип тома для определения формата диска по умолчанию. |
| /FS: {FAT | FAT32 | NTFS | Указывает тип файловой системы (FAT, FAT32, NTFS). |
| /v:`<label>` | Задает метку тома. Если опустить параметр командной строки **/v** или использовать его без указания метки **тома, будет** предложено ввести метку тома после завершения форматирования. Введите параметр с синтаксисом **/v:**, чтобы запрос на ввод метки тома не появлялся. Если вы форматируете несколько дисков одной командой **format**, всем дискам будет присвоена одинаковая метка тома. |
| /`<unitsize>` | Указывает размер единицы размещения для томов FAT, FAT32 или NTFS. Если не указать *унитсизе*, он будет выбран в зависимости от размера тома. Для общего использования настоятельно рекомендуется применять параметры по умолчанию. В следующем списке представлены допустимые значения для NTFS, FAT и FAT32 *унитсизе*:<ul><li>512</li><li>1024</li><li>2048</li><li>4096</li><li>8192</li><li>16 тыс.</li><li>32 КБ</li><li>64K</li></ul>Файловые системы FAT и FAT32 также поддерживают значения 128 KБ и 256 KБ для секторов размером больше 512 байт. |
| /q | Выполняет быстрое форматирование. Удаляет файловую таблицу и корневой каталог ранее отформатированного тома, но не выполняет посекторную проверку на наличие плохих областей. Параметр командной строки **/q** следует использовать для форматирования только ранее отформатированных томов, о которых известно, что они имеют хорошее состояние. Обратите внимание, что **/q** переопределяет **/p**. |
| ключа`<size>` | Задает размер форматируемого гибкого диска. По возможности используйте этот параметр командной строки вместо параметров командной строки **/t** и **/n** . В Windows допустимыми являются следующие значения размера:<ul><li>1440 или 1440k или 1440kb</li><li>1,44, 1,44 или 1,44 МБ</li><li>1,44 – МБ, двойная, Четверная плотность, 3,5-дюймовый диск</li></ul> |
| /t:`<tracks>` | Задает количество дорожек на диске. По возможности используйте параметр командной строки **/f** . Параметр **/t** должен использоваться только вместе с параметром **/n**. Эти параметры применяются совместно в качестве альтернативного способа указания размера форматируемого диска. Этот параметр не работает с параметром **/f**. |
| параметра`<sectors>` | Указывает количество секторов на дорожке. По возможности используйте параметр командной строки **/f** вместо **/n**. Параметр **/n** должен использоваться только вместе с параметром **/t**. Эти параметры применяются совместно в качестве альтернативного способа указания размера форматируемого диска. Этот параметр не работает с параметром **/f**. |
| /p`<passes>` | Обнуляет каждый сектор тома указанное количество раз. Этот параметр не работает с параметром **/q**. |
| /C | Только NTFS. Файлы, создаваемые в новом томе, будут сжиматься по умолчанию. |
| /x | Приводит к отключению тома (при необходимости) до его форматирования. Все открытые дескрипторы тома становятся недействительными. |
| /? | Отображение справки в командной строке. |

#### <a name="remarks"></a>Комментарии

- Команда **Format** создает новый корневой каталог и файловую систему для диска. Кроме того, он может проверить наличие поврежденных областей на диске и удалить все данные на диске. Чтобы иметь возможность использовать новый диск, необходимо сначала использовать эту команду для форматирования диска.

- После форматирования дискеты в **формате** отображается следующее сообщение:

    `Volume label (11 characters, ENTER for none)?`

    Чтобы добавить метку тома, введите до 11 символов (включая пробелы). Если вы не хотите добавлять метку тома на диск, нажмите клавишу ВВОД.

- При использовании команды **Format** для форматирования жесткого диска выводится предупреждение следующего вида:

  ```
  WARNING, ALL DATA ON NON-REMOVABLE DISK
  DRIVE x: WILL BE LOST!
  Proceed with Format (Y/N)? _
  ```

  Чтобы отформатировать жесткий диск, нажмите клавишу **Y**; Если вы не хотите форматировать диск, нажмите клавишу **N**.

- Файловые системы FAT ограничивают количество кластеров не более 65526. Файловые системы FAT32 ограничивают количество кластеров между 65527 и 4177917.

- Сжатие томов NTFS не поддерживается для кластеров размером более 4 МБ.

  > [!NOTE]
  > Параметр **Format** немедленно останавливает обработку, если он определяет, что предыдущие требования не могут быть выполнены с использованием указанного размера кластера.

- После завершения форматирования в поле **Формат** отображаются сообщения, отображающие общее место на диске, пробелы, отмеченные как неисправные, и место, доступное для файлов.

- Ускорить процесс форматирования можно с помощью параметра командной строки **/q** . Используйте этот параметр, только если на жестком диске нет поврежденных секторов.

- Не следует использовать команду **Format** на диске, подготовленном с помощью команды **subst** . Вы не можете отформатировать диски по сети.

- В следующей таблице перечислены коды завершения и краткое описание каждого из них.

  | Код выхода | Описание |
  | --------- | ----------- |
  | 0 | Форматирование выполнено успешно. |
  | 1 | Заданы недопустимые параметры. |
  | 4 | Произошла неустранимая ошибка (любая ошибка, отличная от 0, 1 или 5). |
  | 5 | Пользователь нажал N в ответ на запрос "продолжить форматирование (Y/N)?" чтобы завершить процесс. |

  Коды завершения можно проверить с помощью переменной среды errorlevel в пакетной команде **if**.

### <a name="examples"></a>Примеры

Чтобы отформатировать новый гибкий диск в дисководе A с использованием размера по умолчанию, введите следующую команду.

```
format a:
```

Для быстрого форматирования ранее отформатированного гибкого диска в дисководе A введите следующую команду.

```
format a: /q
```

Чтобы отформатировать гибкий диск в дисководе а и назначить ему *данные*метки тома, введите:

```
format a: /v:DATA
```

## <a name="additional-references"></a>Дополнительные ссылки

- [Условные обозначения синтаксиса команд командной строки](https://technet.microsoft.com/library/cc771080.aspx)
