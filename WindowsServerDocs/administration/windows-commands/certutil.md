---
title: certutil
description: 'Раздел Windows команды для ****- '
ms.custom: na
ms.prod: windows-server
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: c264ccf0-ba1e-412b-9dd3-d77dd9345ad9
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 71525e4051a079eb9a3d0c8c197c8157b53e5e67
ms.sourcegitcommit: 1f3ffff0af340868dcf3a2cfef5b8f8aea69d96d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/04/2020
ms.locfileid: "78278549"
---
# <a name="certutil"></a>certutil

Certutil. exe — это программа командной строки, которая устанавливается в составе служб сертификатов. Программу Certutil. exe можно использовать для дампа и просмотра сведений о конфигурации центра сертификации (ЦС), настройки служб сертификатов, резервного копирования и восстановления компонентов ЦС, а также для проверки сертификатов, пар ключей и цепочек сертификатов.

При запуске программы certutil в центре сертификации без дополнительных параметров отображается текущая конфигурация центра сертификации. При запуске программы certutil в некотором центре сертификации команда по умолчанию выполняет команду certutil [-dump](#-dump) .

> [!WARNING]
> Более ранние версии программы Certutil не могут предоставить все параметры, описанные в этом документе. Вы можете просмотреть все параметры, предоставляемые конкретной версией программы Certutil, выполнив команды, показанные в разделе [синтаксические обозначения](#syntax-notations) .

## <a name="menu"></a>Меню

Основные разделы в этом документе:

- [Команды](#verbs)
- [Синтаксические нотации](#syntax-notations)
- [Параметры](#options)
- [Дополнительные примеры certutil](#additional-certutil-examples)

## <a name="verbs"></a>Команды

В следующей таблице описаны команды, которые можно использовать с командой Certutil.

|Команды|Описание|
|-----|-----------|
|[— дамп](#-dump)|Дамп сведений о конфигурации или файлов|
|[— ASN](#-asn)|Анализ файла ASN. 1|
|[-декодехекс](#-decodehex)|Декодировать файл в шестнадцатеричном формате|
|[-декодирование](#-decode)|Декодирование файла в кодировке Base64|
|[-Encoded](#-encode)|Кодирование файла в Base64|
|[— Deny](#-deny)|Отклонение ожидающего запроса сертификата|
|[— Повторная отправка](#-resubmit)|Повторная отправка ожидающего запроса сертификата|
|[-сетаттрибутес](#-setattributes)|Задание атрибутов для запроса ожидающего сертификата|
|[-сетекстенсион](#-setextension)|Задать расширение для ожидающего запроса сертификата|
|[-REVOKE](#-revoke)|Отзыв сертификата|
|[-IsValid](#-isvalid)|Отобразить расположение текущего сертификата|
|[-файл конфигурации](#-getconfig)|Получение строки конфигурации по умолчанию|
|[— Проверка связи](#-ping)|Попытка обращения к интерфейсу запроса служб сертификатов Active Directory|
|-пингадмин|Попытка обращения к интерфейсу администратора служб сертификации Active Directory|
|[-Каинфо](#-cainfo)|Отображение сведений о центре сертификации|
|[-CA. CERT](#-cacert)|Получение сертификата для центра сертификации|
|[-CA. Chain](#-cachain)|Получение цепочки сертификатов для центра сертификации|
|[-Жеткрл](#-getcrl)|Получение списка отзыва сертификатов (CRL)|
|[— Список отзыва сертификатов](#-crl)|Публиковать новые списки отзыва сертификатов (CRL) [или только разностные CRL]|
|[— Завершение работы](#-shutdown)|Завершение работы служб сертификатов Active Directory|
|[-Инсталлцерт](#-installcert)|Установка сертификата центра сертификации|
|[-Реневцерт](#-renewcert)|Продление сертификата центра сертификации|
|[-Schema](#-schema)|Дамп схемы для сертификата|
|[-представление](#-view)|Дамп представления сертификата|
|[-DB](#-db)|Дамп необработанной базы данных|
|[-DeleteRow](#-deleterow)|Удаление строки из базы данных сервера|
|[— Резервное копирование](#-backup)|Службы резервного копирования Active Directory сертификатов|
|[-Баккупдб](#-backupdb)|Резервное копирование базы данных служб сертификации Active Directory|
|[-Баккупкэй](#-backupkey)|Создание резервной копии сертификата служб сертификатов Active Directory и закрытого ключа|
|[— восстановление](#-restore)|Восстановление Active Directory служб сертификатов|
|[-restoreDB](#-restoredb)|Восстановление базы данных служб сертификатов Active Directory|
|[-Ресторекэй](#-restorekey)|Восстановление сертификата служб сертификации Active Directory и закрытого ключа|
|[-importPFX](#-importpfx)|Импорт сертификата и закрытого ключа|
|[-динамикфилелист](#-dynamicfilelist)|Отобразить динамический список файлов|
|[-датабаселокатионс](#-databaselocations)|Отображение расположений базы данных|
|[-хашфиле](#-hashfile)|Создание и отображение криптографического хэша для файла|
|[-Store](#-store)|Дамп хранилища сертификатов|
|[-addstore](#-addstore)|Добавление сертификата в хранилище|
|[-delstore](#-delstore)|Удаление сертификата из хранилища|
|[-верифисторе](#-verifystore)|Проверка сертификата в хранилище|
|[-репаирсторе](#-repairstore)|Восстановление сопоставления ключа или изменение свойств сертификата или дескриптора безопасности ключа|
|[-виевсторе](#-viewstore)|Дамп хранилища сертификатов|
|[-виевделсторе](#-viewdelstore)|Удаление сертификата из хранилища|
|[-Дспублиш](#-dspublish)|Публикация сертификата или списка отзыва сертификатов (CRL) для Active Directory|
|[-Адтемплате](#-adtemplate)|Отображение шаблонов AD|
|[-Template](#-template)|Отображение шаблонов сертификатов|
|[-Темплатекас](#-templatecas)|Отображение центров сертификации (ЦС) для шаблона сертификата|
|[-Катемплатес](#-catemplates)|Отображение шаблонов для ЦС|
|[-Сеткаситес](#-setcasites)|Управление именами сайтов для центров сертификации|
|[-Енроллментсерверурл](#-enrollmentserverurl)|Отображение, Добавление и удаление URL-адресов серверов регистрации, связанных с центром сертификации|
|[-АДКА](#-adca)|Отображение центров сертификации Active Directory|
|[-CA](#-ca)|Отображение ЦС политики регистрации|
|[Политика](#-policy)|Отображение политики регистрации|
|[-Полицикаче](#-policycache)|Отображение или удаление записей кэша политики регистрации|
|[-Кредсторе](#-credstore)|Отображение, Добавление и удаление записей хранилища учетных данных|
|[-Инсталлдефаулттемплатес](#-installdefaulttemplates)|Установка шаблонов сертификатов по умолчанию|
|[-Урлкаче](#-urlcache)|Отображение или удаление записей кэша URL-адресов|
|[импульс](#-pulse)|События автоматической регистрации пульса|
|[-Мачинеинфо](#-machineinfo)|Отображение сведений об объекте Active Directory компьютере|
|[-ДЦинфо](#-dcinfo)|Отображение сведений об контроллере домена|
|[-Ентинфо](#-entinfo)|Отображение сведений о корпоративном ЦС|
|[-Ткаинфо](#-tcainfo)|Отображение сведений о центре сертификации|
|[-СЦинфо](#-scinfo)|Отображение сведений о смарт-карте|
|[-Скрутс](#-scroots)|Управление корневыми сертификатами смарт-карты|
|[-верификэйс](#-verifykeys)|Проверка набора открытых или закрытых ключей|
|[— Проверка](#-verify)|Проверка сертификата, списка отзыва сертификатов (CRL) или цепочки сертификатов|
|[-Верификтл](#-verifyctl)|Проверить CTL Аусрут или запрещенных сертификатов|
|[-Sign](#-sign)|Повторно Подписывание списка отзыва сертификатов (CRL) или сертификата|
|[— vroot](#-vroot)|Создание или удаление виртуальных корней веб-сайта и файловых ресурсов|
|[-вокспрут](#-vocsproot)|Создание или удаление виртуальных корневых веб-серверов для веб-прокси OCSP|
|[-Адденроллментсервер](#-addenrollmentserver)|Добавление приложения сервера регистрации|
|[-Делетинроллментсервер](#-deleteenrollmentserver)|Удаление приложения сервера регистрации|
|[-Аддполицисервер](#-addpolicyserver)|Добавление приложения сервера политики|
|[-Делетеполицисервер](#-deletepolicyserver)|Удаление приложения сервера политики|
|[-OID](#-oid)|Отображение идентификатора объекта или установка отображаемого имени|
|[-Ошибка](#-error)|Отображение текста сообщения, связанного с кодом ошибки|
|[-жетрег](#-getreg)|Отображение значения реестра|
|[-Setreg](#-setreg)|Установка значения реестра|
|[-делрег](#-delreg)|Удаление значения реестра|
|[-Импорткмс](#-importkms)|Импорт ключей и сертификатов пользователей в базу данных сервера для архивирования ключей|
|[-Импортцерт](#-importcert)|Импорт файла сертификата в базу данных|
|[-GetKey](#-getkey)|Получение архивного большого двоичного объекта восстановления закрытого ключа|
|[-Рековеркэй](#-recoverkey)|Восстановление архивированного закрытого ключа|
|[-Мержепфкс](#-mergepfx)|Слияние PFX-файлов|
|[-Конвертепф](#-convertepf)|Преобразование PFX-файла в файл EPF|
|-?|Отображает список команд|
|- *\<глагол >* -?|Отображает справку для указанного глагола.|
|-? -v|Отображает полный список команд и|

Вернуться в [меню](#menu)

## <a name="syntax-notations"></a>Синтаксические нотации

- Для базового синтаксиса командной строки выполните `certutil -?`
- Для синтаксиса команды certutil с определенной командой выполните команду **certutil** *\<verb >* **-?**
- Чтобы отправить весь синтаксис certutil в текстовый файл, выполните следующие команды:  
  - `certutil -v -? > certutilhelp.txt`
  - `notepad certutilhelp.txt`

В следующей таблице описана нотация, используемая для указания синтаксиса командной строки.


|            Представлении             |                  Описание                  |
|---------------------------------|-----------------------------------------------|
| Текст без квадратных или фигурных скобок |         Необходимо ввести элементы, как показано          |
|  \<текст внутри угловых скобок >  | Заполнитель, для которого необходимо указать значение |
|  [Текст в квадратных скобках]  |                Необязательные элементы                 |
|      {Текст в фигурных скобках}       |       Набор обязательных элементов; Выберите один       |
|         Вертикальная черта (          |                       )                       |
|          Кнопка с многоточием (…)           |          Элементы, которые могут повторяться           |

Вернуться в [меню](#menu)

## <a name="-dump"></a>— дамп

CertUtil [параметры] [-dump]

CertUtil [параметры] [-dump] файл

Дамп сведений о конфигурации или файлов

[-f] [-Silent] [-Split] [-p пароль] [-t время ожидания]

Вернуться в [меню](#menu)

## <a name="-asn"></a>— ASN

CertUtil [параметры]-файл ASN [тип]

Анализ файла ASN. 1

Тип: числовое\_шифрования строка\_\* тип декодирования

Вернуться в [меню](#menu)

## <a name="-decodehex"></a>-декодехекс

CertUtil [параметры]-декодехекс файл [тип]

Тип: числовое\_шифрования строка\_\* тип кодировки

[-f]

Вернуться в [меню](#menu)

## <a name="-decode"></a>-декодирование

CertUtil [параметры]-Декодирование файла

Декодировать файл в кодировке Base64

[-f]

Вернуться в [меню](#menu)

## <a name="-encode"></a>-Encoded

CertUtil [параметры]-кодировать файл

Кодирование файла в Base64

[-f] [-Уникодетекст]

Вернуться в [меню](#menu)

## <a name="-deny"></a>— Deny

CertUtil [параметры]-Deny RequestId

Отклонить ожидающий запрос

[-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-resubmit"></a>— Повторная отправка

CertUtil [параметры]-повторная отправка RequestId

Повторная отправка ожидающего запроса

[-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-setattributes"></a>-сетаттрибутес

CertUtil [параметры]-сетаттрибутес RequestId Аттрибутестринг

Задать атрибуты для ожидающего запроса

ИД запроса--числовой идентификатор ожидающего запроса

Аттрибутестринг — пары "имя-значение" для атрибута запроса

- Имена и значения разделяются двоеточием.
- Несколько пар "имя — значение" разделяются символами новой строки.
- Пример: "CertificateTemplate:User\nEMail:User@Domain.com"
- Каждая последовательность "\n" преобразуется в разделитель новой строки.

[-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-setextension"></a>-сетекстенсион

CertUtil [параметры]-сетекстенсион RequestId ExtensionName flags {Long | Дата | Строка | \@файл}

Задать расширение для ожидающего запроса

ИД запроса--числовой идентификатор ожидающего запроса

ExtensionName--строка ObjectId расширения

Рекомендуется использовать флаги--0.  1 делает расширение критическим, 2 отключает его, 3 — оба.

Если последний параметр является числовым, он принимается как длинное целое.

Если его можно проанализировать как дату, он принимается как дата.

Если он начинается с "\@", остальная часть маркера представляет собой имя файла, содержащего двоичные данные или шестнадцатеричный дамп в формате ASCII.

Все остальное принимается как строка.

[-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-revoke"></a>-REVOKE

CertUtil [параметры] — отозвать серийный номер [причина]

Отозвать сертификат

SerialNumber: разделенный запятыми список серийных номеров сертификатов для отзыва

Причина: числовая или символьная причина отзыва

- 0: CRL_REASON_UNSPECIFIED: не указано (по умолчанию)
- 1: CRL_REASON_KEY_COMPROMISE: Компрометация ключа
- 2: CRL_REASON_CA_COMPROMISE: компрометация ЦС
- 3: CRL_REASON_AFFILIATION_CHANGED: Изменение принадлежности
- 4: CRL_REASON_SUPERSEDED: заменено
- 5: CRL_REASON_CESSATION_OF_OPERATION: прекращение работы
- 6: CRL_REASON_CERTIFICATE_HOLD: хранение сертификата
- 8: CRL_REASON_REMOVE_FROM_CRL: удаление из списка отзыва сертификатов
- -1: Отмена отзыва: Отмена отзыва

[-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-isvalid"></a>-IsValid

CertUtil [параметры]-допустимый серийный номер | CertHash

Отобразить текущее расположение сертификата

[-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-getconfig"></a>-файл конфигурации

CertUtil [параметры]-config

Получить строку конфигурации по умолчанию

[-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-ping"></a>— Проверка связи

CertUtil [параметры]-ping [Макссекондстоваит | Камачинелист]

Проверка связи с интерфейсом запроса служб сертификатов Active Directory

Камачинелист — список имен компьютеров ЦС с разделителями-запятыми

1. Для одного компьютера используйте завершающую запятую
2. Отображение стоимости сайта для каждого компьютера ЦС

[-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-cainfo"></a>-Каинфо

CertUtil [параметры]-Каинфо [Инфонаме [индекс | ErrorCode]]

Отображение сведений о ЦС

Инфонаме — указывает свойство CA для вывода (см. ниже). Используйте "\*" для всех свойств.

Index — необязательный индекс свойства, начинающийся с нуля

ErrorCode--числовой код ошибки

[-f] [-Split] [-config Мачине\канаме]

Синтаксис аргумента Инфонаме:

- файл: версия файла
- продукт: версия продукта
- екситкаунт: число модулей выхода
- выход [index]: описание модуля выхода
- Политика: описание модуля политики
- Имя: имя ЦС
- санитизеднаме: исключенное имя ЦС
- dsname: исключенное короткое имя ЦС (имя DS)
- шаредфолдер: общая папка
- Код ошибки error1: текст сообщения об ошибке
- Error2 ErrorCode: текст сообщения об ошибке и код ошибки
- Тип: тип CA
- сведения: сведения о ЦС
- Родительский: родительский ЦС
- церткаунт: число сертификатов ЦС
- ксчгкаунт: число сертификатов Exchange для ЦС
- кракаунт: число сертификатов KRA
- краусед: число использованных сертификатов KRA
- пропидмакс: максимальный PropId ЦС
- цертстате [Индекс]: сертификат ЦС
- цертверсион [Индекс]: версия сертификата ЦС
- цертстатускоде [Индекс]: состояние проверки сертификата ЦС
- крлстате [Индекс]: список отзыва сертификатов
- крастате [Индекс]: Сертификат KRA
- кроссстате + [Индекс]: прямой перекрестный сертификат
- кроссстате-[Индекс]: обратный перекрестный сертификат
- CERT [Индекс]: сертификат ЦС
- цертчаин [index]: цепочка сертификатов ЦС
- церткрлчаин [index]: цепочка сертификатов ЦС с CRL
- ксчг [Индекс]: сертификат Exchange для ЦС
- ксчгчаин [index]: цепочка сертификатов обмена ЦС
- ксчгкрлчаин [index]: цепочка сертификатов Exchange CA с CRL
- KRA [index]: KRA CERT
- перекрестное + [index]: прямой перекрестный сертификат
- перекрестное [index]: обратный перекрестный сертификат
- CRL [Индекс]: базовый CRL
- делтакрл [Индекс]: разностный CRL
- крлстатус [Индекс]: состояние публикации CRL
- делтакрлстатус [Индекс]: состояние публикации разностного CRL
- DNS: DNS-имя
- Роль: разделение ролей
- Реклама: Advanced Server
- шаблоны: шаблоны
- CSP [Индекс]: URL-адреса OCSP
- AIA [index]: URL-адреса AIA
- CDP [Индекс]: URL-адреса CDP
- localename: имя локали ЦС
- субжекттемплатеоидс: идентификаторы OID шаблона субъекта

Вернуться в [меню](#menu)

## <a name="-cacert"></a>-CA. CERT

CertUtil [параметры]-CA. CERT Ауткацертфиле [Индекс]

Получение сертификата ЦС

Ауткацертфиле: выходной файл

Индекс: индекс продления сертификата ЦС (по умолчанию — самый последний)

[-f] [-Split] [-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-cachain"></a>-CA. Chain

CertUtil [параметры]-CA. Chain Ауткацертчаинфиле [Индекс]

Получение цепочки сертификатов ЦС

Ауткацертчаинфиле: выходной файл

Индекс: индекс продления сертификата ЦС (по умолчанию — самый последний)

[-f] [-Split] [-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-getcrl"></a>-Жеткрл

CertUtil [параметры] — Жеткрл-файл [Индекс] [Дельта]

Получение списка отзыва сертификатов

Индекс: индекс CRL или индекс ключа (по умолчанию используется CRL для самого нового ключа)

Дельта: разностный CRL (по умолчанию — базовый CRL)

[-f] [-Split] [-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-crl"></a>— Список отзыва сертификатов

CertUtil [параметры]-CRL [дд: чч | повторная публикация] [Дельта]

Публиковать новые списки отзыва сертификатов [или только разностные CRL]

ДД: чч — новый срок действия CRL в днях и часах

Повторная публикация — повторная публикация последних списков отзыва сертификатов

Дельта-только разностные CRL (по умолчанию — базовый и разностный CRL)

[-Split] [-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-shutdown"></a>— Завершение работы

CertUtil [параметры] — Завершение работы

Завершение работы служб сертификатов Active Directory

[-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-installcert"></a>-Инсталлцерт

CertUtil [параметры]-Инсталлцерт [Кацертфиле]

Установка сертификата центра сертификации

[-f] [-Silent] [-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-renewcert"></a>-Реневцерт

CertUtil [параметры]-Реневцерт [Реусекэйс] [Мачине\парентканаме]

Обновить сертификат центра сертификации

Используйте-f для пропуска ожидающего запроса продления и создания нового запроса.

[-f] [-Silent] [-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-schema"></a>-Schema

CertUtil [параметры]-Schema [ext | ATTRIB | СПИСКОМ

Дамп схемы сертификата

По умолчанию используется таблица запросов и сертификатов

Таблица Ext: Extension

ATTRIB: таблица атрибутов

CRL: таблица CRL

[-Split] [-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-view"></a>-представление

CertUtil [параметры]-View [очередь | Журнал | Логфаил | Отозвано | Ext | ATTRIB | CRL] [CSV]

Дамп представления сертификата

Очередь: очередь запросов

Журнал: выданные или отозванные сертификаты, а также неудачные запросы

Логфаил: неудачные запросы

Отозвано: отозванные сертификаты

Таблица Ext: Extension

ATTRIB: таблица атрибутов

CRL: таблица CRL

CSV: вывод в виде значений с разделителями-запятыми

Отображение столбца StatusCode для всех записей:-out StatusCode

Для вывода всех столбцов последней записи:-restrict "RequestId = = $"

Отображение RequestId и метода обработки для трех запросов:-restrict "RequestId > = 37, RequestId\<40"-out "RequestId, Disposition"

Отображение идентификаторов строк и номеров CRL для всех базовых CRL:-restrict "Крлминбасе = 0"-out "Крлровид, Крлнумбер"

Отображение базового CRL number 3:-v-restrict "Крлминбасе = 0, Крлнумбер = 3"-out "Крлравкрл"

Отображение всей таблицы CRL: CRL

Используйте "Date [+ |-дд: ЧЧ]" для ограничений по датам

Использовать "Now + DD: HH" для даты, относительных к текущему времени

[-Silent] [-Split] [-config Мачине\канаме] [-restrict RestrictionList] [-out Колумнлист]

Вернуться в [меню](#menu)

## <a name="-db"></a>-DB

CertUtil [параметры]-DB

Дамп необработанной базы данных

[-config Мачине\канаме] [-restrict RestrictionList] [-out Колумнлист]

Вернуться в [меню](#menu)

## <a name="-deleterow"></a>-DeleteRow

CertUtil [параметры]-DeleteRow RowId | Date [запрос | CERT | Ext | ATTRIB | СПИСКОМ

Удалить строку базы данных сервера

Запрос: невыполненные и ожидающие запросы (Дата отправки)

Сертификат: просроченные и отозванные сертификаты (Дата окончания срока действия)

Таблица Ext: Extension

ATTRIB: таблица атрибутов

CRL: таблица CRL (Дата окончания срока действия)

Для удаления невыполненных и ожидающих запросов, отправленных 22 января, 2001:1/22/2001, запрос

Чтобы удалить все сертификаты, срок действия которых истек 22 января, 2001:1/22/2001, сертификат

Удаление строки сертификата, атрибутов и расширений для RequestId 37:37

Удаление списков отзыва сертификатов, срок действия которых истек 22 января, 2001:1/22/2001

[-f] [-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-backup"></a>— Резервное копирование

CertUtil [параметры]-Backup BackupDirectory [добавочный] [Киплог]

Службы резервного копирования Active Directory сертификатов

BackupDirectory: Каталог для хранения резервных копий данных

Добавочная: только добавочное резервное копирование (по умолчанию — полная резервная копия)

Киплог: сохранение файлов журнала базы данных (по умолчанию усечение файлов журнала)

[-f] [-config Мачине\канаме] [-p пароль]

Вернуться в [меню](#menu)

## <a name="-backupdb"></a>-Баккупдб

CertUtil [параметры]-Баккупдб BackupDirectory [добавочный] [Киплог]

Резервное копирование базы данных служб сертификатов Active Directory

BackupDirectory: Каталог для хранения резервных копий файлов базы данных

Добавочная: только добавочное резервное копирование (по умолчанию — полная резервная копия)

Киплог: сохранение файлов журнала базы данных (по умолчанию усечение файлов журнала)

[-f] [-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-backupkey"></a>-Баккупкэй

CertUtil [параметры]-Баккупкэй BackupDirectory

Резервное копирование Active Directory сертификата служб сертификации и закрытого ключа

BackupDirectory: Каталог для хранения резервной копии PFX-файла

[-f] [-config Мачине\канаме] [-p пароль] [-t время ожидания]

Вернуться в [меню](#menu)

## <a name="-restore"></a>— восстановление

CertUtil [параметры] — восстановление BackupDirectory

Восстановление Active Directory служб сертификатов

BackupDirectory: Каталог, содержащий восстанавливаемые данные

[-f] [-config Мачине\канаме] [-p пароль]

Вернуться в [меню](#menu)

## <a name="-restoredb"></a>-restoreDB

CertUtil [параметры]-restoreDB BackupDirectory

Восстановление базы данных служб сертификатов Active Directory

BackupDirectory: Каталог, содержащий восстанавливаемые файлы базы данных

[-f] [-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-restorekey"></a>-Ресторекэй

CertUtil [параметры]-Ресторекэй BackupDirectory | пфксфиле

Восстановление Active Directory сертификата служб сертификации и закрытого ключа

BackupDirectory: Каталог, содержащий восстанавливаемый PFX-файл

Пфксфиле: восстанавливаемый PFX-файл

[-f] [-config Мачине\канаме] [-p пароль]

Вернуться в [меню](#menu)

## <a name="-importpfx"></a>-importPFX

CertUtil [параметры]-importPFX [Цертификатесторенаме] Пфксфиле [модификаторы]

Импорт сертификата и закрытого ключа

Цертификатесторенаме: имя хранилища сертификатов.  См. раздел [-Store](#-store).

Пфксфиле: PFX-файл для импорта

Модификаторы: разделенный запятыми список из одного или нескольких следующих элементов:

1. AT_SIGNATURE: измените KeySpec на Signature.
2. AT_KEYEXCHANGE: изменение KeySpec на обмен ключами
3. Экспорт: сделать закрытый ключ неэкспортируемым
4. No CERT: не импортировать сертификат
5. Цепочка цепочек: не импортировать цепочку сертификатов
6. Корень: не импортировать корневой сертификат
7. Защита: защита ключей с помощью пароля
8. Без защиты: не использовать пароль для защиты ключей

По умолчанию используется личное хранилище компьютера.

[-f] [-пользователь] [-p пароль] [-поставщик CSP]

Вернуться в [меню](#menu)

## <a name="-dynamicfilelist"></a>-динамикфилелист

CertUtil [параметры]-динамикфилелист

Отобразить динамический список файлов

[-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-databaselocations"></a>-датабаселокатионс

CertUtil [параметры]-датабаселокатионс

Отображение расположений базы данных

[-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-hashfile"></a>-хашфиле

CertUtil [параметры]-хашфиле \ файл [HashAlgorithm]

Создание и отображение криптографического хэша для файла

Вернуться в [меню](#menu)

## <a name="-store"></a>-Store

CertUtil [параметры]-Store [Цертификатесторенаме [CertId [Выходной_файл]]]

Дамп хранилища сертификатов

Цертификатесторенаме: имя хранилища сертификатов. Примеры

- «My», «CA» (по умолчанию), «root»,
- "ldap:///CN=Certificationные центры, CN = открытые ключи Services, CN = Services, CN = Configuration, DC = кпандл, DC = com? сохранить? One? objectClass = Цертификатионаусорити" (Просмотр корневых сертификатов)
- "ldap:///CN=CAName,CN=Certificationные центры, CN = открытые ключи Services, CN = Services, CN = Configuration, DC = кпандл, DC = com? сохранить? Base? objectClass = Цертификатионаусорити" (изменение корневых сертификатов)
- "ldap:///CN=CAName,CN=MachineName,CN=CDP,CN=Public Key Services, CN = Services, CN = Configuration, DC = кпандл, DC = com? Цертификатеревокатионлист? Base? objectClass = Крлдистрибутионпоинт" (Просмотр списков отзыва сертификатов)
- "ldap:///CN=NTAuthCertificates,CN=Public Key Services, CN = Services, CN = Configuration, DC = кпандл, DC = com? сохранить? Base? objectClass = Цертификатионаусорити" (сертификаты ЦС предприятия)
- LDAP: (сертификаты объектов компьютеров AD)
- — пользователь LDAP: (сертификаты объектов пользователей AD)

CertId: маркер соответствия сертификата или CRL.  Это может быть серийный номер, сертификат SHA-1, CRL, CTL или хэш открытого ключа, индекс числового сертификата (0, 1 и т. д.), числовой индекс списка отзыва сертификатов (. 0, десятый и т. д.), числовой индекс CTL (.. 0,.. 1 и т. д.), общедоступный ключ, сигнатура или расширение ObjectId, общее имя субъекта сертификата, адрес электронной почты, имя участника-пользователя или DNS, имя контейнера ключей или имя CSP, имя шаблона или ObjectId, идентификатор субъекта политики приложения или общее имя поставщика CRL. Многие из них могут привести к нескольким совпадениям.

Выходной_файл: файл для сохранения соответствующего сертификата

Используйте-User для доступа к хранилищу пользователей вместо хранилища компьютера.

Используйте-Enterprise для доступа к магазину машинного предприятия.

Используйте-Service для доступа к хранилищу служб компьютера.

Используйте параметр-grouppolicy для доступа к хранилищу групповых политик компьютеров.

Примеры

- — Enterprise NTAuth
- — Корпоративный корень 37
- — пользователь My 26e0aaaf000000000004
- CA. 11

[-f] [-Enterprise] [-пользователь] [-GroupPolicy] [-Silent] [-Split] [-DC DCName]

Вернуться в [меню](#menu)

## <a name="-addstore"></a>-addstore

CertUtil [параметры]-addstore Цертификатесторенаме, файл

Добавление сертификата в хранилище

Цертификатесторенаме: имя хранилища сертификатов.  См. раздел [-Store](#-store).

Файл сертификата или файла CRL для добавления в хранилище.

[-f] [-Enterprise] [-пользователь] [-GroupPolicy] [-DC DCName]

Вернуться в [меню](#menu)

## <a name="-delstore"></a>-delstore

CertUtil [параметры]-delstore Цертификатесторенаме CertId

Удаление сертификата из хранилища

Цертификатесторенаме: имя хранилища сертификатов.  См. раздел [-Store](#-store).

CertId: маркер соответствия сертификата или CRL.  См. раздел [-Store](#-store).

[-Enterprise] [-пользователь] [-GroupPolicy] [-DC DCName]

Вернуться в [меню](#menu)

## <a name="-verifystore"></a>-верифисторе

CertUtil [параметры]-верифисторе Цертификатесторенаме [CertId]

Проверка сертификата в хранилище

Цертификатесторенаме: имя хранилища сертификатов.  См. раздел [-Store](#-store).

CertId: маркер соответствия сертификата или CRL.  См. раздел [-Store](#-store).

[-Enterprise] [-пользователь] [-GroupPolicy] [-Silent] [-Split] [-DC DCName] [-t время ожидания]

Вернуться в [меню](#menu)

## <a name="-repairstore"></a>-репаирсторе

CertUtil [параметры]-репаирсторе Цертификатесторенаме Цертидлист [Пропертинффиле | Сддлсекуритидескриптор]

Восстановление сопоставления ключа или изменение свойств сертификата или дескриптора безопасности ключа

Цертификатесторенаме: имя хранилища сертификатов.  См. раздел [-Store](#-store).

Цертидлист: разделенный запятыми список маркеров сертификата или списка отзыва сертификатов. См. раздел [-Store](#-store) CertId Description.

Пропертинффиле--файл INF, содержащий внешние свойства:

```
[Properties]
     19 = Empty ; Add archived property, OR:
     19 =       ; Remove archived property

     11 = "{text}Friendly Name" ; Add friendly name property

     127 = "{hex}" ; Add custom hexadecimal property
         _continue_ = "00 01 02 03 04 05 06 07 08 09 0a 0b 0c 0d 0e 0f"
         _continue_ = "10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e 1f"

     2 = "{text}" ; Add Key Provider Information property
       _continue_ = "Container=Container Name&"
       _continue_ = "Provider=Microsoft Strong Cryptographic Provider&"
       _continue_ = "ProviderType=1&"
       _continue_ = "Flags=0&"
       _continue_ = "KeySpec=2"

     9 = "{text}" ; Add Enhanced Key Usage property
       _continue_ = "1.3.6.1.5.5.7.3.2,"
       _continue_ = "1.3.6.1.5.5.7.3.1,"
```

[-f] [-Enterprise] [-пользователь] [-GroupPolicy] [-Silent] [-Split] [-поставщик CSP]

Вернуться в [меню](#menu)

## <a name="-viewstore"></a>-виевсторе

CertUtil [параметры]-виевсторе [Цертификатесторенаме [CertId [Выходной_файл]]]

Дамп хранилища сертификатов

Цертификатесторенаме: имя хранилища сертификатов. Примеры

- «My», «CA» (по умолчанию), «root»,
- "ldap:///CN=Certificationные центры, CN = открытые ключи Services, CN = Services, CN = Configuration, DC = кпандл, DC = com? сохранить? One? objectClass = Цертификатионаусорити" (Просмотр корневых сертификатов)
- "ldap:///CN=CAName,CN=Certificationные центры, CN = открытые ключи Services, CN = Services, CN = Configuration, DC = кпандл, DC = com? сохранить? Base? objectClass = Цертификатионаусорити" (изменение корневых сертификатов)
- "ldap:///CN=CAName,CN=MachineName,CN=CDP,CN=Public Key Services, CN = Services, CN = Configuration, DC = кпандл, DC = com? Цертификатеревокатионлист? Base? objectClass = Крлдистрибутионпоинт" (Просмотр списков отзыва сертификатов)
- "ldap:///CN=NTAuthCertificates,CN=Public Key Services, CN = Services, CN = Configuration, DC = кпандл, DC = com? сохранить? Base? objectClass = Цертификатионаусорити" (сертификаты ЦС предприятия)
- LDAP: (сертификаты объектов компьютеров AD)
- — пользователь LDAP: (сертификаты объектов пользователей AD)

CertId: маркер соответствия сертификата или CRL. Это может быть серийный номер, сертификат SHA-1, CRL, CTL или хэш открытого ключа, индекс числового сертификата (0, 1 и т. д.), числовой индекс списка отзыва сертификатов (. 0, десятый и т. д.), числовой индекс CTL (.. 0,.. 1 и т. д.), общедоступный ключ, сигнатура или расширение ObjectId, общее имя субъекта сертификата, адрес электронной почты, имя участника-пользователя или DNS, имя контейнера ключей или имя CSP, имя шаблона или ObjectId, идентификатор субъекта политики приложения или общее имя поставщика CRL. Многие из них могут привести к нескольким совпадениям.

Выходной_файл: файл для сохранения соответствующего сертификата

Используйте-User для доступа к хранилищу пользователей вместо хранилища компьютера.

Используйте-Enterprise для доступа к магазину машинного предприятия.

Используйте-Service для доступа к хранилищу служб компьютера.

Используйте параметр-grouppolicy для доступа к хранилищу групповых политик компьютеров.

Примеры

1. — Enterprise NTAuth
2. — Корпоративный корень 37
3. — пользователь My 26e0aaaf000000000004
4. CA. 11

[-f] [-Enterprise] [-пользователь] [-GroupPolicy] [-DC DCName]

Вернуться в [меню](#menu)

## <a name="-viewdelstore"></a>-виевделсторе

CertUtil [параметры]-виевделсторе [Цертификатесторенаме [CertId [Выходной_файл]]]

Удаление сертификата из хранилища

Цертификатесторенаме: имя хранилища сертификатов. Примеры

- «My», «CA» (по умолчанию), «root»,
- "ldap:///CN=Certificationные центры, CN = открытые ключи Services, CN = Services, CN = Configuration, DC = кпандл, DC = com? сохранить? One? objectClass = Цертификатионаусорити" (Просмотр корневых сертификатов)
- "ldap:///CN=CAName,CN=Certificationные центры, CN = открытые ключи Services, CN = Services, CN = Configuration, DC = кпандл, DC = com? сохранить? Base? objectClass = Цертификатионаусорити" (изменение корневых сертификатов)
- "ldap:///CN=CAName,CN=MachineName,CN=CDP,CN=Public Key Services, CN = Services, CN = Configuration, DC = кпандл, DC = com? Цертификатеревокатионлист? Base? objectClass = Крлдистрибутионпоинт" (Просмотр списков отзыва сертификатов)
- "ldap:///CN=NTAuthCertificates,CN=Public Key Services, CN = Services, CN = Configuration, DC = кпандл, DC = com? сохранить? Base? objectClass = Цертификатионаусорити" (сертификаты ЦС предприятия)
- LDAP: (сертификаты объектов компьютеров AD)
- — пользователь LDAP: (сертификаты объектов пользователей AD)

CertId: маркер соответствия сертификата или CRL. Это может быть серийный номер, сертификат SHA-1, CRL, CTL или хэш открытого ключа, индекс числового сертификата (0, 1 и т. д.), числовой индекс списка отзыва сертификатов (. 0, десятый и т. д.), числовой индекс CTL (.. 0,.. 1 и т. д.), общедоступный ключ, сигнатура или расширение ObjectId, общее имя субъекта сертификата, адрес электронной почты, имя участника-пользователя или DNS, имя контейнера ключей или имя CSP, имя шаблона или ObjectId, идентификатор субъекта политики приложения или общее имя поставщика CRL. Многие из них могут привести к нескольким совпадениям.

Выходной_файл: файл для сохранения соответствующего сертификата

Используйте-User для доступа к хранилищу пользователей вместо хранилища компьютера.

Используйте-Enterprise для доступа к магазину машинного предприятия.

Используйте-Service для доступа к хранилищу служб компьютера.

Используйте параметр-grouppolicy для доступа к хранилищу групповых политик компьютеров.

Примеры

1. — Enterprise NTAuth
2. — Корпоративный корень 37
3. — пользователь My 26e0aaaf000000000004
4. CA. 11

[-f] [-Enterprise] [-пользователь] [-GroupPolicy] [-DC DCName]

Вернуться в [меню](#menu)

## <a name="-dspublish"></a>-Дспублиш

CertUtil [параметры]-Дспублиш CertFile [Нтауска | RootCA | Субка | Кросска | KRA | Пользователь | Машине

CertUtil [параметры]-Дспублиш Крлфиле [Дскдпконтаинер [ДСКДПКН]]

Публикация сертификата или списка отзыва сертификатов для Active Directory

CertFile: файл сертификата для публикации

Нтауска: публикация сертификата в DS Enterprise Store

RootCA: публикация сертификата в доверенном корневом хранилище DS

Субка: публикация сертификата ЦС в объекте ЦС DS

Кросска: публикация перекрестных сертификатов в объект ЦС DS

KRA: публикация сертификата в объект агента восстановления ключей DS

Пользователь: публикация сертификата в пользовательском объекте DS

Компьютер: публикация сертификата в объект Machine DS

Крлфиле: файл списка отзыва сертификатов для публикации

Дскдпконтаинер: контейнер CDP DS CN, обычно имя компьютера ЦС

ДСКДПКН: объект DS CDP CN, обычно основанный на исключенном коротком имени ЦС и индексе ключа

Используйте-f для создания объекта DS.

[-f] [-пользователь] [-DC DCName]

Вернуться в [меню](#menu)

## <a name="-adtemplate"></a>-Адтемплате

CertUtil [параметры]-Адтемплате [шаблон]

Отображение шаблонов AD

[-f] [-пользователь] [-ut] [-MT] [-DC DCName]

## <a name="-template"></a>-Template

CertUtil [параметры]-шаблон [шаблон]

Отображение шаблонов политик регистрации

[-f] [-пользователь] [-Silent] [-Полицисервер Урлорид] [-Anonymous] [-Kerberos] [-ClientCertificate Клиентцертид] [-UserName имя_пользователя] [-p пароль]

Вернуться в [меню](#menu)

## <a name="-templatecas"></a>-Темплатекас

CertUtil [параметры] — шаблон Темплатекас

Отображение центров сертификации для шаблона

[-f] [-пользователь] [-DC DCName]

Вернуться в [меню](#menu)

## <a name="-catemplates"></a>-Катемплатес

CertUtil [параметры]-Катемплатес [шаблон]

Отображение шаблонов для ЦС

[-f] [-пользователь] [-ut] [-MT] [-config Мачине\канаме] [-DC DCName]

Вернуться в [меню](#menu)

## <a name="-setcasites"></a>-Сеткаситес

CertUtil [параметры]-Сеткаситес [набор] [SiteName]

CertUtil [параметры]-Сеткаситес Verify [SiteName]

CertUtil [параметры]-Сеткаситес Delete

Задание, проверка или удаление имен сайтов ЦС

- Используйте параметр-config для выбора одного центра сертификации (по умолчанию все ЦС)
- *Имя сайта* допускается только при нацеливании на один ЦС
- Используйте параметр-f, чтобы переопределить ошибки проверки для указанного имени *сайта* .
- Использование-f для удаления всех имен сайтов ЦС

[-f] [-config Мачине\канаме] [-DC DCName]

> [!NOTE]
> Дополнительные сведения о настройке центров сертификации для поддержки сайта служб домен Active Directory Services (AD DS) см. в разделе [сведения о поддержке сайта AD DS для клиентов AD CS и PKI](https://social.technet.microsoft.com/wiki/contents/articles/14106.ad-ds-site-awareness-for-ad-cs-and-pki-clients.aspx).

Вернуться в [меню](#menu)

## <a name="-enrollmentserverurl"></a>-Енроллментсерверурл

CertUtil [параметры]-Енроллментсерверурл [URL-адрес AuthenticationType [приоритет] [модификаторы]]

CertUtil [параметры]-Енроллментсерверурл удаление URL-адреса

Отображение, Добавление и удаление URL-адресов серверов регистрации, связанных с центром сертификации

AuthenticationType: укажите один из следующих методов проверки подлинности клиента при добавлении URL-адреса.

1. Kerberos: использование учетных данных Kerberos SSL
2. Имя пользователя: используйте именованную учетную запись для учетных данных SSL.
3. ClientCertificate: использование учетных данных SSL сертификата X. 509
4. Anonymous: использовать анонимные учетные данные SSL

удалить: Удаляет указанный URL-адрес, связанный с ЦС.

Priority: по умолчанию равно "1", если при добавлении URL-адреса не указано

Модификаторы — разделенный запятыми список из одного или нескольких следующих элементов:

1. Алловреневалсонли: с помощью этого URL-адреса можно отправить в этот ЦС только запросы на продление
2. Алловкэйбаседреневал: разрешает использовать сертификат, не имеющий связанной учетной записи в Active Directory. Это относится только к режимам ClientCertificate и Алловреневалсонли

[-config Мачине\канаме] [-DC DCName]

Вернуться в [меню](#menu)

## <a name="-adca"></a>-АДКА

CertUtil [параметры]-АДКА [Имя_цс]

Отображение центров сертификации Active Directory

[-f] [-Split] [-DC DCName]

Вернуться в [меню](#menu)

## <a name="-ca"></a>-CA

CertUtil [параметры]-CA [Имя_цс | TemplateName

Отображение ЦС политики регистрации

[-f] [-пользователь] [-Silent] [-Split] [-Полицисервер Урлорид] [-Anonymous] [-Kerberos] [-ClientCertificate Клиентцертид] [-UserName имя_пользователя] [-p пароль]

Вернуться в [меню](#menu)

## <a name="-policy"></a>Политика

Отображение политики регистрации

[-f] [-пользователь] [-Silent] [-Split] [-Полицисервер Урлорид] [-Anonymous] [-Kerberos] [-ClientCertificate Клиентцертид] [-UserName имя_пользователя] [-p пароль]

Вернуться в [меню](#menu)

## <a name="-policycache"></a>-Полицикаче

CertUtil [параметры]-Полицикаче [удаление]

Отображение или удаление записей кэша политики регистрации

Удаление: удаление записей кэша сервера политики

-f: использование-f для удаления всех записей кэша

[-f] [-пользователь] [-Полицисервер Урлорид]

Вернуться в [меню](#menu)

## <a name="-credstore"></a>-Кредсторе

CertUtil [параметры]-Кредсторе [URL]

CertUtil [параметры]-Кредсторе добавить URL-адрес

CertUtil [параметры]-Кредсторе удаление URL-адреса

Отображение, Добавление и удаление записей хранилища учетных данных

URL-адрес: целевой URL-адрес.  Используйте \*, чтобы сопоставить все записи. Используйте https://machine\* для сопоставления префикса URL-адреса.

добавить: добавьте запись хранилища учетных данных. Необходимо также указать учетные данные SSL.

Удаление: удаление записей хранилища учетных данных

-f: Используйте-f, чтобы перезаписать запись или удалить несколько записей.

[-f] [-пользователь] [-Silent] [-Anonymous] [-Kerberos] [-ClientCertificate Клиентцертид] [-UserName имя_пользователя] [-p пароль]

Вернуться в [меню](#menu)

## <a name="-installdefaulttemplates"></a>-Инсталлдефаулттемплатес

CertUtil [параметры]-Инсталлдефаулттемплатес

Установка шаблонов сертификатов по умолчанию

[-DC DCName]

Вернуться в [меню](#menu)

## <a name="-urlcache"></a>-Урлкаче

CertUtil [параметры]-Урлкаче [URL | СПИСОК ОТЗЫВА СЕРТИФИКАТОВ | \* [Delete]]

Отображение или удаление записей кэша URL-адресов

URL-адрес: кэшированный URL-адрес

CRL: работают только со всеми кэшированными URL-адресами CRL

\*. действия со всеми кэшированными URL-адресами

Удаление: удаление соответствующих URL-адресов из локального кэша текущего пользователя

Используйте-f для принудительной выборки определенного URL-адреса и обновления кэша.

[-f] [-Split]

Вернуться в [меню](#menu)

## <a name="-pulse"></a>импульс

CertUtil [параметры]-Pulse

События пульса автоматической регистрации

[-пользователь]

Вернуться в [меню](#menu)

## <a name="-machineinfo"></a>-Мачинеинфо

CertUtil [параметры]-Мачинеинфо Домаиннаме\мачиненаме $

Отображение сведений об объекте Active Directory компьютере

Вернуться в [меню](#menu)

## <a name="-dcinfo"></a>-ДЦинфо

CertUtil [параметры]-ДЦинфо [домен] [Verify | Делетебад | DeleteAll

Отображение сведений о контроллере домена

По умолчанию выводятся сертификаты контроллеров домена без проверки.

[-f] [-пользователь] [-урлфетч] [-DC DCName] [-t время ожидания]

> [!TIP]
> В Windows Server 2012 можно AD DS домен Active Directory указать домен **[домен]** и указать контроллер домена ( **-DC**). Для успешного выполнения команды необходимо использовать учетную запись, которая является членом группы **"Администраторы домена"** или **"Администраторы предприятия"** . Ниже приведены изменения в поведении этой команды.</br>> 1.  Если домен не указан и конкретный контроллер домена не указан, этот параметр возвращает список контроллеров домена для обработки с контроллера домена по умолчанию.</br>> 2.  Если домен не указан, но указан контроллер домена, создается отчет о сертификатах на указанном контроллере домена.</br>> 3.  Если домен указан, но не указан контроллер домена, то создается список контроллеров домена вместе с отчетами по сертификатам для каждого контроллера домена в списке.</br>> 4.  Если домен и контроллер домена указаны, то на целевом контроллере домена создается список контроллеров домена. Также создается отчет о сертификатах для каждого контроллера домена в списке.

Например, предположим, что существует домен с именем КПАНДЛ и контроллером домена с именем КПАНДЛ-DC1. Можно выполнить следующую команду, чтобы получить список контроллеров домена и их сертификаты из КПАНДЛ-DC1: certutil-DC кпандл-DC1-дЦинфо кпандл

Вернуться в [меню](#menu)

## <a name="-entinfo"></a>-Ентинфо

CertUtil [параметры]-Ентинфо Домаиннаме\мачиненаме $

[-f] [-пользователь]

Вернуться в [меню](#menu)

## <a name="-tcainfo"></a>-Ткаинфо

CertUtil [параметры]-Ткаинфо [Домаиндн |-]

Отображение сведений о ЦС

[-f] [-Enterprise] [-пользователь] [-урлфетч] [-DC DCName] [-t время ожидания]

Вернуться в [меню](#menu)

## <a name="-scinfo"></a>-СЦинфо

CertUtil [параметры]-СЦинфо [Реадернаме [CRYPT_DELETEKEYSET]]

Отображение сведений смарт-карты

CRYPT_DELETEKEYSET: удаление всех ключей на смарт-карте

[-Silent] [-Split] [-урлфетч] [-t время ожидания]

Вернуться в [меню](#menu)

## <a name="-scroots"></a>-Скрутс

CertUtil [параметры]-Скрутс обновление [+] [Инпутрутфиле] [Реадернаме]

CertUtil [параметры]-Скрутс Save \@Аутпутрутфиле [Реадернаме]

CertUtil [параметры] — представление Скрутс [Инпутрутфиле | Реадернаме]

CertUtil [параметры]-Скрутс Delete [Реадернаме]

Управление корневыми сертификатами смарт-карты

[-f] [-Split] [-p пароль]

Вернуться в [меню](#menu)

## <a name="-verifykeys"></a>-верификэйс

CertUtil [параметры]-верификэйс [KeyContainerName Кацертфиле]

Проверка набора открытых и закрытых ключей

KeyContainerName: имя контейнера ключей для проверяемого ключа. По умолчанию используется ключ компьютера.  Используйте параметр-User для пользовательских ключей.

Кацертфиле: файл сертификата для подписи или шифрования

Если аргументы не указаны, то каждый сертификат ЦС для подписи проверяется на соответствие закрытому ключу.

Эта операция может выполняться только с локальным ЦС или локальными ключами.

[-f] [-пользователь] [-Silent] [-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-verify"></a>— Проверка

CertUtil [параметры] — Проверка CertFile [Аппликатионполицилист |-[Иссуанцеполицилист]]

CertUtil [параметры] — Проверка CertFile [Кацертфиле [Кросседкацертфиле]]

CertUtil [параметры]-Verify Крлфиле Кацертфиле [Иссуедцертфиле]

CertUtil [параметры]-Verify Крлфиле Кацертфиле [Делтакрлфиле]

Проверка сертификата, списка отзыва сертификатов или цепочки

CertFile: сертификат для проверки

Аппликатионполицилист: необязательный список обязательных идентификаторов политик приложений, разделенных запятыми

Иссуанцеполицилист: необязательный список идентификаторов ObjectId политики выдачи, разделенных запятыми

Кацертфиле: необязательный сертификат выдающего ЦС для проверки

Кросседкацертфиле: необязательный сертификат, перекрестно сертифицированный CertFile

Крлфиле: список отзыва сертификатов для проверки

Иссуедцертфиле: необязательный выданный сертификат, охваченный Крлфиле

Делтакрлфиле: необязательный разностный CRL

Если указан параметр Аппликатионполицилист, построение цепочки ограничивается цепочкой, допустимой для указанных политик приложений.

Если указан параметр Иссуанцеполицилист, построение цепочки ограничивается цепочкой, допустимой для указанных политик выдачи.

Если указан Кацертфиле, то поля в Кацертфиле проверяются по CertFile или Крлфиле.

Если Кацертфиле не указан, то для сборки и проверки полной цепочки используется CertFile.

Если указаны значения Кацертфиле и Кросседкацертфиле, то поля в Кацертфиле и Кросседкацертфиле проверяются по CertFile.

Если указан Иссуедцертфиле, то поля в Иссуедцертфиле проверяются относительно Крлфиле.

Если указан Делтакрлфиле, то поля в Делтакрлфиле проверяются относительно Крлфиле.

[-f] [-Enterprise] [-пользователь] [-Silent] [-Split] [-урлфетч] [-t время ожидания]

Вернуться в [меню](#menu)

## <a name="-verifyctl"></a>-Верификтл

CertUtil [параметры]-Верификтл Ктлобжект [Цертдир] [CertFile]

Проверить CTL Аусрут или запрещенных сертификатов

Ктлобжект: идентифицирует список проверяемых сертификатов:

- Аусрутву: чтение CAB-файла Аусрут и сопоставление сертификатов из кэша URL. Вместо этого используйте-f для скачивания из Центр обновления Windows.
- Дисалловедву: чтение CAB-файла запрещенных сертификатов и неразрешенный файл хранилища сертификатов из кэша URL.  Вместо этого используйте-f для скачивания из Центр обновления Windows.
- Аусрут: Прочитайте реестр в кэше Аусрут CTL.  Используйте с параметром-f и CertFile, который не является доверенным для принудительного обновления кэшированных Аусрут и сертификатов CTL.
- Запрещено: Прочтите список неразрешенных сертификатов в кэше реестра. -f имеет то же поведение, что и Аусрут.
- Ктлфиленаме: File или http: path to CTL или CAB

Цертдир: папка, содержащая сертификаты, соответствующие записям CTL. Путь к папке http: должен заканчиваться разделителем пути. Если папка не указана с помощью Аусрут или запрещена, будет выполнен поиск соответствующих сертификатов в нескольких расположениях: локальные хранилища сертификатов, ресурсы Crypt32. dll и локальный кэш URL. При необходимости используйте-f для скачивания из Центр обновления Windows. В противном случае по умолчанию используется та же папка или веб-сайт, что и Ктлобжект.

CertFile: файл, содержащий сертификаты для проверки. Сертификаты будут сопоставлены с записями CTL и отображать результаты поиска. Подавляет большую часть выходных данных по умолчанию.

[-f] [-пользователь] [-Split]

Вернуться в [меню](#menu)

## <a name="-sign"></a>-Sign

CertUtil [параметры]-Sign Инфилелист | SerialNumber | CRL Аутфилелист [StartDate + ДД: ЧЧ] [+ Сериалнумберлист |-Сериалнумберлист |-Обжектидлист | \@Екстенсионфиле]

CertUtil [параметры]-Sign Инфилелист | SerialNumber | CRL Аутфилелист [#HashAlgorithm] [+ Алтернатесигнатуреалгорисм |-Алтернатесигнатуреалгорисм]

Повторно подписывать CRL или сертификат

Инфилелист: список сертификатов или файлов CRL, разделенных запятыми, для изменения и повторного подписания

SerialNumber: серийный номер создаваемого сертификата. Срок действия и другие параметры не должны присутствовать.

CRL: создание пустого списка отзыва сертификатов. Срок действия и другие параметры не должны присутствовать.

Аутфилелист: разделенный запятыми список измененных сертификатов или выходных файлов CRL. Число файлов должно совпадать с Инфилелист.

StartDate + ДД: чч: новый период действия: необязательная дата плюс; необязательные дни и часы периода действия; Если указаны оба значения, используйте разделитель знака плюса (+). Используйте "Now [+ дд: ЧЧ]", чтобы начать с текущего времени. Используйте параметр "никогда", чтобы не иметь даты окончания срока действия (только для списков отзыва сертификатов).

Сериалнумберлист: список серийных номеров, разделенных запятыми, для добавления или удаления

Обжектидлист: список ObjectId расширения, разделенный запятыми, для удаления

\@Екстенсионфиле: INF-файл, содержащий расширения для обновления или удаления:

```
[Extensions]
     2.5.29.31 = ; Remove CRL Distribution Points extension
     2.5.29.15 = "{hex}" ; Update Key Usage extension
     _continue_="03 02 01 86"
```

HashAlgorithm: имя хэш-алгоритма, перед которым следует знак #

Алтернатесигнатуреалгорисм: описатель альтернативного алгоритма подписи

Знак «минус» приводит к удалению серийных номеров и расширений. Знак «плюс» вызывает добавление серийных номеров в список отзыва сертификатов. При удалении элементов из списка отзыва сертификатов список может содержать как серийные номера, так и идентификаторы объектов. Знак минус перед Алтернатесигнатуреалгорисм приводит к тому, что используется устаревший формат подписи. Знак плюс перед Алтернатесигнатуреалгорисм приводит к тому, что используется формат подписи алтернатуре. Если Алтернатесигнатуреалгорисм не указан, используется формат подписи сертификата или списка отзыва сертификатов.

[-нуллсигн] [-f] [-Silent] [-CERT CertId]

Вернуться в [меню](#menu)

## <a name="-vroot"></a>— vroot

CertUtil [параметры]-vroot [удаление]

Создание и удаление виртуальных корней веб-сайта и файловых ресурсов

Вернуться в [меню](#menu)

## <a name="-vocsproot"></a>-вокспрут

CertUtil [параметры]-вокспрут [удаление]

Создание или удаление виртуальных корневых каталогов для веб-прокси OCSP

Вернуться в [меню](#menu)

## <a name="-addenrollmentserver"></a>-Адденроллментсервер

CertUtil [параметры]-Адденроллментсервер Kerberos | Имя пользователя | ClientCertificate [Алловреневалсонли] [Алловкэйбаседреневал]

Добавление приложения сервера регистрации

При необходимости добавьте приложение сервера регистрации и пул приложений для указанного ЦС. Эта команда не устанавливает двоичные файлы и пакеты. Один из следующих методов проверки подлинности, с которыми клиент подключается к серверу регистрации сертификатов.

- Kerberos: использование учетных данных Kerberos SSL
- Имя пользователя: используйте именованную учетную запись для учетных данных SSL.
- ClientCertificate: использование учетных данных SSL сертификата X. 509
- Алловреневалсонли: с помощью этого URL-адреса можно отправить в этот ЦС только запросы на продление
- Алловкэйбаседреневал — разрешает использовать сертификат, который не имеет связанной учетной записи в Active Directory. Это относится только к режимам ClientCertificate и Алловреневалсонли.

[-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-deleteenrollmentserver"></a>-Делетинроллментсервер

CertUtil [параметры]-Делетинроллментсервер Kerberos | Имя пользователя | ClientCertificate

Удаление приложения сервера регистрации

При необходимости удалите приложение сервера регистрации и пул приложений для указанного ЦС. Эта команда не удаляет двоичные файлы или пакеты. Один из следующих методов проверки подлинности, с которыми клиент подключается к серверу регистрации сертификатов.

1. Kerberos: использование учетных данных Kerberos SSL
2. Имя пользователя: используйте именованную учетную запись для учетных данных SSL.
3. ClientCertificate: использование учетных данных SSL сертификата X. 509

[-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-addpolicyserver"></a>-Аддполицисервер

CertUtil [параметры]-Аддполицисервер Kerberos | Имя пользователя | ClientCertificate [Кэйбаседреневал]

Добавление приложения сервера политики

При необходимости добавьте приложение сервера политики и пул приложений. Эта команда не устанавливает двоичные файлы и пакеты. Один из следующих методов проверки подлинности, с которыми клиент подключается к серверу политики сертификатов:

- Kerberos: использование учетных данных Kerberos SSL
- Имя пользователя: используйте именованную учетную запись для учетных данных SSL.
- ClientCertificate: использование учетных данных SSL сертификата X. 509
- Кэйбаседреневал: клиенту возвращаются только политики, содержащие шаблоны Кэйбаседреневал. Этот флаг применяется только для проверки подлинности UserName и ClientCertificate.

Вернуться в [меню](#menu)

## <a name="-deletepolicyserver"></a>-Делетеполицисервер

CertUtil [параметры]-Делетеполицисервер Kerberos | Имя пользователя | ClientCertificate [Кэйбаседреневал]

Удаление приложения сервера политики

При необходимости удалите приложение сервера политики и пул приложений. Эта команда не удаляет двоичные файлы или пакеты. Один из следующих методов проверки подлинности, с которыми клиент подключается к серверу политики сертификатов:

1. Kerberos: использование учетных данных Kerberos SSL
2. Имя пользователя: используйте именованную учетную запись для учетных данных SSL.
3. ClientCertificate: использование учетных данных SSL сертификата X. 509
4. Кэйбаседреневал: сервер политики Кэйбаседреневал

Вернуться в [меню](#menu)

## <a name="-oid"></a>-OID

CertUtil [параметры]-OID ObjectId [DisplayName | Delete [LanguageId [тип]]]

CertUtil [параметры]-OID GroupId

CertUtil [параметры]-OID Алгид | AlgorithmName [GroupId]

Отобразить ObjectId или задать отображаемое имя

- ObjectId--ObjectId для вывода или для добавления отображаемого имени
- GroupId — число с десятичным номером GroupId для перечисления ObjectIds
- Алгид--шестнадцатеричный Алгид для поиска ObjectId
- AlgorithmName--имя алгоритма для поиска ObjectId
- DisplayName--отображаемое имя для хранения в DS
- Delete--удалить отображаемое имя
- LanguageId — идентификатор языка (по умолчанию: 1033)
- Тип — тип создаваемого объекта DS: 1 для шаблона (по умолчанию), 2 для политики выдачи, 3 для политики приложения
- Используйте-f для создания объекта DS.

[-f]

Вернуться в [меню](#menu)

## <a name="-error"></a>-Ошибка

CertUtil [параметры]-ошибка ErrorCode

Отображение текста сообщения об ошибке

Вернуться в [меню](#menu)

## <a name="-getreg"></a>-жетрег

CertUtil [параметры]-жетрег [{CA | Restore | Policy | Exit | шаблон | регистрация | цепочка | Полицисерверс}\[ProgId\]] [Регистривалуенаме]

Отобразить значение реестра

CA: Использование раздела реестра ЦС

восстановление: Использование раздела реестра для восстановления ЦС

Политика: Использование раздела реестра модуля политики

выход: Используйте раздел реестра для первого модуля выхода

шаблон: Используйте раздел реестра шаблона (используйте параметр-User для шаблонов пользователя).

Регистрация: Используйте раздел реестра регистрации (используйте параметр-User для контекста пользователя).

цепочка: Использование раздела реестра конфигурации цепочки

Полицисерверс: Использование раздела реестра для серверов политик

ProgId: использовать идентификатор ProgId модуля политики или выхода (имя подраздела реестра)

Регистривалуенаме: имя значения реестра (используйте "имя\*" для сопоставления префикса)

Значение: новое числовое значение, строка или Дата реестра или имя файла. Если числовое значение начинается с "+" или "-", биты, указанные в новом значении, задаются или очищаются в существующем значении реестра.

Если строковое значение начинается с "+" или "-", а существующее значение является REG_MULTI_SZ значением, строка добавляется в существующее значение реестра или удаляется из него. Чтобы принудительно создать REG_MULTI_SZ значение, добавьте "\n" в конец строкового значения.

Если значение начинается с "\@", остальная часть значения представляет собой имя файла, содержащего шестнадцатеричное текстовое представление двоичного значения. Если он не ссылается на допустимый файл, то он анализируется как [DATE] [+ |-] [дд: ЧЧ] — дополнительная дата плюс или минус необязательные дни и часы. Если указаны оба значения, используйте знак плюса (+) или знак минуса (-). Используйте "Now + DD: HH" для даты относительно текущего времени.

Используйте "Чаин\чаинкачересинкфилетиме \@Now" для эффективного сброса кэшированных списков отзыва сертификатов.

[-f] [-пользователь] [-GroupPolicy] [-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-setreg"></a>-Setreg

CertUtil [параметры]-Setreg [{ЦС | восстановление | политика | выход | шаблон | регистрация | цепочка | Полицисерверс}\[ProgId\]] значение Регистривалуенаме

Задать значение реестра

CA: Использование раздела реестра ЦС

восстановление: Использование раздела реестра для восстановления ЦС

Политика: Использование раздела реестра модуля политики

выход: Используйте раздел реестра для первого модуля выхода

шаблон: Используйте раздел реестра шаблона (используйте параметр-User для шаблонов пользователя).

Регистрация: Используйте раздел реестра регистрации (используйте параметр-User для контекста пользователя).

цепочка: Использование раздела реестра конфигурации цепочки

Полицисерверс: Использование раздела реестра для серверов политик

ProgId: использовать идентификатор ProgId модуля политики или выхода (имя подраздела реестра)

Регистривалуенаме: имя значения реестра (используйте "имя\*" для сопоставления префикса)

Значение: новое числовое значение, строка или Дата реестра или имя файла. Если числовое значение начинается с "+" или "-", биты, указанные в новом значении, задаются или очищаются в существующем значении реестра.

Если строковое значение начинается с "+" или "-", а существующее значение является REG_MULTI_SZ значением, строка добавляется в существующее значение реестра или удаляется из него. Чтобы принудительно создать REG_MULTI_SZ значение, добавьте "\n" в конец строкового значения.

Если значение начинается с "\@", остальная часть значения представляет собой имя файла, содержащего шестнадцатеричное текстовое представление двоичного значения. Если он не ссылается на допустимый файл, то он анализируется как [DATE] [+ |-] [дд: ЧЧ] — дополнительная дата плюс или минус необязательные дни и часы. Если указаны оба значения, используйте знак плюса (+) или знак минуса (-). Используйте "Now + DD: HH" для даты относительно текущего времени.

Используйте "Чаин\чаинкачересинкфилетиме \@Now" для эффективного сброса кэшированных списков отзыва сертификатов.

[-f] [-пользователь] [-GroupPolicy] [-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-delreg"></a>-делрег

CertUtil [параметры]-делрег [{CA | Restore | Policy | Exit | шаблон | регистрация | цепочка | Полицисерверс}\[ProgId\]] [Регистривалуенаме]

Удалить значение реестра

CA: Использование раздела реестра ЦС

восстановление: Использование раздела реестра для восстановления ЦС

Политика: Использование раздела реестра модуля политики

выход: Используйте раздел реестра для первого модуля выхода

шаблон: Используйте раздел реестра шаблона (используйте параметр-User для шаблонов пользователя).

Регистрация: Используйте раздел реестра регистрации (используйте параметр-User для контекста пользователя).

цепочка: Использование раздела реестра конфигурации цепочки

Полицисерверс: Использование раздела реестра для серверов политик

ProgId: использовать идентификатор ProgId модуля политики или выхода (имя подраздела реестра)

Регистривалуенаме: имя значения реестра (используйте "имя\*" для сопоставления префикса)

Значение: новое числовое значение, строка или Дата реестра или имя файла. Если числовое значение начинается с "+" или "-", биты, указанные в новом значении, задаются или очищаются в существующем значении реестра.

Если строковое значение начинается с "+" или "-", а существующее значение является REG_MULTI_SZ значением, строка добавляется в существующее значение реестра или удаляется из него. Чтобы принудительно создать REG_MULTI_SZ значение, добавьте "\n" в конец строкового значения.

Если значение начинается с "\@", остальная часть значения представляет собой имя файла, содержащего шестнадцатеричное текстовое представление двоичного значения. Если он не ссылается на допустимый файл, то он анализируется как [DATE] [+ |-] [дд: ЧЧ] — дополнительная дата плюс или минус необязательные дни и часы. Если указаны оба значения, используйте знак плюса (+) или знак минуса (-). Используйте "Now + DD: HH" для даты относительно текущего времени.

Используйте "Чаин\чаинкачересинкфилетиме \@Now" для эффективного сброса кэшированных списков отзыва сертификатов.

[-f] [-пользователь] [-GroupPolicy] [-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-importkms"></a>-Импорткмс

CertUtil [параметры]-Импорткмс Усеркэйандцертфиле [CertId]

Импорт ключей пользователей и сертификатов в базу данных сервера для архивирования ключей

Усеркэйандцертфиле — файл данных, содержащий закрытые ключи пользователей и сертификаты для архивации.  Это может быть любой из следующих элементов:

- Файл экспорта сервера управления ключами Exchange (KMS)
- PFX-файл

CertId: маркер сопоставления сертификата для расшифровки файла службы KMS.  См. раздел [-Store](#-store).

Используйте-f для импорта сертификатов, не выданных ЦС.

[-f] [-Silent] [-Split] [-config Мачине\канаме] [-p пароль] [-симкэйалг Симметриккэйалгорисм [, KeyLength]]

Вернуться в [меню](#menu)

## <a name="-importcert"></a>-Импортцерт

CertUtil [параметры]-Импортцерт CertFile [Ексистингров]

Импорт файла сертификата в базу данных

Используйте Ексистингров, чтобы импортировать сертификат вместо ожидающего запроса для того же ключа.

Используйте-f для импорта сертификатов, не выданных ЦС.

Также может потребоваться настроить ЦС для поддержки импорта внешних сертификатов: certutil-Setreg Ка\крафлагс + KRAF_ENABLEFOREIGN

[-f] [-config Мачине\канаме]

Вернуться в [меню](#menu)

## <a name="-getkey"></a>-GetKey

CertUtil [параметры]-GetKey Сеарчтокен [Рековериблобаутфиле]

CertUtil [параметры]-GetKey Сеарчтокен Script OutputScriptFile

CertUtil [параметры]-GetKey Сеарчтокен извлечение | восстановить Аутпутфилебасенаме

Получение архивного большого двоичного объекта восстановления закрытого ключа, создание скрипта восстановления или Восстановление архивированных ключей

Скрипт: Создание скрипта для получения и восстановления ключей (поведение по умолчанию при обнаружении нескольких совпадающих кандидатов восстановления или если выходной файл не указан).

Извлечение: извлечение одного или нескольких больших двоичных объектов восстановления (поведение по умолчанию, если найден только один подходящий кандидат для восстановления и если указан выходной файл)

восстановление: получение и восстановление закрытых ключей за один шаг (требуются сертификаты агента восстановления ключей и закрытые ключи)

Сеарчтокен: используется для выбора ключей и сертификатов для восстановления.

Одна из следующих:

1. Общее имя сертификата
2. Серийный номер сертификата
3. Хэш SHA-1 сертификата (отпечаток)
4. Хэш SHA-1 сертификата KeyId (идентификатор ключа субъекта)
5. Имя запросившего (домен \ пользователь)
6. UPN (домен\@пользователя)

Рековериблобаутфиле: выходной файл, содержащий цепочку сертификатов и связанный закрытый ключ, которые по-прежнему шифруются для одного или нескольких сертификатов агента восстановления ключей.

OutputScriptFile: выходной файл, содержащий пакетный сценарий для извлечения и восстановления закрытых ключей.

Аутпутфилебасенаме: базовое имя выходного файла. Для получения все расширения усекаются, а строка, относящаяся к сертификату, и расширение REC добавляются для каждого большого двоичного объекта восстановления ключа.  Каждый файл содержит цепочку сертификатов и связанный закрытый ключ, которые по-прежнему шифруются для одного или нескольких сертификатов агента восстановления ключей. Для восстановления любое расширение усекается и добавляется расширение. p12.  Содержит восстановленные цепочки сертификатов и связанные закрытые ключи, сохраненные в виде PFX-файла.

[-f] [-Уникодетекст] [-Silent] [-config Мачине\канаме] [-p пароль] [-Протектто Самнамеандсидлист] [-поставщик CSP]

Вернуться в [меню](#menu)

## <a name="-recoverkey"></a>-Рековеркэй

CertUtil [параметры]-Рековеркэй Рековериблобинфиле [Пфксаутфиле [РеЦипиентиндекс]]

Восстановление архивированного закрытого ключа

[-f] [-пользователь] [-Silent] [-Split] [-p пароль] [-Протектто Самнамеандсидлист] [-поставщик CSP] [-t время ожидания]

Вернуться в [меню](#menu)

## <a name="-mergepfx"></a>-Мержепфкс

CertUtil [параметры]-Мержепфкс Пфксинфилелист Пфксаутфиле [расширенных свойств]

Пфксинфилелист: список входных файлов PFX с разделителями-запятыми

Пфксаутфиле: выходной файл PFX

Расширенных свойств: Включение расширенных свойств

Пароль, указанный в командной строке, представляет собой список паролей с разделителями-запятыми.  Если указано более одного пароля, для выходного файла используется последний пароль.  Если указан только один пароль или последний пароль имеет значение "\*", пользователю будет предложено ввести пароль для выходного файла.

[-f] [-пользователь] [-Split] [-p пароль] [-Протектто Самнамеандсидлист] [-поставщик CSP]

Вернуться в [меню](#menu)

## <a name="-convertepf"></a>-Конвертепф

CertUtil [параметры]-Конвертепф Пфксинфилелист Епфаутфиле [CAST | CAST-] [V3CACertId] [, соль]

Преобразование PFX-файлов в EPF-файл

Пфксинфилелист: список входных файлов PFX с разделителями-запятыми

EPF: выходной файл EPF

приведение: использование шифрования с приведением 64

приведение: использование шифрования 64 (экспорт)

V3CACertId: V3 маркер соответствия сертификата ЦС.  См. раздел [-Store](#-store) CertId Description.

Соль: строка соли для выходного файла EPF

Пароль, указанный в командной строке, представляет собой список паролей с разделителями-запятыми. Если указано более одного пароля, для выходного файла используется последний пароль.  Если указан только один пароль или последний пароль имеет значение "\*", пользователю будет предложено ввести пароль для выходного файла.

[-f] [-Silent] [-Split] [-DC DCName] [-p пароль] [-поставщик CSP]

Вернуться в [меню](#menu)

## <a name="options"></a>Параметры

В этом разделе определяются параметры, которые можно указать с помощью команды.

|Параметры|Описание|
|-------|-----------|
|-нуллсигн|Использовать хэш данных в качестве подписи|
|-f|Принудительная перезапись|
|-enterprise|Использовать хранилище сертификатов реестра предприятия для локального компьютера|
|пользователь|Использование ключей HKEY_CURRENT_USER или хранилища сертификатов|
|-GroupPolicy|Использовать хранилище сертификатов групповая политика|
|-UT|Отображение пользовательских шаблонов|
|-MT|Отображение шаблонов компьютеров|
|— Юникод|Запись перенаправленных выходных данных в Юникоде|
|-Уникодетекст|Записать выходной файл в Юникоде|
|-GMT|Отображать время по ГРИНВИЧу|
|-секунд|Время показа с секундами и миллисекундами|
|— без уведомления|Использовать флаг молчания для получения контекста шифрования|
|-Split|Разбиение внедренных элементов ASN. 1 и сохранение в файлах|
|-v|Подробная операция|
|-privateKey|Отображение данных пароля и закрытого ключа|
|-закрепить ПИН-код|Закрепление смарт-карты|
|-урлфетч|Получение и проверка сертификатов AIA и сертификатов CDP|
|-config Мачине\канаме|Имя ЦС и строка имени компьютера|
|-Полицисервер Урлорид|URL-адрес или идентификатор сервера политики. Для выбора U/I используйте параметр-Полицисервер. Для всех серверов политики используйте параметр-Полицисервер \*|
|— Анонимный|Использовать анонимные учетные данные SSL|
|— Kerberos|Использовать учетные данные Kerberos SSL|
|-ClientCertificate Клиентцертид|Используйте учетные данные SSL сертификата X. 509. Для выбора U/I используйте параметр-clientCertificate.|
|-UserName имя_пользователя|Использовать именованную учетную запись для SSL-учетных данных. Для выбора U/I используйте параметр-UserName.|
|-CERT CertId|Сертификат подписи|
|-DC DCName|Назначение определенного контроллера домена|
|— ограничить RestrictionList|Список ограничений, разделенных запятыми. Каждое ограничение состоит из имени столбца, реляционного оператора и постоянного целого числа, строки или даты. Одному имени столбца может предшествовать знак плюс или минус, чтобы указать порядок сортировки. Примеры</br>"RequestId = 47"</br>"+ Рекуестернаме > = a, Рекуестернаме < b"</br>"-Рекуестернаме > DOMAIN, Disposition = 21"|
|-out Колумнлист|Список столбцов, разделенных запятыми|
|-p пароль|Пароль|
|-Протектто Самнамеандсидлист|Список SAM с разделителями-запятыми/имя SID|
|— Поставщик CSP|Поставщик|
|-t время ожидания|Время ожидания выборки URL-адреса в миллисекундах|
|-симкэйалг Симметриккэйалгорисм [, KeyLength]|Имя алгоритма симметричного ключа с дополнительной длиной ключа, пример: AES, 128 или 3DES|

Вернуться в [меню](#menu)

## <a name="additional-certutil-examples"></a>Дополнительные примеры certutil

Некоторые примеры использования этой команды см. в разделе.

1. [Примеры Certutil для управления службами сертификатов Active Directory (AD CS) из командной строки](https://social.technet.microsoft.com/wiki/contents/articles/3063.certutil-examples-for-managing-active-directory-certificate-services-ad-cs-from-the-command-line.aspx)
2. [Задачи Certutil для управления сертификатами](https://technet.microsoft.com/library/cc772898.aspx)
3. [Экспорт двоичных запросов с помощью программы командной строки CertUtil. exe](https://social.technet.microsoft.com/wiki/contents/articles/7573.active-directory-certificate-services-pki-key-archival-and-management.aspx)
4. [Продление сертификата корневого ЦС](https://social.technet.microsoft.com/wiki/contents/articles/2016.root-ca-certificate-renewal.aspx)
5. [Служеб](https://msdn.microsoft.com/subscriptions/cc773087.aspx)

Вернуться в [меню](#menu)
