---
title: nfsadmin
description: 'Раздел Windows команды для ***- '
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 7375b2cf-c6b8-45b5-abf6-6c10e462defd
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: 955f6d93379802444d542ea571f98b69b9191f5c
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59837115"
---
# <a name="nfsadmin"></a>nfsadmin

>Область применения. Windows Server (полугодовой канал), Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Можно использовать **nfsadmin** для управления сервером для NFS и клиента для NFS.  
  
## <a name="syntax"></a>Синтаксис  
**nfsadmin server** `[` *computerName*`] [`\-u *UserName*`[`\-p *пароль* `]]` \-l  
  
**nfsadmin server** `[` *computerName*`] [`\-u *UserName* `[` \-p *пароль* `]]` \-r `{` *клиента* `|` все`}`  
  
**nfsadmin server** `[` *computerName*`] [`\-u *UserName* `[` \-p *пароль* `]] {`запустить `|` остановить`}`  
  
**nfsadmin server** `[` *computerName*`] [`\-u *UserName* `[` \-p *пароль* `]]` config *параметр*`[...]`  
  
**nfsadmin server** `[` *computerName*`] [`\-u *UserName* `[` \-p *пароль* `]]` creategroup *имя*  
  
**nfsadmin server** `[` *computerName*`] [`\-u *UserName* `[` \-p *пароль* `]]` listgroups  
  
**nfsadmin server** `[` *computerName*`] [`\-u *UserName* `[` \-p *пароль* `]]` дожидаясь, пока *имя*  
  
**nfsadmin server** `[` *computerName*`] [`\-u *UserName* `[` \-p *пароль* `]]` renamegroup *OldName NewName*  
  
**nfsadmin server** `[` *computerName*`] [`\-u *UserName* `[` \-p *пароль* `]]` addmembers *имя узла*`[...]`  
  
**nfsadmin server** `[` *computerName*`] [`\-u *UserName* `[` \-p *пароль* `]]` listmembers  
  
**nfsadmin server** `[` *computerName*`] [`\-u *UserName* `[` \-p *пароль* `]]` deletemembers *узле группы*`[...]`  
  
**NFSAdmin клиента** `[` *computerName*`] [`\-u *UserName* `[` \-p *пароль* `]] {`запустить `|` остановить`}`  
  
**NFSAdmin клиента** `[` *computerName*`] [`\-u *UserName* `[` \-p *пароль* `]]` config *параметр*`[...]`  
  
## <a name="description"></a>Описание  
**Nfsadmin** команда\-служебную программу строки предназначена для администрирования сервера для NFS или клиент для NFS на локальном или удаленном компьютере со службами Майкрософт для сетевой файловой системы \(NFS\). Если вы вошли под учетной записью, не имеет необходимых привилегий, можно указать имя пользователя и пароль учетной записи с нужными. Операции, выполненной программой **nfsadmin** зависит от аргументов командной строки, которое вы указали.  
  
В дополнение к службе\-определенной команде аргументы и параметры, **nfsadmin** принимает следующее:  
  
*ComputerName*  
Указывает удаленный компьютер, которым требуется управлять. Можно указать компьютер, с помощью Windows Internet Name Service \(WINS\) имя или доменных имен \(DNS\) имя, или Интернет-протокол \(IP-адрес\) адрес.  
  
**\-u** *имя пользователя*  
Указывает имя пользователя, учетные данные которого будут использоваться. Возможно, необходимо добавить имя домена имя пользователя в форме *домена***\\***имя пользователя*  
  
**\-p** *пароль*  
Указывает пароль для пользователя, указанного с помощью  **\-u** параметр. Если указать  **\-u** параметр, но не указывается  **\-p** параметр запросит пароль пользователя.  
  
#### <a name="administering-server-for-nfs"></a>Администрирование сервера для NFS  
Используйте **nfsadmin server** команды для администрирования сервера для NFS. Определенное действие, **nfsadmin server** зависит от параметра команды или аргумента:  
  
**\-l**  
Перечисляет все блокировки, удерживаемые клиентов.  
  
**\-r** {*клиента* | **все**}  
Освобождает блокировки, удерживаемые *клиента* или, если **все** указан, используется всеми клиентами.  
  
**Запуск**  
запускает сервер для NFS.  
  
**Остановить**  
Останавливает сервер для NFS.  
  
**конфигурации**  
Задает Общие параметры для сервера для NFS. Необходимо указать хотя бы один из следующих вариантов с **config** аргумент команды:  
  
**mapsvr\=*** сервера*  
Наборы *server* как сервер сопоставления имен пользователей для сервера для NFS. Несмотря на то, что эта функция будет поддерживаться для совместимости с предыдущими версиями, следует использовать **sfuadmin** программа вместо этого.  
  
**auditlocation\=**{**eventlog** | **файл** | **оба** | **none** }  
Указывает, будет ли выполняться аудит событий и регистрируются события. Один из следующих аргументов является обязательным.  
  
**Журнал событий**  
Указывает, что подвергшиеся аудиту события записываются только для событий журнала приложения для просмотра.  
  
**Файл**  
Указывает, что подвергшиеся аудиту события записываются только в файл, указанный параметром **config fname**.  
  
**Оба**  
Указывает, что подвергшиеся аудиту события записываются в журнал событий приложений, а также файл, указанный параметром **config fname**.  
  
**Нет**  
Указывает, что события не будет выполняться аудит.  
  
**fname\=*** файла*  
Задает файл, указанный параметром *файл* как файл аудита. Значение по умолчанию — % sfudir %\\журнала\\nfssvr.log  
  
**fsize\=**\=*размер*  
Наборы *размер* как максимальный размер файла аудита в мегабайтах. Максимальный размер по умолчанию — 7 МБ.  
  
**Аудит\=**\[**\+**|**\-**\]**подключить** \[ **\+** | **\-** \] **чтение** \[ **\+** | **\-** \] **записи** \[ **\+** | **\-** \] **создать** \[ **\+** | **\-** \] **удалить** \[ **\+** | **\-** \] **блокировки** \[ **\+** | **\-** \] **все**  
Указывает события в журнал. Чтобы начать, записи в журнал события, введите знак плюс \( **\+** \) перед именем события; остановка записи в журнал события, введите знак минус \( **\-** \) перед именем события. Если знак указан, подразумевается знак «плюс». Не используйте **все** с именами других событий.  
  
**lockperiod\=*** секунд*  
Указывает количество секунд, которые сервер для NFS будет ожидать освобождения блокировки, после того как соединение с сервером для NFS потеряна и затем заново или после перезапуска сервера для NFS.  
  
Portmapprotocol\={TCP | UDP | TCP\+UDP  
Указывает, какие протоколы транспорта поддерживает сопоставления портов. Значение по умолчанию — **TCP\+UDP**.  
  
mountprotocol\={TCP | UDP | TCP\+UDP}  
Указывает, какой транспорт протоколы подключения поддерживает. Значение по умолчанию — **TCP\+UDP**.  
  
nfsprotocol\={TCP | UDP | TCP\+UDP}  
Указывает, какой транспорт протоколов сетевой файловой системы \(NFS\) поддерживает. Значение по умолчанию — **TCP\+UDP**  
  
nlmprotocol\={TCP | UDP | TCP\+UDP}  
Указывает, какой транспорт протоколов, диспетчер блокировок сети \(NLM\) поддерживает. Значение по умолчанию — **TCP\+UDP**.  
  
nsmprotocol\={TCP | UDP | TCP\+UDP}  
Указывает, какой транспорт протоколы диспетчер состояния сети \(NSM\) поддерживает. Значение по умолчанию — **TCP\+UDP**.  
  
**enableV3\=**{**Да** | **не**}  
Указывает, будет ли поддерживаться протоколы NFS версии 3. Значение по умолчанию — **Да**.  
  
**renewauth\=**{**Да** | **не**}  
Указывает ли клиентских подключений, должны будут пройти повторную проверку подлинности, после периода, заданного свойствами **config renewauthinterval**. Значение по умолчанию — **не**.  
  
**renewauthinterval\=*** секунд*  
Указывает количество секунд, пройти, прежде чем клиент вынужден пройти повторную проверку подлинности, если **config renewauth** присваивается **Да**. Значение по умолчанию — 600 секунд.  
  
**dircache\=*** размер*  
Указывает размер в килобайтах, каталога кэша. Число, указанное в качестве *размер* должно быть кратным 4 от 4 до 128. Каталог по умолчанию\-размер кэша — 128 КБ.  
  
**translationfile**\=\[файла\]  
Указывает файл, содержащий сведения о сопоставлении для замены символов в именах файлов, при их перемещении из Windows\-зависимости для UNIX\-на основе файловых систем. Если *файл* не указано, программа преобразования знаков имен файлов отключена. Если значение **translationfile** будет изменен, необходимо перезапустить сервер, чтобы изменения вступили в силу.  
  
**dotfileshidden**\={**Да** | **не**}  
Указывает, будут ли файлы, созданные, имена которых начинаются с периодом \(.\) будут отмечены как скрытые, в файловой системе Windows и поэтому скрыты от NFS-клиенты. Значение по умолчанию — **не**.  
  
**casesensitivelookups\=**{**Да** | **не**}  
Указывает, будет ли поиск в каталоге с учетом регистра \(необходимости точного сопоставления символов случая\).  
  
Необходимо также отключить случай ядра Windows\-учет регистра в порядке для сервера для NFS для поддержки случай\-имена конфиденциальных файлов. Вы можете отключить случай ядра Windows\-учет регистра, сняв следующий раздел реестра значение 0:  
  
HKLM\\системы\\CurrentControlSet\\управления\\Диспетчер сеансов\\ядра  
  
DWOrd obcaseinsensitive   
  
> [!IMPORTANT]  
> Этот раздел относится только к Windows Server 2008 R2, Windows Server 2008 и Windows Server 2003. Этот раздел не относится к Windows Server 2012 R2 или Windows Server 2012.  
  
**ntfscase\=**{**нижней** | **верхний** | **Сохранить**}  
Указывает, возвращаются ли регистр знаков в имена файлов в файловой системе NTFS в нижнем регистре, верхнем регистре, или в форме, сохраненные в каталоге. Значение по умолчанию — **Сохранить**. Этот параметр нельзя изменить, если **casesensitivelookups** присваивается **Да**.  
  
**CreateGroup** *имя*  
Создает новую группу клиента, задав для него указанный *имя*.  
  
**listgroups**  
Отображает имена всех групп клиентов.  
  
**дожидаясь, пока** *имя*  
Удаляет группу клиента, заданную *имя*.  
  
**renamegroup** *OldName NewName*  
Изменяет имя группы клиентов, определяемое *OldName* для *NewName*  
  
**addmembers** *имя узла*\[...\]  
Добавляет *узла* клиента группе, указанной параметром *имя*.  
  
**listmembers** *имя*  
список компьютеров в группе, клиент, указанной параметром *имя*.  
  
**deletemembers** *узле группы*\[...\]  
Удаляет заданные клиент *узла* из группы клиентов, определяемое *группы*.  
  
Если вы не укажете параметр команды или аргумент, **nfsadmin server** отображает текущий сервер для NFS параметров конфигурации.  
  
#### <a name="administering-client-for-nfs"></a>Администрирование клиента для NFS  
Используйте **клиента nfsadmin** команды для администрирования клиента для NFS. Определенное действие, **клиента nfsadmin** зависит от указанного аргумента команды:  
  
**Запуск**  
запускает клиент для NFS.  
  
**Остановить**  
Останавливает клиент для NFS.  
  
**конфигурации**  
Задает Общие параметры для клиента для NFS. Необходимо указать хотя бы один из следующих вариантов с **config** аргумент команды:  
  
**FileAccess\=*** режим*  
-   Указывает режим разрешений по умолчанию для файлов, создаваемых на сетевой файловой системы \(NFS\) серверов. *Режим* аргумент состоит из трех цифр от 0 до 7 \(включительно\) представляющий разрешения по умолчанию предоставил пользователь, группа и другие \(соответственно\). Цифры преобразуются в UNIX\-стиля разрешений следующим образом: 0\=нет, 1\=x 2\=w, 3\=wx, 4\=r, 5\=rx, 6\=rw и 7\=rwx. Например **fileaccess\=750** предоставляет разрешения rwx владельцу разрешение rx в группу и отсутствует разрешение на доступ другим пользователям.  
  
**mapsvr\=*** сервера*  
Наборы *server* как сервер сопоставления имен пользователей для клиента для NFS. Несмотря на то, что эта функция будет поддерживаться для совместимости с предыдущими версиями, следует использовать **sfuadmin** программа вместо этого.  
  
**mtype\=**{**жестких** | **обратимо**}  
Указывает тип подключения по умолчанию. Для жесткое подключение клиент для NFS продолжает попытки сбой RPC, пока удастся. Мягкое подключение, клиент для NFS возвращает сбой вызывающему приложению после повторной попытки вызова количество раз, заданное параметром **повторите** параметр.  
  
**Повторите\=*** номер*  
Указывает количество повторных попыток подключения для мягкого подключения. Это значение должно быть от 1 до 10 включительно. Значение по умолчанию — 1.  
  
**время ожидания\=*** секунд*  
Указывает количество секунд ожидания для подключения \(удаленного вызова процедур\). Это значение должно быть 0.8, 0.9 или целое число от 1 до 60, включительно. Значение по умолчанию — 0,8.  
  
**Протокол\={TCP | UDP | TCP\+UDP}**  
Указывает, какой транспорт протоколы поддерживает клиента. Значение по умолчанию — **TCP\+UDP**  
  
**rsize\=*** размер*  
Размер в килобайтах, буфера чтения. Это значение может быть 0,5, 1, 2, 4, 8, 16 или 32. Значение по умолчанию — 32.  
  
**wsize\=*** размер*  
Размер в килобайтах, буфера записи. Это значение может быть 0,5, 1, 2, 4, 8, 16 или 32. Значение по умолчанию — 32.  
  
**perf\=по умолчанию**  
Восстанавливает значения по умолчанию следующие параметры производительности:  
  
-   **mtype**  
  
-   **Повторите попытку**  
  
-   **время ожидания**  
  
-   **rsize**  
  
-   **wsize**  
  
**FileAccess\=*** режим*  
Указывает режим разрешений по умолчанию для файлов, создаваемых на сетевой файловой системы \(NFS\) серверов. *Режим* аргумент состоит из трех цифр от 0 до 7 \(включительно\) представляющий разрешения по умолчанию предоставил пользователь, группа и другие \(соответственно\). Цифры преобразуются в UNIX\-стиля разрешений следующим образом: 0\=нет, 1\=x 2\=w, 3\=wx, 4\=r, 5\=rx, 6\=rw и 7\=rwx. Например **fileaccess\=750** предоставляет разрешения rwx владельцу разрешение rx в группу и отсутствует разрешение на доступ другим пользователям.  
  
Если вы не укажете параметр команды или аргумент, **клиента nfsadmin** отображает текущего клиента для NFS параметры конфигурации.  
  

