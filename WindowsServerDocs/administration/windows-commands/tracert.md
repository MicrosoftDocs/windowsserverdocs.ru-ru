---
title: tracert
description: Справочная статья по tracert, которая определяет путь к назначению, путем отправки эхо-запросов протокола ICMP или ICMPv6-сообщений в целевое расположение с добавочным увеличением срока жизни (TTL) значений полей.
ms.topic: reference
ms.assetid: 9032a032-2e5e-49d4-9e86-f821600e4ba6
ms.author: jgerend
author: JasonGerend
manager: mtillman
ms.date: 10/16/2017
ms.openlocfilehash: b6bcb651cbdcb41751c80e40c6b28d4c61116188
ms.sourcegitcommit: db4c35ebe56d561768d2a657da9e6d6a791457bd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/04/2021
ms.locfileid: "101804937"
---
# <a name="tracert"></a>tracert

> Область применения: Windows Server (половина ежегодного канала), Windows Server 2019, Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Это средство диагностики определяет путь, полученный к назначению, отправляя эхо-запрос протокола ICMP или ICMPv6 в назначение с добавочным увеличением срока жизни (TTL) значений полей. Каждый маршрутизатор по пути должен уменьшить срок жизни в пакете IP по меньшей мере до 1 перед его пересылкой. Фактически, TTL является максимальным счетчиком ссылок. Если срок жизни пакета достигнет значения 0, то ожидается, что маршрутизатор вернет сообщение об истечении времени ICMP на исходный компьютер.

Эта команда определяет путь путем отправки первого сообщения эхо-запроса со сроком жизни 1 и приращением TTL на 1 для каждой последующей передачи до тех пор, пока целевой объект не ответит или не будет достигнуто максимальное число прыжков. Максимальное число прыжков равно 30 по умолчанию и может быть указано с помощью параметра **/h** .

Путь определяется путем проверки превышения времени ICMP сообщений, возвращенных промежуточными маршрутизаторами, и сообщения эхо-ответа, возвращаемого назначением. Однако некоторые маршрутизаторы не возвращают сообщения о превышении времени для пакетов с истекшими значениями TTL и невидимы для команды **tracert** . В этом случае `*` для этого прыжка отображается строка звездочек (). Отображаемый путь — это список интерфейсов Ближнего маршрутизатора маршрутизаторов в пути между исходным узлом и назначением. Интерфейс NEAR-Side — это интерфейс маршрутизатора, ближайший к отправляющему узлу в пути.

> [!IMPORTANT]
> Эта команда доступна, только если протокол Internet Protocol (TCP/IP) установлен в качестве компонента в свойствах сетевого адаптера в окне Сетевые подключения.
>
> Для трассировки пути и обеспечения сетевой задержки и потери пакетов для каждого маршрутизатора и ссылки в пути используется команда [pathping](pathping.md) .

## <a name="syntax"></a>Синтаксис

```
tracert [/d] [/h <maximumhops>] [/j <hostlist>] [/w <timeout>] [/R] [/S <srcaddr>] [/4][/6] <targetname>
```

### <a name="parameters"></a>Параметры

| Параметр | Описание |
|--|--|
| /d | Останавливает попытки разрешения IP-адресов промежуточных маршрутизаторов в имена. Это может ускорить возврат результатов. |
| /h `<maximumhops>` | Указывает максимальное число прыжков в пути для поиска целевого объекта (назначение). Значение по умолчанию — 30 прыжков. |
| /j `<hostlist>` | Указывает, что сообщения эхо-запроса используют параметр свободного исходного маршрута в заголовке IP с набором промежуточных назначений, указанных в `<hostlist>` . При свободной маршрутизации последовательные промежуточные назначения могут быть разделены одним или несколькими маршрутизаторами. Максимальное число адресов или имен в списке — *9*. `<hostlist>`Представляет собой последовательность IP-адресов (в точечно-десятичной нотации), разделенных пробелами. Используйте этот параметр только при трассировке IPv4-адресов. |
| /w `<timeout>` | Указывает время в миллисекундах, в течение которого должно ожидаться получение сообщения о превышении времени ICMP или эхо-ответа, соответствующего заданному сообщению запроса эха. Если оно не получено в течение времени ожидания, отображается звездочка ( `*` ). Время ожидания по умолчанию — 4000 (4 секунды). |
| /R | Указывает, что заголовок расширения маршрутизации IPv6 используется для отправки сообщения эхо-запроса на локальный узел с использованием назначения в качестве промежуточного назначения и проверки обратного маршрута. |
| Ключ `<srcaddr>` | Указывает исходный адрес, используемый в сообщениях эхо-запроса. Используйте этот параметр только при трассировке IPv6-адресов. |
| /4 | Указывает, что для этой трассировки tracert.exe может использовать только IPv4. |
| /6 | Указывает, что для этой трассировки tracert.exe может использовать только IPv6. |
| `<targetname>` | Указывает назначение, определенное IP-адресом или именем узла. |
| /? | Отображение справки в командной строке. |

## <a name="examples"></a>Примеры

Чтобы выполнить трассировку пути к узлу с именем *corp7.Microsoft.com*, введите:

```
tracert corp7.microsoft.com
```

Чтобы проследить путь к узлу с именем *corp7.Microsoft.com* и предотвратить разрешение каждого IP-адреса в его имя, введите:

```
tracert /d corp7.microsoft.com
```

Чтобы выполнить трассировку пути к узлу с именем *corp7.Microsoft.com* и использовать свободный исходный маршрут *10.12.0.1/10.29.3.1/10.1.44.1*, введите:

```
tracert /j 10.12.0.1 10.29.3.1 10.1.44.1 corp7.microsoft.com
```

## <a name="additional-references"></a>Дополнительные ссылки

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)

- [команда pathping](pathping.md)
