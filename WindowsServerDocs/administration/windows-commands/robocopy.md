---
title: robocopy
description: Справочная статья по команде Robocopy, которая копирует данные файлов из одного расположения в другое.
ms.topic: reference
ms.assetid: d4c6e8e9-fcb3-4a4a-9d04-2d8c367b6354
author: jasongerend
ms.author: jgerend
manager: lizapo
ms.date: 06/07/2020
ms.openlocfilehash: d08e969d0296c9ca1efc34bfd0ac6ad7e42519cf
ms.sourcegitcommit: 34f9577ef32cbdc7ef96040caabc9d83517f9b79
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/08/2020
ms.locfileid: "89554547"
---
# <a name="robocopy"></a>robocopy

Копирует данные файла из одного расположения в другое.

## <a name="syntax"></a>Синтаксис

```
robocopy <source> <destination> [<file>[ ...]] [<options>]
```

Например, чтобы скопировать файл с именем *еарли-репорт. mov* из *к:\репортс* в общую папку * \\ маркетинг\видеос* , а также включить многопоточность для повышения производительности (с параметром **/MT** ) и возможность перезапуска перемещения в случае его прерывания (с параметром **/z** ), введите:

```dos
robocopy c:\reports '\\marketing\videos' yearly-report.mov /mt /z
```

### <a name="parameters"></a>Параметры

| Параметр | Описание |
|--|--|
| `<source>` | Указание пути к исходному каталогу. |
| `<destination>` | Указание пути к целевому каталогу. |
| `<file>` | Указывает копируемый файл или файлы. Поддерживаются подстановочные знаки (**&#42;** или **?**). Если этот параметр не указан, `*.` в качестве значения по умолчанию используется. |
| `<options>` | Задает параметры для использования с командой **Robocopy** , включая **копирование**, **файл**, **Повтор**, **ведение журнала**и параметры **задания** . |

#### <a name="copy-options"></a>Параметры копирования

| Параметр | Описание |
|--|--|
| /s | Копирует подкаталоги. Этот параметр автоматически исключает пустые каталоги. |
| /e | Копирует подкаталоги. Этот параметр автоматически включает пустые каталоги. |
| Лев`<n>` | Копирует только *n* верхних уровней исходного дерева каталогов. |
| /z | Копирование файлов в перезапускаемом режиме. |
| /b | Копирует файлы в режиме резервного копирования. |
| /zb | Использует перезапускаемый режим. Если доступ запрещен, то для этого параметра используется режим резервного копирования. |
| /efsraw | Копирует все зашифрованные файлы в режиме файловой системы EFS RAW. |
| /Copy`<copyflags>` | Указывает, какие свойства файла следует копировать. Допустимые значения для этого параметра:<ul><li>**D** — данные</li><li>**A** -Attributes</li><li>Отметки времени **T**</li><li>**S** — список управления доступом (ACL) для NTFS</li><li>**O** — сведения о владельце</li><li>Сведения о аудите в **U**</li></ul>Значение по умолчанию для этого параметра — **dat** (данные, атрибуты и метки времени). |
| /дкопи:`<copyflags>`| Указывает, что нужно копировать в каталогах. Допустимые значения для этого параметра:<ul><li>**D** — данные</li><li>**A** -Attributes</li><li>Отметки времени **T**</li></ul>Значение по умолчанию для этого параметра — **Da** (данные и атрибуты). |
| /сек | Копирует файлы с безопасностью (эквивалентно **/Copy: DATS**). |
| /copyall | Копирует все сведения о файле (эквивалентно **/Copy: датсау**). |
| /нокопи | Не копирует сведения о файле (полезное с **/пурже**). |
| /секфикс | Исправляет безопасность файлов для всех файлов, даже пропущенных. |
| /тимфикс | Исправляет время файла для всех файлов, даже пропущенных. |
| /пурже | Удаляет целевые файлы и каталоги, которые больше не существуют в источнике. Использование этого параметра с параметром **/e** и каталогом назначения позволяет не перезаписывать параметры безопасности каталога назначения. |
| /мир | Зеркальное отражение дерева каталогов (эквивалентно **/e** плюс **/пурже**). При использовании этого параметра с параметром **/e** и каталогом назначения заменяются параметры безопасности каталога назначения. |
| /мов | Перемещает файлы и удаляет их из источника после копирования. |
| /Move | Перемещает файлы и каталоги и удаляет их из источника после копирования. |
| /a +: [РАШКНЕТ] | Добавляет указанные атрибуты в скопированные файлы.  Допустимые значения для этого параметра: <ul><li>**R** — только для чтения</li><li>**А** -Архив</li><li>**S** -System</li><li>**H** — скрыто</li><li>**C** — сжатый</li><li>**N** -не индексировать содержимое</li><li>С шифрованием по **электронной почты**</li><li>**T** -временные</li></ul> |
| /а-: [РАШКНЕТ] | Удаляет указанные атрибуты из скопированных файлов. Допустимые значения для этого параметра: <ul><li>**R** — только для чтения</li><li>**А** -Архив</li><li>**S** -System</li><li>**H** — скрыто</li><li>**C** — сжатый</li><li>**N** -не индексировать содержимое</li><li>С шифрованием по **электронной почты**</li><li>**T** -временные</li></ul> |
| /CREATE | Создает дерево каталогов и только файлы нулевой длины. |
| /фат | Создает файлы назначения, используя только имена файлов FAT длиной 8,3 символов. |
| /256 | Отключает поддержку для путей, длина которых превышает 256 символов. |
| Понедельник`<n>` | Отслеживает источник и выполняется снова при обнаружении более *n* изменений. |
| /МОТ:`<m>` | Отслеживание источника и повторный запуск в течение *m* минут при обнаружении изменений. |
| /MT`[:n]` | Создает многопоточные копии с *n* потоками. значение *n* должно быть целым числом от 1 до 128. Значение по умолчанию для *n* равно 8. Для повышения производительности перенаправление выходных данных с помощью параметра **/log** .<p>Параметр **/MT** нельзя использовать с параметрами **/ИПГ** и **/ефсрав** . |
| /РХ: ЧЧММ — ЧЧММ | Указывает время выполнения, когда могут быть запущены новые копии. |
| /PF | Проверяет время выполнения для каждого файла (не для каждого прохода). |
| /ИПГ: n | Указывает зазор между пакетами для освобождения пропускной способности в медленной линии. |
| /сл | Не используйте символьные ссылки, а вместо этого создайте копию ссылки. |

> [!IMPORTANT]
> При использовании параметра копирования **/секфикс** укажите тип сведений, которые необходимо скопировать, используя один из следующих дополнительных параметров копирования:
>
>- **/copyall**
>- **/Copy: o**
>- **/Copy: s**
>- **/Copy: u**
>- **/sec**

#### <a name="file-selection-options"></a>Параметры выбора файлов

| Параметр | Описание |
|--|--|
| /a | Копирует только те файлы, для которых задан атрибут **Archive** . |
| /m | Копирует только те файлы, для которых задан атрибут **Archive** , и сбрасывает атрибут **архива** . |
| активы`[RASHCNETO]` | Включает только те файлы, для которых задан любой из указанных атрибутов.  Допустимые значения для этого параметра: <ul><li>**R** — только для чтения</li><li>**А** -Архив</li><li>**S** -System</li><li>**H** — скрыто</li><li>**C** — сжатый</li><li>**N** -не индексировать содержимое</li><li>С шифрованием по **электронной почты**</li><li>**T** -временные</li><li>**O** — вне сети</li></ul> |
| сообщен`[RASHCNETO]` | Исключает файлы, для которых задан любой из указанных атрибутов. Допустимые значения для этого параметра: <ul><li>**R** — только для чтения</li><li>**А** -Архив</li><li>**S** -System</li><li>**H** — скрыто</li><li>**C** — сжатый</li><li>**N** -не индексировать содержимое</li><li>С шифрованием по **электронной почты**</li><li>**T** -временные</li><li>**O** — вне сети</li></ul> |
| /ксф `<filename>[ ...]` | Исключает файлы, соответствующие указанным именам или путям. Поддерживаются подстановочные знаки (**&#42;** и **?**). |
| /ксд `<directory>[ ...]` | Исключает каталоги, соответствующие указанным именам и путям. |
| /кск | Исключает измененные файлы. |
| /ксн | Исключает новые файлы. |
| /ксо | Исключает старые файлы. |
| /кскс | Исключает лишние файлы и каталоги. |
| /ксл | Исключает файлы и каталоги "ничего". |
| /is | Включает одни и те же файлы. |
| разрешает | Включает в себя измененные файлы. |
| максимальной`<n>` | Указывает максимальный размер файла (для исключения файлов размером более *n* байт). |
| /min`<n>` | Указывает минимальный размер файла (для исключения файлов размером менее *n* байт). |
| maxAge`<n>` | Указывает максимальный возраст файла (для исключения файлов старше *n* дней или дат). |
| /минаже:`<n>` | Указывает минимальный возраст файла (исключая файлы более чем *n* дней или даты). |
| /макслад:`<n>` | Задает максимальную дату последнего доступа (исключает файлы, не используемые с момента *n*). |
| /минлад:`<n>` | Задает минимальную дату последнего доступа (исключает файлы, используемые после *n*), если *n* меньше 1900, *n* указывает количество дней. В противном случае *n* указывает дату в формате ГГГГММДД. |
| /ксж | Исключает точки соединения, которые обычно включаются по умолчанию. |
| /fft | Предположение времени файла FAT (двухсекундная точность). |
| /дст | Компенсирует разницу в течение одного часа. |
| /ксжд | Исключает точки соединения для каталогов. |
| /ксжф | Исключает точки соединения для файлов. |

#### <a name="retry-options"></a>Параметры повтора

| Параметр | Описание |
|--|--|
| /r:`<n>` | Указание количества повторных попыток для неудавшихся копий. Значение *n* по умолчанию равно 1 000 000 (1 000 000 повторных попыток). |
| /w:`<n>` | Указание времени ожидания между повторными попытками в секундах. Значение *n* по умолчанию равно 30 (время ожидания 30 секунд). |
| /рег | Сохраняет значения, указанные в параметрах **/r** и **/w** , в качестве параметров по умолчанию в реестре. |
| /тбд | Указывает, что система будет ожидать определения имен общих ресурсов (ошибка повтора 67). |

#### <a name="logging-options"></a>Параметры ведения журнала

| Параметр | Описание |
|--|--|
| /l | Указывает, что файлы должны быть перечислены только в списке (а не копировать, удалять или отмечать время). |
| /x | Сообщает все дополнительные файлы, а не только выбранные. |
| /v | Создает подробный вывод и отображает все пропущенные файлы. |
| /тс | Включает в выходные данные метки времени исходных файлов. |
| /fp | Содержит полные имена путей к файлам в выходных данных. |
| /bytes | Выводит размеры в байтах. |
| /нс | Указывает, что размеры файлов не должны записываться в журнал. |
| /nc | Указывает, что классы файлов не должны регистрироваться. |
| /nfl | Указание, что имена файлов не должны регистрироваться. |
| /ndl | Указание, что имена каталогов не должны регистрироваться. |
| /np | Указывает, что не нужно отображать ход выполнения операции копирования (количество копируемых файлов или каталогов). |
| /ета | Показывает предполагаемое время прибытия (в единицах) копируемых файлов. |
| /log`<logfile>` | Запись выходных данных о состоянии в файл журнала (перезапись существующего файла журнала). |
| /log +:`<logfile>` | Записывает выходные данные состояния в файл журнала (Добавляет выходные данные в существующий файл журнала). |
| /unicode | Отображает вывод состояния в виде текста в Юникоде. |
| /унилог:`<logfile>` | Записывает выходные данные состояния в файл журнала в виде текста в Юникоде (перезаписывает существующий файл журнала). |
| /унилог +:`<logfile>` | Записывает выходные данные состояния в файл журнала в виде текста в Юникоде (Добавляет выходные данные в существующий файл журнала). |
| /tee | Записывает выходные данные состояния в окно консоли, а также в файл журнала. |
| /нжх | Указывает, что заголовок задания отсутствует. |
| /нжс | Указывает, что сводка по заданию отсутствует. |

#### <a name="job-options"></a>Параметры задания

| Параметр | Описание |
|--|--|
| /Задание`<jobname>` | Указывает, что параметры должны быть производными от файла именованного задания. |
| /Save`<jobname>` | Указывает, что параметры должны быть сохранены в файле именованного задания. |
| /куит | Завершает работу после обработки командной строки (для просмотра параметров). |
| /носд | Указывает, что исходный каталог не указан. |
| /нодд | Указывает, что конечный каталог не указан. |
| /If | Включает указанные файлы. |

### <a name="exit-return-codes"></a>Коды выхода (Return)

| Значение | Описание |
|--|--|
| 0 | Файлы не были скопированы. Сбой не обнаружен. Нет несовпадающих файлов. Файлы уже существуют в целевом каталоге; Поэтому операция копирования была пропущена. |
| 1 | Все файлы успешно скопированы. |
| 2 | В целевом каталоге имеются дополнительные файлы, отсутствующие в исходном каталоге. Файлы не были скопированы. |
| 3 | Некоторые файлы были скопированы. Имеются дополнительные файлы. Сбой не обнаружен. |
| 5 | Некоторые файлы были скопированы. Некоторые файлы не совпали. Сбой не обнаружен. |
| 6 | Существуют дополнительные файлы и несоответствующие файлы. Файлы не были скопированы, ошибок не обнаружено. Это означает, что файлы уже существуют в целевом каталоге. |
| 7 | Файлы были скопированы, обнаружено несоответствие файлов, и имеются дополнительные файлы. |
| 8 | Не удалось скопировать несколько файлов. |

> [!NOTE]
> Любое значение больше **8** указывает, что во время операции копирования существовала хотя бы одна ошибка.

## <a name="additional-references"></a>Дополнительные ссылки

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)
