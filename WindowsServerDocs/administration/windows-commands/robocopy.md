---
title: robocopy
description: Узнайте, как использовать команду Robocopy в Windows и Windows Server для копирования файлов
ms.custom: na
ms.prod: windows-server
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: d4c6e8e9-fcb3-4a4a-9d04-2d8c367b6354
author: coreyp-at-msft
ms.author: coreyp
manager: lizapo
ms.date: 07/25/2018
ms.openlocfilehash: b814134dd8ca82a4338f80aba26c5a7dcee3b90a
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/27/2019
ms.locfileid: "71384496"
---
# <a name="robocopy"></a>robocopy

Копирует данные файла.

## <a name="syntax"></a>Синтаксис

```
robocopy <Source> <Destination> [<File>[ ...]] [<Options>]
```

## <a name="parameters"></a>Параметры

|   Параметр    |                                                                                            Описание                                                                                             |
|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|   @no__t 0Source >    |                                                                            Указывает путь к исходному каталогу.                                                                             |
| @no__t 0Destination > |                                                                          Указывает путь к целевому каталогу.                                                                          |
|    @no__t 0File >     | Указывает копируемый файл или файлы. При необходимости можно использовать подстановочные **&#42;** знаки (или **?** ). Если параметр **файла** не указан, в качестве значения по умолчанию используется **\*. \\** \*. |
|   @no__t 0Options >   |                                                                    Указывает параметры для использования с командой **Robocopy** .                                                                     |

### <a name="copy-options"></a>Параметры копирования

|Параметр|Описание|
|------|-----------|
|/s|Копирует подкаталоги. Обратите внимание, что этот параметр исключает пустые каталоги.|
|/e|Копирует подкаталоги. Обратите внимание, что этот параметр включает пустые каталоги. Дополнительные сведения см. в разделе [Примечания](#remarks).|
|/Лев: @no__t — 0N >|Копирует только *N* верхних уровней исходного дерева каталогов.|
|/z|Копирование файлов в перезапускаемом режиме.|
|b|Копирует файлы в режиме резервного копирования.|
|/ZB|Использует перезапускаемый режим. Если доступ запрещен, в этом параметре используется режим резервного копирования.|
|/ефсрав|Копирует все зашифрованные файлы в режиме файловой системы EFS RAW.|
|/Copy: \<CopyFlags >|Задает свойства файла для копирования. Ниже приведены допустимые значения для этого параметра.</br>**D** данных</br>**Атрибуты**</br>Метки времени **T**</br>Список управления доступом (ACL) **для NTFS**</br>**O** сведения о владельце</br>**U** . сведения аудита</br>Значение по умолчанию для **копифлагс** — **dat** (данные, атрибуты и метки времени).|
|/дкопи: \<copyflags @ no__t-1|Определяет, какие объекты нужно копировать для каталогов. Значение по умолчанию — DA. Возможные варианты: D = Data, A = Attributes и T = timestamps.|
|контекст|Копирует файлы с безопасностью (эквивалентно **/Copy: DATS**).|
|/копялл|Копирует все сведения о файле (эквивалентно **/Copy: датсау**).|
|/нокопи|Не копирует сведения о файле (полезное с **/пурже**).|
|/секфикс|Исправляет безопасность файлов для всех файлов, даже пропущенных.|
|/тимфикс|Исправляет время файла для всех файлов, даже пропущенных.|
|/пурже|Удаляет целевые файлы и каталоги, которые больше не существуют в источнике. Дополнительные сведения см. в разделе [Примечания](#remarks).|
|/мир|Зеркальное отражение дерева каталогов (эквивалентно **/e** плюс **/пурже**). Дополнительные сведения см. в разделе [Примечания](#remarks).|
|/мов|Перемещает файлы и удаляет их из источника после копирования.|
|/Move|Перемещает файлы и каталоги и удаляет их из источника после копирования.|
|/a +: [РАШКНЕТ]|Добавляет указанные атрибуты в скопированные файлы.|
|/а-: [РАШКНЕТ]|Удаляет указанные атрибуты из скопированных файлов.|
|/CREATE|Создает дерево каталогов и только файлы нулевой длины.|
|/фат|Создает файлы назначения, используя только имена файлов FAT длиной 8,3 символов.|
|/256|Отключает поддержку слишком длинных путей (более 256 символов).|
|/Мон: @no__t — 0N >|Отслеживает источник и выполняется снова при обнаружении более *N* изменений.|
|/МОТ: @no__t — 0 млн >|Отслеживание источника и повторный запуск через *M* минут при обнаружении изменений.|
|/MT [: N]|Создает многопоточные копии с *N* потоками. Значение *N* должно быть целым числом от 1 до 128. Значение по умолчанию для *N* равно 8.</br>Параметр **/MT** не может использоваться с параметрами **/ИПГ** и **/ефсрав** .</br>Перенаправление вывода с помощью параметра **/log** для повышения производительности.</br>Примечание. Параметр/MT применяется к Windows Server 2008 R2 и Windows 7.|
|/РХ: ЧЧММ — ЧЧММ|Указывает время выполнения, когда могут быть запущены новые копии.|
|/PF|Проверяет время выполнения для каждого файла (не для каждого прохода).|
|/ИПГ: n|Указывает зазор между пакетами для освобождения пропускной способности в медленной линии.|
|/сл|Не используйте символьные ссылки, а вместо этого создайте копию ссылки.|

> [!IMPORTANT]
> При использовании параметра копирования **/секфикс** укажите тип сведений, которые необходимо скопировать, с помощью одного из следующих дополнительных параметров копирования:
>- **/КОПЯЛЛ**
>- **/COPY: O**
>- **/COPY: S**
>- **/COPY: U**
>- **КОНТЕКСТ**

### <a name="file-selection-options"></a>Параметры выбора файлов

|Параметр|Описание|
|------|-----------|
|/|Копирует только те файлы, для которых задан атрибут **Archive** .|
|/m|Копирует только те файлы, для которых задан атрибут **Archive** , и сбрасывает атрибут **архива** .|
|/ИА: [РАШКНЕТО]|Включает только те файлы, для которых задан любой из указанных атрибутов.|
|/КСА: [РАШКНЕТО]|Исключает файлы, для которых задан любой из указанных атрибутов.|
|/КСФ @no__t 0FileName > [...]|Исключает файлы, соответствующие указанным именам или путям. Обратите внимание, что *имя файла* может **&#42;** содержать подстановочные знаки (и **?** ).|
|/КСД @no__t 0Directory > [...]|Исключает каталоги, соответствующие указанным именам и путям.|
|/кск|Исключает измененные файлы.|
|/ксн|Исключает новые файлы.|
|/ксо|Исключает старые файлы.|
|/кскс|Исключает лишние файлы и каталоги.|
|/ксл|Исключает файлы и каталоги "ничего".|
|/is|Содержит те же файлы.|
|разрешает|Включает "оптимизированные" файлы.|
|/Макс: @no__t — 0N >|Указывает максимальный размер файла (для исключения файлов размером более *N* байт).|
|/min: @no__t — 0N >|Указывает минимальный размер файла (для исключения файлов размером менее *N* байт).|
|/максаже: @no__t — 0N >|Указывает максимальный возраст файла (для исключения файлов старше *N* дней или дат).|
|/минаже: @no__t — 0N >|Указывает минимальный возраст файла (исключая файлы более чем *N* дней или даты).|
|/макслад: @no__t — 0N >|Задает максимальную дату последнего доступа (исключает файлы, не используемые с момента *N*).|
|/минлад: @no__t — 0N >|Задает минимальную дату последнего доступа (исключает файлы, используемые после *n*), если *n* меньше 1900, *N* указывает количество дней. В противном случае *N* указывает дату в формате ГГГГММДД.|
|/ксж|Исключает точки соединения, которые обычно включаются по умолчанию.|
|/ффт|Предполагается наличие файлов в файловой системе FAT (точность в две секунды).|
|/дст|Компенсирует разницу в течение одного часа.|
|/ксжд|Исключает точки соединения для каталогов.|
|/ксжф|Исключает точки соединения для файлов.|

### <a name="retry-options"></a>Параметры повтора

|Параметр|Описание|
|------|-----------|
|/r: @no__t 0N >|Указывает число повторных попыток для неудачных копий. Значение *N* по умолчанию равно 1 000 000 (1 000 000 повторных попыток).|
|/w: @no__t 0N >|Указывает время ожидания между повторными попытками в секундах. Значение *N* по умолчанию равно 30 (время ожидания 30 секунд).|
|/рег|Сохраняет значения, указанные в параметрах **/r** и **/w** , в качестве параметров по умолчанию в реестре.|
|/тбд|Указывает, что система будет ожидать определения имен общих ресурсов (ошибка повтора 67).|

### <a name="logging-options"></a>Параметры ведения журнала

|Параметр|Описание|
|------|-----------|
|/l|Указывает, что файлы должны быть перечислены только в списке (а не копировать, удалять или отмечать время).|
|/x|Сообщает все дополнительные файлы, а не только выбранные.|
|/v|Создает подробный вывод и отображает все пропущенные файлы.|
|/тс|Включает в выходные данные метки времени исходных файлов.|
|/FP|Содержит полные имена путей к файлам в выходных данных.|
|/bytes|Выводит размеры в байтах.|
|/нс|Указывает, что размеры файлов не должны записываться в журнал.|
|/nc|Указывает, что классы файлов не должны регистрироваться.|
|/нфл|Указывает, что имена файлов не должны записываться в журнал.|
|/ндл|Указывает, что имена каталогов не должны регистрироваться.|
|/нп|Указывает, что ход выполнения операции копирования (количество файлов или каталогов, скопированных на данный момент) не будет отображаться.|
|/ета|Показывает предполагаемое время прибытия (в единицах) копируемых файлов.|
|/log: @no__t 0LogFile >|Записывает выходные данные состояния в файл журнала (перезаписывает существующий файл журнала).|
|/log +: @no__t 0LogFile >|Записывает выходные данные состояния в файл журнала (Добавляет выходные данные в существующий файл журнала).|
|/Unicode|Отображает вывод состояния в виде текста в Юникоде.|
|/унилог: @no__t — 0LogFile >|Записывает выходные данные состояния в файл журнала в виде текста в Юникоде (перезаписывает существующий файл журнала).|
|/унилог +: @no__t — 0LogFile >|Записывает выходные данные состояния в файл журнала в виде текста в Юникоде (Добавляет выходные данные в существующий файл журнала).|
|/ти|Записывает выходные данные состояния в окно консоли, а также в файл журнала.|
|/нжх|Указывает, что заголовок задания отсутствует.|
|/нжс|Указывает, что сводка по заданию отсутствует.|

### <a name="job-options"></a>Параметры задания

|Параметр|Описание|
|------|-----------|
|/Задание: @no__t — 0JobName >|Указывает, что параметры должны быть производными от файла именованного задания.|
|/Save: \<JobName >|Указывает, что параметры должны быть сохранены в файле именованного задания.|
|/куит|Завершает работу после обработки командной строки (для просмотра параметров).|
|/носд|Указывает, что исходный каталог не указан.|
|/нодд|Указывает, что конечный каталог не указан.|
|/If|Включает указанные файлы.|

### <a name="exit-return-codes"></a>Коды выхода (Return)

Значение | Описание
-- | --
0 | Файлы не были скопированы. Сбой не обнаружен.  Нет несовпадающих файлов. Файлы уже существуют в целевом каталоге; Поэтому операция копирования была пропущена.
1 | Все файлы успешно скопированы.
2 | В целевом каталоге имеются дополнительные файлы, отсутствующие в исходном каталоге. Файлы не были скопированы.
3 | Некоторые файлы были скопированы. Имеются дополнительные файлы. Сбой не обнаружен.
5 | Некоторые файлы были скопированы. Некоторые файлы не совпали. Сбой не обнаружен.
6 | Существуют дополнительные файлы и несоответствующие файлы. Файлы не были скопированы, ошибок не обнаружено. Это означает, что файлы уже существуют в целевом каталоге.
7 | Файлы были скопированы, обнаружено несоответствие файлов, и имеются дополнительные файлы.
8 | Не удалось скопировать несколько файлов.

> [!NOTE]
> Любое значение больше 8 указывает, что во время операции копирования существовала хотя бы одна ошибка.

### <a name="remarks"></a>Примечания

-   Параметр **/мир** равнозначен параметру **/e** Plus **/пурже** с одним небольшим различием в поведении:  
    -   Если задан параметр **/e** плюс **/пурже** , то при наличии конечного каталога параметры безопасности каталога назначения не перезаписываются.
    -   При использовании параметра **/мир** , если каталог назначения существует, параметры безопасности каталога назначения перезаписываются.

#### <a name="additional-references"></a>Дополнительная справка

[Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)
