---
title: tpmvscmgr
description: Справочный раздел по тпмвскмгр, который представляет собой программу командной строки, которая позволяет пользователям с правами администратора создавать и удалять виртуальные смарт-карты TPM на компьютере.
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: 8b2c8ff4-5c5d-446d-99e7-4daa1b36a163
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/16/2017
ms.openlocfilehash: ab0419060121033571eeba643cc0e2d42b45c743
ms.sourcegitcommit: ab64dc83fca28039416c26226815502d0193500c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/01/2020
ms.locfileid: "82721297"
---
# <a name="tpmvscmgr"></a>tpmvscmgr

Программа командной строки Тпмвскмгр позволяет пользователям с правами администратора создавать и удалять виртуальные смарт-карты TPM на компьютере.

## <a name="syntax"></a>Синтаксис

```
Tpmvscmgr create [/name] [/AdminKey DEFAULT | PROMPT | RANDOM] [/PIN DEFAULT | PROMPT] [/PUK DEFAULT | PROMPT] [/generate] [/machine] [/?]
```
```
Tpmvscmgr destroy [/instance <instance ID>] [/?]
```

#### <a name="parameters-for-create-command"></a>Параметры для команды CREATE

Команда Create настраивает новые виртуальные смарт-карты в системе пользователя. Он возвращает идентификатор экземпляра вновь созданной карточки для последующего обращения, если требуется удаление. Идентификатор экземпляра имеет формат **ROOT\SMARTCARDREADER\000n** , где **n** начинается с 0 и увеличивается на 1 каждый раз при создании новой виртуальной смарт-карты.

|Параметр|Описание|
|---------|-----------|
|/Name|Обязательный. Указывает имя новой виртуальной смарт-карты.|
|/админкэй|Указывает требуемый ключ администратора, который можно использовать для сброса ПИН-кода карточки, если пользователь забывает ПИН-код.</br>**По умолчанию** Указывает значение по умолчанию для 010203040506070801020304050607080102030405060708.</br>**Запрос** Предлагает пользователю ввести значение для ключа администратора.</br>**Случайный выбор** Приводит к случайному значению для ключа администратора карточки, которая не возвращается пользователю. При этом создается карточка, которая может быть неуправляемой с помощью средств управления смарт-картой. При создании с ПРОИЗВОЛЬНЫм ключом администратор должен указать 48 шестнадцатеричных символа.|
|/пин|Указывает требуемое значение ПИН-кода пользователя.</br>**По умолчанию** Задает ПИН-код по умолчанию 12345678.</br>**Запрос** Предлагает пользователю ввести ПИН-код в командной строке. ПИН-код должен содержать не менее восьми символов, а также цифр, символов и специальных символов.|
|/пук|Указывает требуемое значение ключа разблокировки ПИН-кода (PUK). Значение PUK-кода должно быть не менее восьми символов и может содержать цифры, символы и специальные символы. Если параметр не указан, карточка создается без PUK-кода.</br>**По умолчанию** Указывает PUK по умолчанию 12345678.</br>**Запрос** Предлагает пользователю ввести PUK-код в командной строке.|
|/женерате|Создает файлы в хранилище, необходимые для функционирования виртуальной смарт-карты. Если параметр/женерате опущен, то он эквивалентен созданию карточки без этой файловой системы. Карта без файловой системы может управляться только системой управления смарт-картой, такой как Microsoft Configuration Manager.|
|/machine|Позволяет указать имя удаленного компьютера, на котором может быть создана виртуальная смарт-карта. Его можно использовать только в среде домена и полагается на DCOM. Для выполнения команды при создании виртуальной смарт-карты на другом компьютере пользователь, выполняющий эту команду, должен быть членом локальной группы администраторов на удаленном компьютере.|
|/?|Отображает справку для этой команды.|

#### <a name="parameters-for-destroy-command"></a>Параметры для команды destroy

Команда Destroy безопасно удаляет виртуальную смарт-карту с компьютера пользователя.

> [!WARNING]
> При удалении виртуальной смарт-карты ее невозможно восстановить.

|Параметр|Описание|
|---------|-----------|
|/instance|Указывает идентификатор экземпляра виртуальной смарт-карты, которую нужно удалить. InstanceID был создан в виде выходных данных программой Тпмвскмгр. exe при создании карты. Параметр/инстанце является обязательным полем для команды destroy.|
|/?|Отображает справку для этой команды.|

## <a name="remarks"></a>Примечания

Членство в группе " **Администраторы** " (или аналогичной) на целевом компьютере является минимальным требованием для выполнения всех параметров этой команды.

Для буквенно-цифровых входов разрешено использовать полный набор символов ASCII 127.

## <a name="examples"></a>Примеры

Следующая команда показывает, как создать виртуальную смарт-карту, которая может быть впоследствии управляемой средством управления смарт-картой, запущенным с другого компьютера.
```
tpmvscmgr.exe create /name VirtualSmartCardForCorpAccess /AdminKey DEFAULT /PIN PROMPT
```
Кроме того, вместо использования ключа администратора по умолчанию можно создать ключ администратора в командной строке. Следующая команда показывает, как создать ключ администратора.
```
tpmvscmgr.exe create /name VirtualSmartCardForCorpAccess /AdminKey PROMPT /PIN PROMPT
```
Следующая команда создаст неуправляемую виртуальную смарт-карту, которую можно будет использовать для регистрации сертификатов.
```
tpmvscmgr.exe create /name VirtualSmartCardForCorpAccess /AdminKey RANDOM /PIN PROMPT /generate
```
Следующая команда создаст виртуальную смарт-карту с случайным ключом администратора. Ключ автоматически удаляется после создания карты. Это означает, что если пользователь забыл ПИН-код или хочет изменить ПИН-код, пользователь должен удалить карту и создать ее снова. Чтобы удалить карточку, пользователь может выполнить следующую команду.
```
tpmvscmgr.exe destroy /instance <instance ID> 
```
где \<идентификатор экземпляра> — значение, печатаемое на экране при создании карты пользователем. В частности, для первой созданной карты идентификатор экземпляра — ROOT\SMARTCARDREADER\0000..

## <a name="additional-references"></a>Дополнительные ссылки

-   - [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)