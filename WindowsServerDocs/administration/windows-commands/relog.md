---
title: relog
description: Узнайте, как для извлечения сведений о счетчиках производительности из файлов журнала coutner производительности.
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: manage-windows-commands
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 7480f6c0-9953-4d70-9b1c-b27e09d8db13
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 07/11/2018
ms.openlocfilehash: 51b01f80259a7b83e1999b47164108dbe174b887
ms.sourcegitcommit: eaf071249b6eb6b1a758b38579a2d87710abfb54
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/31/2019
ms.locfileid: "66441904"
---
# <a name="relog"></a>relog

>Область применения. Windows Server (полугодовой канал), Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

Извлекает счетчики производительности из файлов журналов в других форматах, таких как текст TSV (для разделенных символами табуляции), текстовый CSV (с разделителями-запятыми), двоичный BIN или SQL.   

## <a name="syntax"></a>Синтаксис  
```  
relog [<FileName> [<FileName> ...]] [/a] [/c <path> [<path> ...]] [/cf <FileName>] [/f  {bin|csv|tsv|SQL}] [/t <Value>] [/o {OutputFile|DSN!CounterLog}] [/b <M/D/YYYY> [[<HH>:] <MM>:] <SS>] [/e <M/D/YYYY> [[<HH>:] <MM>:] <SS>] [/config {<FileName>|i}] [/q]  
```  

### <a name="parameters"></a>Параметры  

|                                         Параметр                                          |                                                                                                                                                                  Описание                                                                                                                                                                   |
|--------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                                *Имя файла* [*имя_файла...* ]                                 |                                                                                                                      Задает путь к существующему журналу счетчиков производительности. Можно указать несколько входных файлов.                                                                                                                      |
|                                             -a                                             |                                                                                                          Добавляет выходного файла вместо перезаписи. Этот параметр не применяется к формату SQL, где всегда является значение по умолчанию для добавления.                                                                                                           |
|                                   -c *path* [*path ...* ]                                   |                                                       Указывает путь к журналу счетчиков производительности. Чтобы указать несколько путей, разделите их пробелами и заключите в кавычки (например, **"** <em>путь1</em> <em>путь2</em> **"** )                                                       |
|                                       -cf *имя файла*                                       |                                            Задает путь к текстовому файлу, который перечисляет счетчики производительности должны быть включены в файл журнала. Используйте этот параметр, чтобы список путей счетчиков во входном файле, по одному в каждой строке. По умолчанию — загружаются все счетчики в исходном файле.                                            |
|                                  -f {bin\| csv\|tsv\|SQL}                                  |                                       Указывает путь формат выходного файла. Формат по умолчанию — **bin**. Для базы данных SQL, задает выходной файл *DSN! Журнал_счетчиков*. Можно указать расположение базы данных с помощью диспетчера ODBC для настройки DSN (имя базы данных системы).                                        |
|                                         -t *значение*                                         |                                                                                                           Указывает интервалы в "*N*" записи. Включает все точки данных в n-й в файле повторной регистрации. Значение по умолчанию — все точки данных.                                                                                                           |
| -o {*OutputFile* \| *«SQL:DSN! Журнал_счетчиков*} где имя DSN представляет собой имя DSN ODMC определено в системе. |                                                   Указывает путь выходного файла или базы данных SQL, куда будет записан счетчики. <br>Примечание. Для 64-разрядных и 32-разрядных версий Relog.exe, необходимо определить имя источника данных в источнике данных ODBC (64-разрядных и 32-разрядных соответственно)                                                   |
|                          -b \< *M*/*D*/*гггг*> [[*HH*:]*мм*:]*SS*                           |                                                                          Указывает время начала копирования первой записи из входного файла. Дата и время должны быть в точном соответствии с форматом <em>M</em> **/** <em>D</em> **/** <em>YYYYHH</em> **:** <em>Мм</em> **:** <em>SS</em>.                                                                          |
|                          -e \< *M*/*D*/*гггг*> [[*HH*:]*мм*:]*SS*                           |                                                                           Указывает время окончания копирования последней записи из входного файла. Дата и время должны быть в точном соответствии с форматом <em>M</em> **/** <em>D</em> **/** <em>YYYYHH</em> **:** <em>Мм</em> **:** <em>SS</em>.                                                                            |
|                                -config {*FileName* \| *я*}                                 | Указывает путь файла параметров, содержащий параметры командной строки. Используйте *-i* в файле конфигурации как заполнитель список входных файлов, которые могут быть помещены в командной строке. В командной строке, однако вы не обязательно должны использовать *я*. Кроме того, можно использовать подстановочные знаки например \*.blg, чтобы указать количество входных имен файлов. |
|                                             -q                                             |                                                                                                                          Отображает файлы, заданные во входном файле журнала счетчиков производительности и временные диапазоны.                                                                                                                           |
|                                             -y                                             |                                                                                                                                            Обходит запросом ответить «Да» на все вопросы.                                                                                                                                             |
|                                             /?                                             |                                                                                                                                                      Отображение справки в командной строке.                                                                                                                                                      |

## <a name="remarks"></a>Примечания  
Формат пути счетчика:  
- Общий формат для путей счетчиков выглядит следующим образом: [\\\<компьютера >] \\ \<объекта > [\<родительского >\\< экземпляр #Index >] \\ \< Счетчик >] где родительского, экземпляр, индекса и счетчика компонентов формата может содержать допустимое имя или подстановочный знак. Компьютер, родительский, экземпляр и компоненты индекса не обязательны для всех счетчиков.  
- Можно определить пути счетчиков для использования в зависимости от сам счетчик. Например, объект логического диска имеет экземпляр <Index>, поэтому необходимо указать < #index > или подстановочный знак. Таким образом, можно использовать следующий формат: **\LogicalDisk (\*/\*#\*)\\\\** *  
- В отличие от этого объект процесса не требует запуска экземпляра \<индекса >. Таким образом, можно использовать следующий формат: **\Process (\*) \ID процесса**  
- Если указан подстановочный знак в имени родительского, будет возвращаться все вхождения заданного объекта, которые соответствуют заданным экземпляром и поля счетчика.  
- Если указан подстановочный знак в имени экземпляра, все экземпляры указанного объекта и родительского объекта будет возвращаться, если все имена экземпляров, соответствующий указанному индексу совпадает с символом-шаблоном.  
- Если указан подстановочный знак в имени счетчика, возвращаются все счетчики указанного объекта.  
- Частичное путь совпадение счетчика (например, pro *) не поддерживаются.  

Счетчик файлов:  
-   Файлы счетчика — это текстовые файлы, в которых перечислены один или несколько счетчиков производительности в существующий журнал. Скопируйте полное имя счетчика из журнала или **/q** выходных данных в \<компьютера >\\\<объекта >\\\<экземпляр >\\ \< Счетчик > формат. путь к списку один счетчик в каждой строке.  

Копирование счетчиков:  
-   При выполнении **повторной регистрации** копирование указанных счетчиков из каждой записи во входном файле, преобразование формата, при необходимости. Разрешается использовать подстановочные пути в файле счетчика.  
Сохранение подкаталогов входных файлов:  
-   Используйте **/t** параметр, чтобы указать, что входные файлы вставляются в выходных данных через каждые <n>th записи. По умолчанию данные загружаются повторно из каждой записи.  
С помощью **/b** и **/e** параметров с помощью файлов журнала  
-   Можно указать, что выходные журналы будут включать записи до времени начала (то есть **/b**) для предоставления данных для счетчиков, требующих вычисления значений форматированного значения. В выходном файле будет присутствовать последние записи из входных файлов с метками времени меньше, чем **/e** (то есть время окончания) параметра.  
С помощью **/config /** параметр:  
-   Содержимое файла настроек, используемого с **/config /** параметр должен иметь следующий формат:  
    -   \<Параметр_команды >\\\<значение >, где \<Параметр_команды > — это параметр командной строки и \<значение > задает его значение.

Дополнительные сведения о включении **повторной регистрации** в сценарии инструментария управления Windows (WMI), см. в разделе «Создание сценариев WMI» в [Windows Resource Kits веб-узле Microsoft](https://go.microsoft.com/fwlink/?LinkId=4665).  

## <a name="BKMK_Examples"></a>Примеры  
Чтобы обновлять существующие журналы трассировки через фиксированные промежутки времени, 30, путей счетчика, выходные файлы и форматы.  
```  
relog c:\perflogs\daily_trace_log.blg /cf counter_file.txt /o c:\perflogs\reduced_log.csv /t 30 /f csv  
```  
Чтобы обновлять существующие журналы трассировки через фиксированные промежутки времени, 30, список путей счетчиков и выходной файл:  
```  
relog c:\perflogs\daily_trace_log.blg /cf counter_file.txt /o c:\perflogs\reduced_log.blg /t 30  
```
Чтобы обновлять существующие журналы трассировки в базу данных, используйте:
```
relog "c:\perflogs\daily_trace_log.blg" -f sql -o "SQL:sql2016x64odbc!counter_log"
```

## <a name="additional-references"></a>Дополнительная справка  
-   [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)  
  
<!---
-   The following is a list of the possible formats:  
    -   \<computer>\\\<Object>(\<Parent>/\<Instance#Index>)\<Counter>  
    -   \<computer>\<Object>(<Parent>/<Instance>)\\<Counter>  
    -   \\\\<computer>\\<Object>(<Instance#Index>)\\<Counter>  
    -   \\\\<computer>\\<Object>(<Instance>)\\<Counter>  
    -   \\\\<computer>\\<Object>\\<Counter>  
    -   \\<Object>(<Parent>/<Instance#Index>)\\<Counter>  
    -   \\<Object>(<Parent>/<Instance>)<Counter>  
    -   \\<Object>(<Instance#Index>)\\<Counter>  
    -   \\<Object>(<Instance>)\\<Counter>  
    -   \\<Object>\\<Counter>  
--->