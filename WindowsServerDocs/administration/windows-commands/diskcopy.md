---
title: diskcopy
description: Команда Windows для команды diskcopy, которая копирует содержимое гибкого диска с исходного диска на форматированный или неформатированный гибкий диск на целевом диске.
ms.prod: windows-server
ms.technology: manage-windows-commands
ms.topic: article
ms.assetid: 5fd21efa-52cc-4e70-a7fe-35125a435106
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 05/07/2018
ms.openlocfilehash: 675694503cab207f05fd6b48e0d17c23196f85d0
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2020
ms.locfileid: "80845547"
---
# <a name="diskcopy"></a>diskcopy

Копирует содержимое гибкого диска с исходного диска на форматированный или неформатированный гибкий диск на целевом диске. Если используется без параметров, **команда diskcopy** использует текущий диск для исходного и целевого дисков.

В разделе [Примеры](#BKMK_examples) показан принцип использования этой команды.

> [!NOTE]
> Эта команда не включена в Windows 10.

## <a name="syntax"></a>Синтаксис

```
diskcopy [<Drive1>: [<Drive2>:]] [/v]
```

### <a name="parameters"></a>Параметры

|Параметр|Описание|
|---------|-----------|
|\<диск1 >|Указывает диск, содержащий исходный диск.|
|\<диск2 >|Указывает диск, на котором находится целевой диск.|
|/v|Проверяет, правильно ли скопированы данные. Этот параметр замедляет процесс копирования.|
|/?|Отображает справку в командной строке.|

## <a name="remarks"></a>Примечания

-   Использование дисков

    **Команда diskcopy** работает только со съемными дисками, такими как гибкие диски, которые должны быть одного типа. Нельзя использовать **diskcopy** с жестким диском. Если для *диск1* или *диск2*указан жесткий диск, **команда diskcopy** выведет следующее сообщение об ошибке:  
    ```
    Invalid drive specification
    Specified drive does not exist or is nonremovable
    ```  
    Команда **diskcopy** предложит вставить исходный и конечный диски и подождать нажатия любой клавиши на клавиатуре, прежде чем продолжить.

    После копирования диска **команда diskcopy** выведет следующее сообщение:  
    ```
    Copy another diskette (Y/N)?
    ```  
    При нажатии клавиши Y программа **diskcopy** предлагает вставить исходный и целевой диски для следующей операции копирования. Чтобы прерывать процесс **diskcopy** , нажмите клавишу **N**.

    Если вы копируете на неформатированный гибкий диск в *диск2*, **команда diskcopy** форматирует диск с тем же количеством сторон и секторов на дорожке, что и на диске в параметре *диск1*. **Команда diskcopy** выводит следующее сообщение при форматировании диска и копировании файлов:  
    ```
    Formatting while copying
    ```  
-   Серийные номера дисков

    Если исходный диск имеет серийный номер тома, **команда diskcopy** создает новый серийный номер тома для диска назначения и отображает число после завершения операции копирования.
-   Пропуск параметров диска

    Если опустить параметр *диск2* , то **команда diskcopy** будет использовать текущий диск в качестве диска назначения. Если оба параметра диска опущены, **команда diskcopy** будет использовать текущий диск для обоих. Если текущий диск совпадает с параметром *диск1*, **команда diskcopy** выводит запрос на замену дисков по мере необходимости.
-   Использование одного диска для копирования

    Выполните команду **diskcopy** с диска, отличного от дисковода гибких дисков, например диска C. Если диск *диск1* и дискета дискеты одинаковы *Drive2* , **команда diskcopy** выводит приглашение для переключения дисков. Если диски содержат больше информации, чем может вместить доступная память, **команда diskcopy** не сможет сразу же прочитать всю информацию. **Команда diskcopy** считывает данные с исходного диска, выполняет запись на конечный диск и предлагает снова вставить исходный диск. Этот процесс будет продолжен до тех пор, пока не будет скопирован весь диск.
-   Предотвращение фрагментации диска

    Фрагментация — это наличие маленьких областей неиспользуемого дискового пространства между существующими файлами на диске. Фрагментированный исходный диск может замедлить процесс поиска, чтения или записи файлов.

    Так как **команда diskcopy** создает точную копию исходного диска на целевом диске, любая фрагментация на исходном диске передается на целевой диск. Чтобы избежать переноса фрагментации с одного диска на другой, используйте для копирования диска **копирование** или **xcopy** . Так **copy** как копирование **и копирование** файлов производится последовательно, новый диск не фрагментирован.

> [!NOTE]
> Нельзя использовать **xcopy** для копирования загрузочных дисков.

### <a name="understanding-diskcopy-exit-codes"></a>Основные сведения о кодах завершения команды **diskcopy**

    The following table explains each exit code.
    
    |Код завершения|Описание|
    |---------|-----------|
    |0|Операция копирования выполнена успешно|
    |1|Произошла некритическая ошибка чтения или записи|
    |3|Произошла неустранимая твердая ошибка|
    |4|Произошла ошибка инициализации|

    To process the exit codes that are returned by **diskcomp**, you can use the *ERRORLEVEL* environment variable on the **if** command line in a batch program.

## <a name="examples"></a><a name=BKMK_examples></a>Примеров

Чтобы скопировать диск в дисководе B на диск в дисководе A, введите:
```
diskcopy b: a:
```
Чтобы использовать флоппи-диск A для копирования одной дискеты в другую, сначала переключитесь на диск C, а затем введите:

diskcopy a. a:

## <a name="additional-references"></a>Дополнительные материалы

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)