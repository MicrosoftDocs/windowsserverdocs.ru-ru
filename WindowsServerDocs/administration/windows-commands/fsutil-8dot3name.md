---
ms.assetid: a0c6dbfe-d898-496d-9356-825f7fbd90ec
title: Fsutil 8dot3name
ms.prod: windows-server
manager: dmoss
ms.author: toklima
author: toklima
ms.technology: storage
audience: IT Pro
ms.topic: article
ms.date: 10/16/2017
ms.openlocfilehash: 471c4a4ca12c79f5da136873020352f02f5d410a
ms.sourcegitcommit: ab64dc83fca28039416c26226815502d0193500c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/01/2020
ms.locfileid: "82725540"
---
# <a name="fsutil-8dot3name"></a>Fsutil 8dot3name

> Область применения: Windows Server (половина ежегодного канала), Windows Server 2019, Windows Server 2016, Windows 10, Windows Server 2012 R2, Windows 8.1, Windows Server 2012, Windows 8, Windows Server 2008 R2, Windows 7

Запрашивает или изменяет параметры для поведения короткого имени (имя 8dot3), включая:

-   Запрос текущего параметра для поведения краткого имени

-   Просмотр указанного пути к каталогу для разделов реестра, которые могут быть затронуты, если короткие имена были удалены из указанного пути к каталогу

-   Измените параметр, управляющий поведением краткого имени. Этот параметр можно применить к указанному тому или к параметру тома по умолчанию.

-   Удалить короткие имена для всех файлов в каталоге



## <a name="syntax"></a>Синтаксис

```
fsutil 8dot3name [query] [<VolumePath>]
fsutil 8dot3name [scan] [/s] [/l [<log file>] ] [/v] <DirectoryPath>
fsutil 8dot3name [set] { <DefaultValue> | <VolumePath> {1|0}}
fsutil 8dot3name [strip] [/t] [/s] [/f] [/l [<log file.] ] [/v] <DirectoryPath>
```

### <a name="parameters"></a>Параметры

|                 Параметр                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|-------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           запрос [<VolumePath>]            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Запрашивает в файловой системе состояние создания короткого имени 8dot3.<p>Если *VolumePath* не указан в качестве параметра, отображается параметр поведения создания 8dot3name по умолчанию для всех томов.                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|           наличия<DirectoryPath>            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Проверяет файлы, расположенные в указанном *DirectoryPath* , для разделов реестра, которые могут затронуты, если сокращенные имена 8dot3 были удалены из имен файлов.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| Set { <DefaultValue> &#124; <VolumePath>} | Изменяет поведение файловой системы для создания имен 8dot3 в следующих экземплярах:<p><ul><li>Если указано *DefaultValue* , разделу реестра **HKLM\System\CurrentControlSet\Control\FileSystem\NtfsDisable8dot3NameCreationNtfsDisable8dot3NameCreationNtfsDisable8dot3NameCreation**присваивается значение *DefaultValue*.<p>    Значение *DefaultValue* может иметь следующие значения:<p><ul><li>**0**: включает создание имен 8dot3 для всех томов в системе.</li><li>**1**: Отключение создания имени 8dot3 для всех томов в системе.</li><li>**2**: задает создание имени 8dot3 для каждого тома.</li><li>**3**: Отключение создания имени 8dot3 для всех томов, кроме системного тома.</li></ul></li><li>Если указан параметр *VolumePath* , то для заданных флагов на диске задаются свойства 8dot3name, чтобы включить создание имен 8dot3 для указанного тома (**0**) или значение, чтобы отключить создание имен 8dot3 на указанном томе (**1**).<p>    Необходимо задать поведение файловой системы по умолчанию для создания имени 8dot3 до значения **2** , прежде чем можно будет включить или отключить создание имен 8dot3 для указанного тома.</li></ul> |
|           лент<DirectoryPath>           |                                                                                                                                                                                                                                                                                                                  Удаляет имена файлов 8dot3 для всех файлов, расположенных в указанном *DirectoryPath*. Имя файла 8dot3 не удаляется ни для одного из файлов, в которых *DirectoryPath* в сочетании с именем файла содержит более 260 символов.<p>Эта команда выводит список, но не изменяет разделы реестра, указывающие на файлы с безвозвратным удалением имен файлов 8dot3.<p>Дополнительные сведения о последствиях окончательного удаления имен файлов 8.3 из файлов см. в разделе [Примечания](Fsutil-8dot3name.md#BKMK_remarks).                                                                                                                                                                                                                                                                                                                  |
|               <VolumePath>                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Указывает имя диска, за которым следует двоеточие или идентификатор GUID в формате **тома {**<em>GUID</em>**}**.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|                    /f                     |                                                                                                                                                                                                                                                                                                   Указывает, что все файлы, расположенные в указанной *DirectoryPath* , будут удалять имена файлов 8dot3 даже при наличии разделов реестра, которые указывают на файлы с помощью имени файла 8.3. В этом случае операция удаляет имена файлов 8dot3, но не изменяет разделы реестра, которые указывают на файлы, использующие имена файлов 8.3. **Предупреждение:** Рекомендуется создать резервную копию каталога или тома перед использованием параметра **/f** , так как это может привести к непредвиденным сбоям приложений, включая невозможность удаления программ.                                                                                                                                                                                                                                                                                                    |
|              /l [<log file>]              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Указывает файл журнала, в который записываются сведения.<p>Если параметр **/l** не указан, вся информация записывается в файл журнала по умолчанию:<p>**% TEMP% \ 8dot3_removal_log@ (**<em>GMT гггг-мм-дд чч-мм-СС</em>**). log**                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|                    /s                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Указывает, что операция должна быть применена к подкаталогам указанного *DirectoryPath*.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|                    /t                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                          Указывает, что удаление имен файлов 8dot3 должно выполняться в тестовом режиме. Все операции, кроме фактического удаления имен файлов 8dot3, выполняются. С помощью тестового режима можно определить, какие разделы реестра указывают на файлы, использующие имена файлов 8.3.                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|                    /v                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Указывает, что вся информация, записанная в файл журнала, также отображается в командной строке.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |

## <a name="remarks"></a><a name="BKMK_remarks"></a>Замечания

-   Окончательное удаление имен файлов 8dot3 и не изменение разделов реестра, которые указывают на имена файлов 8dot3, может привести к непредвиденным сбоям приложений, включая невозможность удаления приложения. Рекомендуется сначала создать резервную копию каталога или тома, прежде чем пытаться удалить имена файлов 8.3.

## <a name="examples"></a><a name="BKMK_examples"></a>Примеры
Чтобы запросить режим отключения имени 8dot3 для тома диска, указанного с идентификатором GUID, {928842df-5a01-11de-a85c-806e6f6e6963}, введите:

```
fsutil 8dot3name query Volume{928842df-5a01-11de-a85c-806e6f6e6963}
```

Можно также запрашивать поведение имен 8dot3 с помощью подкоманды **Behavior** .

Чтобы удалить имена файлов 8dot3 в каталоге *д:\мидата* и во всех подкаталогах, при записи данных в файл журнала, указанный в виде *милогфиле. log*, введите:

```
fsutil 8dot3name strip /l mylogfile.log /s d:\MyData
```

### <a name="additional-references"></a>Дополнительная справка
- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)

[Fsutil](Fsutil.md)

[Fsutil 8dot3name](Fsutil-8dot3name.md)

[Поведение fsutil](Fsutil-behavior.md)


