---
ms.assetid: 62d77150-1d9e-4069-ab4a-299f33024912
title: fsutil repair
ms.prod: windows-server-threshold
manager: dmoss
ms.author: toklima
author: toklima
ms.technology: storage
audience: IT Pro
ms.topic: article
ms.date: 10/16/2017
ms.openlocfilehash: 18c06b1f426105b098a5dc7e992b1e3becd3a4ca
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59846685"
---
# <a name="fsutil-repair"></a>fsutil repair
>Область применения. Windows Server (полугодовой канал), Windows Server 2016, Windows 10, Windows Server 2012 R2, Windows 8.1, Windows Server 2012, Windows 8, Windows Server 2008 R2, Windows 7

Администрирование и отслеживает NTFS самостоятельное восстановление, операции восстановления.

В разделе [Примеры](#BKMK_examples) показан принцип использования этой команды.

## <a name="syntax"></a>Синтаксис

```
fsutil repair [enumerate] <volumepath> [<LogName>]
fsutil repair [initiate] <VolumePath> <FileReference>
fsutil repair [query] <VolumePath>
fsutil repair [set] <VolumePath> <Flags>
fsutil repair [wait][<WaitType>] <VolumePath>

```

## <a name="parameters"></a>Параметры

|Параметр|Описание|
|-------------|---------------|
|Перечислить|Перечисляет записи журнала повреждений тома.|
|\<VolumePath >|Указывает том, как имя диска, за которым следует двоеточие.|
|\<LogName >|Поврежденный $ - набор подтверждена повреждений тома.<br />Проверьте $ - набор потенциальных, непроверенные повреждений тома.|
|инициировать|Инициирует автоматическое восстановление NTFS.|
|\<FileReference >|Указывает идентификатор тома файлов NTFS (номер ссылки файла). Ссылка на файл включает в себя номер сегмента файла.|
|запрос|Запрашивает самовосстановления состояние тома NTFS.|
|набора|Задает самовосстановления состояние тома.|
|\<Флаги >|Указывает метод восстановления для использования при задании самовосстановления состояние тома.<br /><br />**Флаги** параметру можно присвоить три значения:<br /><br />-   **0x01**: Включает общие восстановления.<br />-   **0x09**: Выдает предупреждение о возможной потере данных без восстановления.<br />-   **0x00**: Отключает NTFS самостоятельное восстановление, операции восстановления.|
|Состояние|Запрашивает состояние повреждения системы или для конкретного тома.|
|Подождите|Ожидает восстановления initiate для завершения. Если NTFS обнаружена проблема на томе, на котором он выполняет действия по восстановлению, этот параметр позволяет системе ожидания до завершения восстановления, прежде чем выполнять какие-либо ожидающие сценарии.|
|[WaitType {0&#124;1}]|Указывает, следует ли ожидать текущее восстановление для завершения или ожидания для исправления всех ошибок для завершения. *WaitType* можно задать следующие значения:<br /><br />-   **0**: Ожидает, пока все действия по восстановлению для завершения. (значение по умолчанию)<br />-   **1**: Ожидает в течение текущего исправления для завершения.|

## <a name="remarks"></a>Примечания

-   Самостоятельное восстановление, NTFS пытается устранить повреждения из файловой системы через Интернет, не требуя **Chkdsk.exe** для запуска. Эта функция появилась в Windows Server 2008. Дополнительные сведения см. в разделе [NTFS Восстанавливающая Self](https://go.microsoft.com/fwlink/?LinkID=165401).

## <a name="BKMK_examples"></a>Примеры

Чтобы перечислить подтверждена повреждений тома, введите следующую команду:

```
fsutil repair enumerate C: $Corrupt 
```

Чтобы включить самовосстановление восстановления на диске C, введите следующую команду:

```
fsutil repair set c: 1
```

Чтобы отключить самовосстановления восстановления на диске C, введите следующую команду:

```
fsutil repair set c: 0
```

#### <a name="additional-references"></a>Дополнительная справка
[Ключ синтаксиса командной строки](Command-Line-Syntax-Key.md)

[fsutil](Fsutil.md)

[Self Healing NTFS](https://go.microsoft.com/fwlink/?LinkID=165401)


