---
ms.assetid: 62d77150-1d9e-4069-ab4a-299f33024912
title: Fsutil Repair
ms.prod: windows-server
manager: dmoss
ms.author: toklima
author: toklima
ms.technology: storage
audience: IT Pro
ms.topic: article
ms.date: 10/16/2017
ms.openlocfilehash: 6e4e285bf8401d628f7e4bcbaeafb0c6defa3ad1
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/27/2019
ms.locfileid: "71376910"
---
# <a name="fsutil-repair"></a>Fsutil Repair
>Область применения: Windows Server (половина ежегодного канала), Windows Server 2016, Windows 10, Windows Server 2012 R2, Windows 8.1, Windows Server 2012, Windows 8, Windows Server 2008 R2, Windows 7

Администрирование и мониторинг операций восстановления с самостоятельным восстановлением NTFS.

В разделе [Примеры](#BKMK_examples) показан принцип использования этой команды.

## <a name="syntax"></a>Синтаксис

```
fsutil repair [enumerate] <volumepath> [<LogName>]
fsutil repair [initiate] <VolumePath> <FileReference>
fsutil repair [query] <VolumePath>
fsutil repair [set] <VolumePath> <Flags>
fsutil repair [wait][<WaitType>] <VolumePath>

```

## <a name="parameters"></a>Параметры

|Параметр|Описание|
|-------------|---------------|
|перечислить|Перечисление всех записей журнала повреждений тома.|
|\<volumepath >|Указывает том как имя диска, за которым следует двоеточие.|
|\<>|$Corrupt — набор подтвержденных повреждений в томе.<br />$Verify — набор потенциальных, непроверенных повреждений в томе.|
|инициализаци|Инициирует самостоятельную восстановление файловой системы NTFS.|
|\<FileReference >|Указывает идентификатор файла, относящийся к тому NTFS (номер ссылки на файл). Ссылка на файл включает номер сегмента файла.|
|запрос|Запрашивает состояние автоматического восстановления тома NTFS.|
|set|Задает состояние тома с самовосстановлением.|
|Флаги \<>|Указывает метод восстановления, используемый при установке состояния тома с самовосстановлением.<br /><br />Для параметра **flags** можно задать три значения:<br /><br />-   **0x01**: включает общее восстановление.<br />-   **0x09**: предупреждает о возможной потере данных без восстановления.<br />-   **0x00**: отключает восстановление с самовосстановлением NTFS.|
|state|Запрашивает состояние повреждения системы или для заданного тома.|
|wait|Ожидает завершения восстановления. Если файловая система NTFS обнаружила проблему на томе, на котором выполняется восстановление, этот параметр позволяет системе ожидать завершения восстановления, прежде чем запускать все ожидающие сценарии.|
|[Столбцы waittype {0&#124;1}]|Указывает, следует ли ожидать завершения текущего восстановления или ожидать завершения всех операций по восстановлению. Для *столбцы waittype* можно задать следующие значения:<br /><br />-   **0**: ожидание завершения всех исправлений. (значение по умолчанию)<br />-   **1**: ожидание завершения текущего исправления.|

## <a name="remarks"></a>Замечания

-   Самовосстанавливающаяся система NTFS пытается исправить повреждения файловой системы NTFS в режиме «в сети», не требуя запуска **программы chkdsk. exe** . Эта функция появилась в Windows Server 2008. Дополнительные сведения см. в разделе [самостоятельная восстанавливающая NTFS](https://go.microsoft.com/fwlink/?LinkID=165401).

## <a name="BKMK_examples"></a>Примеров

Чтобы перечислить подтвержденные повреждения тома, введите:

```
fsutil repair enumerate C: $Corrupt 
```

Чтобы включить восстановление с самовосстановлением на диске C, введите:

```
fsutil repair set c: 1
```

Чтобы отключить восстановление с самовосстановлением на диске C, введите:

```
fsutil repair set c: 0
```

#### <a name="additional-references"></a>Дополнительная справка
[Условные обозначения синтаксиса команд командной строки](Command-Line-Syntax-Key.md)

[Fsutil](Fsutil.md)

[Самостоятельная Восстановление NTFS](https://go.microsoft.com/fwlink/?LinkID=165401)


