---
title: compact
description: Справочная статья по команде Compact, которая отображает или изменяет сжатие файлов или каталогов в разделах NTFS.
ms.topic: reference
ms.assetid: 429b3752-df0a-43a4-a210-df2f3ad03c3b
ms.author: jgerend
author: JasonGerend
manager: mtillman
ms.date: 10/16/2017
ms.openlocfilehash: 5b080a5c9a77e48a7347616fdfd0114bd254cf52
ms.sourcegitcommit: db4c35ebe56d561768d2a657da9e6d6a791457bd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/04/2021
ms.locfileid: "101819608"
---
# <a name="compact"></a>compact

Отображает или изменяет сжатие файлов или каталогов в разделах NTFS. Если используется без параметров, **Compact** отображает состояние сжатия текущего каталога и всех содержащихся в нем файлов.

## <a name="syntax"></a>Синтаксис

```
compact [/C | /U] [/S[:dir]] [/A] [/I] [/F] [/Q] [/EXE[:algorithm]] [/CompactOs[:option] [/windir:dir]] [filename [...]]
```

### <a name="parameters"></a>Параметры

| Параметр | Описание |
| --------- | ----------- |
| /C | Сжимает указанный каталог или файл. Каталоги помечаются так, что файлы, добавленные впоследствии, сжимаются, если не указан параметр/ЕКСЕ. |
| /U | Распаковывает указанный каталог или файл. Каталоги помечаются так, что все добавленные файлы впоследствии не сжимаются. Если указан параметр/ЕКСЕ, то будут распакованы только файлы, сжатые в виде исполняемых файлов. Если не указать параметр/ЕКСЕ, то будут распакованы только сжатые файлы NTFS. |
| ключ`[:<dir>]` | Выполняет выбранную операцию с файлами в указанном каталоге и всех подкаталогах. По умолчанию в качестве значения используется текущий каталог `<dir>` . |
| /a | Отображает скрытые или системные файлы. По умолчанию эти файлы не включаются. |
| /i | Возобновляет выполнение указанной операции, игнорируя ошибки. По умолчанию эта команда останавливается при обнаружении ошибки. |
| /f | Принудительное сжатие или распаковка указанного каталога или файла. По умолчанию уже сжатые файлы пропускаются. Параметр **/f** используется в случае частично сжатого файла, когда операция была прервана из-за сбоя системы. Чтобы принудительно сжать файл целиком, используйте параметры **/c** и **/f** и укажите частично сжатый файл. |
| /q | Сообщает только наиболее ценные сведения. |
| /ексе | Использует сжатие, оптимизированное для исполняемых файлов, которые часто считываются, но не изменяются. Поддерживаются следующие алгоритмы:<ul><li>**XPRESS4K** (самое быстрое и значение по умолчанию)</li><li>**XPRESS8K**</li><li>**XPRESS16K**</li><li>**LZX** (наибольшая компактная)</li></ul> |
| /компактос | Задает или запрашивает состояние сжатия системы. Поддерживаются следующие параметры:<ul><li>**запрос** — запрашивает состояние **сжатия** системы.</li><li>**всегда** сжимает все двоичные файлы операционной системы и устанавливает для состояния системы значение Compact, которое остается неизменным, если администратор не изменит ее.</li><li>**никогда** — распаковывает все двоичные файлы операционной системы и устанавливает несжатое состояние системы, что остается, если администратор не изменяет ее.</li></ul> |
| /виндир | Используется с параметром **/компактос: Query** при запросе к автономной операционной системе. Указывает каталог, в котором установлена ОС Windows. |
| `<filename>` | Указывает шаблон, файл или каталог. Можно использовать несколько имен файлов, а также **&#42;** и **?** подстановочные знаки. |
| /? | Отображение справки в командной строке. |

#### <a name="remarks"></a>Комментарии

- Эта команда представляет собой версию функции сжатия файловой системы NTFS в командной строке. Состояние сжатия каталога указывает, будут ли файлы автоматически сжиматься при добавлении в каталог. Задание состояния сжатия каталога не обязательно приводит к изменению состояния сжатия файлов, которые уже находятся в каталоге.

- Эту команду нельзя использовать для чтения, записи или подключения томов, сжатых с помощью DriveSpace или DoubleSpace. Эту команду также нельзя использовать для сжатия разделов FAT или FAT32.

## <a name="examples"></a>Примеры

Чтобы задать состояние сжатия текущего каталога, его подкаталогов и существующих файлов, введите:

```
compact /c /s
```

Чтобы задать состояние сжатия файлов и подкаталогов в текущем каталоге, не изменяя состояние сжатия текущего каталога, введите:

```
compact /c /s *.*
```

Чтобы сжать том, в корневом каталоге тома введите:

```
compact /c /i /s:\
```

> [!NOTE]
> В этом примере задается состояние сжатия всех каталогов (включая корневой каталог на томе) и сжимается каждый файл на томе. Параметр **/i** предотвращает прерывание процесса сжатия сообщений об ошибках.

Чтобы сжать все файлы с расширением. bmp в каталоге \тмп и во всех подкаталогах \тмп, не изменяя атрибут уплотнения каталогов, введите:

```
compact /c /s:\tmp *.bmp
```

Чтобы принудительно выполнить сжатие файла *zebra.bmp*, которое было частично сжато во время сбоя системы, введите:

```
compact /c /f zebra.bmp
```

Чтобы удалить сжатый атрибут из каталога к:\тмп, не изменяя состояние сжатия каких бы то ни было файлов в этом каталоге, введите:

```
compact /u c:\tmp
```

## <a name="additional-references"></a>Дополнительные ссылки

- [Условные обозначения синтаксиса команд командной строки](command-line-syntax-key.md)