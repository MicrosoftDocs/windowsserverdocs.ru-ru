---
title: Use local resources on Hyper-V virtual machine with VMConnect
description: Описывает требования к использованию локальных ресурсов с вложенной виртуализацией
ms.prod: windows-server-threshold
ms.service: na
manager: dongill
ms.technology: compute-hyper-v
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 18eface5-7518-4c6b-9282-93e2e3e87492
author: KBDAzure
ms.author: kathyDav
ms.date: 12/06/2016
ms.openlocfilehash: 196a32d57877662ccd73647835e16af9348135c8
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59845295"
---
# <a name="use-local-resources-on-hyper-v-virtual-machine-with-vmconnect"></a>Use local resources on Hyper-V virtual machine with VMConnect

>Область применения. Windows 10, Windows 8.1, Windows Server 2016, Windows Server 2012 R2

Подключение к виртуальной машине (VMConnect) позволяет использовать локальные ресурсы компьютера в виртуальную машину, как съемных флэш-накопитель или принтер. Режим расширенного сеанса позволяет также изменить размер окна VMConnect. В этой статье показано, как настроить узел, а затем присвоить виртуальным машинам доступ к локальному ресурсу.

Режим расширенного сеанса и текст из буфера обмена типа доступны только для виртуальных машин, работающих новых операционных системах Windows. \(См. в разделе [требования для использования локальных ресурсов](#BKMK_NEW)ниже.\) 

Виртуальные машины под управлением Ubuntu, см. в разделе [изменения разрешения экрана Ubuntu на виртуальной Машине Hyper-V](https://blogs.msdn.microsoft.com/virtual_pc_guy/2014/09/19/changing-ubuntu-screen-resolution-in-a-hyper-v-vm/). 
  
## <a name="BKMK_OVER"></a>Включение режима расширенного сеанса на узле Hyper-V  
Если на узле Hyper-V работает в Windows 10 или Windows 8.1, режим расширенного сеанса включен по умолчанию, поэтому можно пропустить этот шаг и перемещение к следующему разделу. Но если на узле запущена операционная Windows Server 2016 или Windows Server 2012 R2, выполняется первой. 
  
Включение режима расширенного сеанса:

1.  Подключитесь к компьютеру, на котором размещена виртуальная машина.  
  
2.  В диспетчере Hyper-V выберите имя компьютера узла.  
  
    ![Снимок экрана, показывающий имя компьютера узла, перечисленных в разделе диспетчера Hyper-V в области слева.](media/Hyper-V-HyperVManager-HostNameSelected.png)  
  
3.  Выберите **Параметры Hyper-V**.  
  
    ![Снимок экрана: параметр параметры Hyper-V в области действий в области справа.](media/HyperV-ActionsHyperVSettings.png)  
  
4.  В разделе **Сервер** выберите **Политика режима расширенного сеанса**.  
  
    ![Снимок экрана: параметр политики режим расширенного сеанса в разделе "Безопасность".](media/Hyper-V-Settings-ServerEnhancedSessionModePolicy.png)  
  
5.  Установите флажок **Разрешить режим расширенного сеанса** .  
  
    ![Снимок экрана, показывающий разрешить расширенного режима сеанса флажок политика режима расширенного сеанса.](media/Hyper-V-Settings-EnhancedSessionModePolicyCheckBox.png)  
  
6.  В разделе **Пользователь**выберите **Режим расширенного сеанса**.  
  
    ![Снимок экрана: параметр режим расширенного сеанса в разделе "пользователь". ](media/Hyper-V-Settings-UserEnhancedSessionMode.png)  
  
7.  Установите флажок **Разрешить режим расширенного сеанса** .  
  
8.  Нажмите кнопку **ОК**.  
  
## <a name="choose-a-local-resource"></a>Выбрать локальный ресурс

Локальные ресурсы включают принтеры, буфер обмена и локальный диск на компьютере, где выполняется VMConnect. Дополнительные сведения см. в разделе [требования для использования локальных ресурсов](#BKMK_NEW)ниже.  
  
Чтобы выбрать локальный ресурс:
  
1.  Откройте VMConnect.  
  
2.  Выберите виртуальную машину, к которой нужно подключиться.  
  
3.  Нажмите кнопку **Показать параметры**.  
  
    ![Снимок экрана, который вызывает out Показать параметры в левой нижней части диалогового окна.](media/HyperV-VMConnect-DisplayConfig.png)  
  
4.  Выберите **Локальные ресурсы**.  
  
    ![Снимок экрана, вызывает вкладке Локальные ресурсы.](media/HyperV-VMConnect-DisplayConfig-LocalResources.png)  
  
5.  Нажмите кнопку **Дополнительно**.  
  
    ![Снимок экрана, вызывает дополнительные кнопки.](media/HyperV-VMConnect-DisplayConfig-LocalResourcesMore.png)  
  
6.  Выберите диск, который нужно использовать на виртуальной машине, и нажмите кнопку **ОК**.  
  
    ![Снимок экрана с локальными ресурсами и диски, которые можно выбрать.](media/HyperV-VMConnect-Settings-LocalResourcesDrives.png)  
  
7.  Выберите **Сохранить мои параметры для подключения к этой виртуальной машине**.  
  
    ![Снимок экрана, который вызывает этот флажок, чтобы выбрать для этого параметра.](media/HyperV-VMConnect-SaveSettings.png)  
  
8.  Нажмите кнопку **Подключить**.  
  
## <a name="edit-vmconnect-settings"></a>Изменение параметров VMConnect

Для изменения параметров подключения VMConnect выполните следующую команду в командной строке или в Windows PowerShell:  
  
`VMConnect.exe <ServerName> <VMName> /edit`  
  
## <a name="BKMK_NEW"></a>Требования к использованию локальных ресурсов

Чтобы иметь возможность использовать локальные ресурсы компьютера, на виртуальной машине:  
  
-   На узле Hyper-V должны быть **политика режима расширенного сеанса** и **режим расширенного сеанса** включены параметры.  
  
-   Компьютер, на котором используется VMConnect необходимо запустить Windows 10, Windows 8.1, Windows Server 2016 или Windows Server 2012 R2.  
  
-   Виртуальная машина должен иметь служб удаленных рабочих столов включения и запуска Windows 10, Windows 8.1, Windows Server 2016 или Windows Server 2012 R2 операционной системой на виртуальной машине.  
  
Если компьютером с VMConnect и виртуальной машины и соответствует требованиям, можно использовать любой из следующих локальных ресурсов, если они доступны:  
  
-   Настройка отображения  
  
-   Звук
  
-   Принтеры  
  
-   буферы обмена для копирования и вставки;  
  
-   Смарт-карты  
  
-   USB-устройства  
  
-   Накопители  
  
-   поддерживаемые самонастраивающиеся устройства;  
  
## <a name="BKMK_APP"></a>Зачем использовать локальные ресурсы компьютера?
Вы можете использовать локальные ресурсы компьютера для:  
  
-   устранение неполадок виртуальной машины без сетевого подключения к виртуальной машине;  
  
-   копирование файлов в виртуальную машину и из нее аналогично копированию с помощью подключения удаленного рабочего стола (RDP).  
  
-   вход в систему виртуальной машины с использованием смарт-карты;  
  
-   печать с виртуальной машины на локальном принтере;  
  
-   тестирование и устранение неполадок приложений разработчиков, требующих USB или перенаправление звука без использования RDP.  
  
## <a name="see-also"></a>См. также  
[Подключение к виртуальной машине](https://technet.microsoft.com/library/cc742407.aspx)  
[Следует ли создавать виртуальные машины поколения 1 или 2 в Hyper-V?](../plan/Should-I-create-a-generation-1-or-2-virtual-machine-in-Hyper-V.md)



