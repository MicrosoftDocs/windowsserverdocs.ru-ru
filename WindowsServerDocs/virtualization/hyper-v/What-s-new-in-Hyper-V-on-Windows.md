---
title: Новые возможности Hyper-V в Windows Server 2016
description: Содержит сводку новых возможностей Hyper-V.
ms.prod: windows-server
manager: dongill
ms.technology: compute-hyper-v
ms.topic: article
ms.assetid: 1a65a98e-54b6-4c41-9732-1e3d32fe3a5f
author: kbdazure
ms.author: kathydav
ms.date: 09/21/2017
ms.openlocfilehash: 5fc82d8eea78ad5605dceb6a21e8d543f9d9c88e
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2020
ms.locfileid: "80857967"
---
# <a name="whats-new-in-hyper-v-on-windows-server"></a>Новые возможности Hyper-V в Windows Server

>Область применения: Windows Server 2019, Microsoft Hyper-V Server 2016, Windows Server 2016
  
В этой статье объясняются новые и измененные функции Hyper-V в Windows Server 2019, Windows Server 2016 и Microsoft Hyper-V Server 2016. Чтобы использовать новые возможности виртуальных машин, созданных с помощью Windows Server 2012 R2 и перемещенных или импортированных на сервер под управлением Hyper-V в Windows Server 2019 или Windows Server 2016, необходимо вручную обновить версию конфигурации виртуальной машины. Инструкции см. в статье [Обновление версии виртуальной машины](deploy/Upgrade-virtual-machine-version-in-Hyper-V-on-Windows-or-Windows-Server.md).  
  
Ниже приведены именно, включенные в эту статью, а также новые или обновленные функциональные возможности.  

## <a name="windows-server-version-1903"></a>Windows Server версии 1903

### <a name="add-hyper-v-manager-to-server-core-installations-updated"></a>Добавление диспетчера Hyper-V в установки основных серверных компонентов (Обновлено)

Как правило, при использовании Windows Server (канала Semi-Annual Channel) в рабочей среде рекомендуется применять вариант установки основных серверных компонентов. Однако в основных серверных компонентах по умолчанию отсутствует ряд полезных средств управления. Вы можете добавить многие из наиболее часто используемых средств, установив пакет компонентов для обеспечения совместимости приложений, но некоторые средства в нем все еще отсутствовали.

Поэтому, основываясь на отзывах клиентов, мы добавили еще один инструмент в функцию совместимости приложений в этой версии: Диспетчер Hyper-V (виртмгмт. msc).

Дополнительные сведения см. в статье [Пакет компонентов для обеспечения совместимости приложений основных серверных компонентов по требованию](../../get-started-19/install-fod-19.md).

## <a name="windows-server-2019"></a>Windows Server 2019

### <a name="security-shielded-virtual-machines-improvements-new"></a>Безопасность: улучшения экранированных виртуальных машин (новые)

- **Улучшения для филиалов**

    Теперь экранированные виртуальные машины можно запускать на компьютерах с периодическими разрывами подключения к службе защиты узла, используя новый [резервный сервер HGS](https://docs.microsoft.com/windows-server/security/guarded-fabric-shielded-vm/guarded-fabric-manage-branch-office#fallback-configuration) и [автономный режим](https://docs.microsoft.com/windows-server/security/guarded-fabric-shielded-vm/guarded-fabric-manage-branch-office#offline-mode). Резервный сервер HGS позволяет настроить второй набор URL-адресов для Hyper-V, который будет использоваться в случае невозможности установления подключения к основному серверу HGS.

    Автономный режим дает возможность продолжить запуск экранированных виртуальных машин, даже если не удается установить подключение к HGS при условии, что виртуальная машина была успешно запущена хотя бы один раз и в конфигурацию системы безопасности узла не вносились изменения.

- **Дополнительные возможности устранения неполадок**

    Мы также упростили процесс [устранения неполадок в работе экранированных виртуальных машин](https://docs.microsoft.com/windows-server/security/guarded-fabric-shielded-vm/guarded-fabric-troubleshoot-shielded-vms) за счет добавления поддержки режима расширенного сеанса VMConnect и PowerShell Direct. Эти средства будут особенно полезны при потере сетевого подключения к виртуальной машине и возникновении необходимости обновить ее конфигурацию, чтобы восстановить доступ.

    Эти функции не нужно настраивать, они становятся доступны автоматически, когда экранированная виртуальная машина размещается на узле Hyper-V под управлением Windows Server версии 1803 или выше.

- **Поддержка Linux**

    Теперь Windows Server 2019 поддерживает выполнение систем Ubuntu, Red Hat Enterprise Linux и SUSE Linux Enterprise Server внутри экранированных виртуальных машина при работе в средах со смешанными ОС.

## <a name="windows-server-2016"></a>Windows Server 2016

### <a name="compatible-with-connected-standby-new"></a>Совместимо с подключенным ждущим \(новых\)

Если роль Hyper-V установлена на компьютере, где используется модель электропитания всегда включен, всегда на связи (АОАК), то теперь доступно состояние питания с **подключением в режиме ожидания** .  
  
### <a name="discrete-device-assignment-new"></a>Отдельное назначение устройств \(новых\)

Эта функция позволяет предоставить виртуальным машинам прямой и эксклюзивный доступ к некоторым устройствам PCIe. Использование устройства таким образом обходит стек виртуализации Hyper-V, что приводит к более быстрому доступу. Дополнительные сведения о поддерживаемом оборудовании см. в разделе "назначение дискретных устройств" раздела [требования к системе для Hyper-V в Windows Server 2016](System-requirements-for-Hyper-V-on-Windows.md). Дополнительные сведения, в том числе о том, как использовать эту функцию и рекомендации, см. в блоге по виртуализации "[дискретное назначение устройств — описание и фон](https://blogs.technet.microsoft.com/virtualization/2015/11/19/discrete-device-assignment-description-and-background/)".

### <a name="encryption-support-for-the-operating-system-disk-in-generation-1-virtual-machines-new"></a>Поддержка шифрования для диска операционной системы на виртуальных машинах поколения 1 \(новых)

Теперь можно защитить диск операционной системы с помощью шифрования диска BitLocker в виртуальных машинах поколения 1. Новая функция, хранилище ключей, создает небольшой выделенный диск для хранения ключа BitLocker системного диска. Это делается вместо использования виртуального доверенный платформенный модуль (TPM) (TPM), доступного только в виртуальных машинах версии 2. Чтобы расшифровать диск и запустить виртуальную машину, узел Hyper-V должен быть частью полномочной защищенной структуры или иметь закрытый ключ из одного из хранителей виртуальной машины. Для хранилища ключей требуется виртуальная машина версии 8. Сведения о версии виртуальной машины см. [в статье обновление версии виртуальной машины в Hyper-V в Windows 10 или Windows Server 2016](./deploy/upgrade-virtual-machine-version-in-hyper-v-on-windows-or-windows-server.md).  
  
### <a name="host-resource-protection-new"></a>Защита ресурсов узла \(новых\)

Эта функция позволяет предотвратить использование виртуальной машиной большего количества системных ресурсов, выполняя поиск чрезмерных уровней активности. Это может помочь предотвратить чрезмерное функционирование виртуальной машины в производительности узла или других виртуальных машин. Когда наблюдение обнаруживает виртуальную машину с чрезмерными действиями, виртуальной машине выдается меньше ресурсов. Этот мониторинг и принудительное использование отключены по умолчанию. Включите или отключите его с помощью Windows PowerShell. Чтобы включить его, выполните следующую команду:  
  
```
Set-VMProcessor TestVM -EnableHostResourceProtection $true
```

Дополнительные сведения об этом командлете см. в разделе [Set-вмпроцессор](https://docs.microsoft.com/powershell/module/hyper-v/set-vmprocessor).

### <a name="hot-add-and-remove-for-network-adapters-and-memory-new"></a>"Горячее" Добавление и удаление для сетевых адаптеров и памяти \(новых\)

Теперь вы можете добавить или удалить сетевой адаптер во время работы виртуальной машины без простоев. Это работает для виртуальных машин версии 2, работающих под управлением операционных систем Windows или Linux.  
  
Можно также настроить объем памяти, назначенный виртуальной машине во время ее работы, даже если вы не включили динамическая память. Это работает как для виртуальных машин поколения 1, так и для поколения 2, работающих под Windows Server 2016 или Windows 10.  

### <a name="hyper-v-manager-improvements-updated"></a>Усовершенствования диспетчера Hyper-V \(обновлены\) 
  
-   **Поддержка альтернативных учетных данных** . Теперь вы можете использовать другой набор учетных данных в диспетчере Hyper-V при подключении к другому удаленному узлу windows Server 2016 или Windows 10. Можно также сохранить эти учетные данные, чтобы упростить вход в систему.  
  
-   **Управление более ранними версиями** . с помощью диспетчера Hyper-v в windows Server 2019, windows Server 2016 и Windows 10 можно управлять компьютерами под управлением Hyper-v на windows Server 2012, Windows 8, windows Server 2012 R2 и Windows 8.1.  
  
-   **Обновленный Протокол управления** . Теперь диспетчер Hyper-v взаимодействует с удаленными узлами Hyper-v с помощью протокола WS-Man, который разрешает проверку подлинности CredSSP, Kerberos или NTLM. При использовании CredSSP для подключения к удаленному узлу Hyper-V можно выполнить динамическую миграцию без включения ограниченного делегирования в Active Directory. Инфраструктура на основе WS-MAN также упрощает включение узла для удаленного управления. WS-MAN подключается через порт 80, который открыт по умолчанию.  
  
### <a name="integration-services-delivered-through-windows-update-updated"></a>Службы Integration Services доставляются через Центр обновления Windows \(обновлен\) 

Обновления служб Integration Services для гостевых систем Windows распространяются с помощью Центр обновления Windows. Для поставщиков услуг и устройств размещения частных облаков это позволяет управлять применением обновлений в руки клиентов, владеющих виртуальными машинами. Клиенты теперь могут обновлять виртуальные машины Windows, используя все обновления, включая службы Integration Services, с помощью одного метода. Дополнительные сведения о службах Integration Services для гостевых систем Linux см. [в статье виртуальные машины Linux и FreeBSD в Hyper-V](Supported-Linux-and-FreeBSD-virtual-machines-for-Hyper-V-on-Windows.md).  
  
> [!IMPORTANT]  
> Файл образа vmguest. ISO больше не нужен, поэтому он не входит в состав Hyper-V в Windows Server 2016.  
  
### <a name="linux-secure-boot-new"></a>Безопасная загрузка Linux \(новых\) 

Операционные системы Linux, работающие на виртуальных машинах поколения 2, теперь могут загружаться с включенным параметром безопасной загрузки. Ubuntu 14,04 и более поздние версии SUSE Linux Enterprise Server 12 и более поздних версий, Red Hat Enterprise Linux 7,0 и более поздних версий, а CentOS 7,0 и более поздних версий включены для безопасной загрузки на узлах под управлением Windows Server 2016. Прежде чем загружать виртуальную машину в первый раз, необходимо настроить виртуальную машину для использования центра сертификации Microsoft UEFI. Это можно сделать с помощью диспетчера Hyper-V, Virtual Machine Manager или сеанса Windows PowerShell с повышенными правами. Для Windows PowerShell выполните следующую команду:  
  
```  
Set-VMFirmware TestVM -SecureBootTemplate MicrosoftUEFICertificateAuthority  
```  
  
Дополнительные сведения о виртуальных машинах Linux в Hyper-V см. [в статье виртуальные машины Linux и FreeBSD в Hyper-v](Supported-Linux-and-FreeBSD-virtual-machines-for-Hyper-V-on-Windows.md). Дополнительные сведения о командлете см. в разделе [Set-вмфирмваре](https://docs.microsoft.com/powershell/module/hyper-v/set-vmfirmware).

### <a name="more-memory-and-processors-for-generation-2-virtual-machines-and-hyper-v-hosts-updated"></a>Дополнительные объемы памяти и процессоры для виртуальных машин поколения 2 и узлов Hyper-V \(обновлены\)

Начиная с версии 8, виртуальные машины поколения 2 могут использовать значительно больше памяти и виртуальных процессоров. Кроме того, для узлов можно настроить значительно больше памяти и виртуальных процессоров, чем поддерживалось ранее. Эти изменения поддерживают новые сценарии, такие как запуск больших баз данных в памяти электронной коммерции для оперативной обработки транзакций (OLTP) и хранения данных (DW). В блоге Windows Server недавно публиковались результаты производительности виртуальной машины с 5,5 терабайтами памяти и виртуальными процессорами 128, в которых используется 4 ТБ базы данных в памяти. Производительность была выше 95% от производительности физического сервера. Дополнительные сведения см. [в разделе производительность крупномасштабной виртуальной машины Windows Server 2016 Hyper-V для обработки транзакций в памяти](https://blogs.technet.microsoft.com/windowsserver/2016/09/28/windows-server-2016-hyper-v-large-scale-vm-performance-for-in-memory-transaction-processing/). Дополнительные сведения о версиях виртуальных машин см. [в статье обновление версии виртуальной машины в Hyper-V в Windows 10 или Windows Server 2016](./deploy/Upgrade-virtual-machine-version-in-Hyper-V-on-Windows-or-Windows-Server.md). Полный список поддерживаемых максимальных конфигураций см. [в статье Планирование масштабируемости Hyper-V в Windows Server 2016](./plan/plan-hyper-v-scalability-in-windows-server.md). 

### <a name="nested-virtualization-new"></a>Вложенная виртуализация \(новые\)

Эта функция позволяет использовать виртуальную машину в качестве узла Hyper-V и создавать виртуальные машины внутри этого виртуального узла. Это может быть особенно полезно для сред разработки и тестирования. Чтобы использовать вложенную виртуализацию, вам потребуется:  
  
-   Для запуска как минимум Windows Server 2019, Windows Server 2016 или Windows 10 на физическом узле Hyper-V и виртуализированном узле.  
  
-   Процессор с Intel VT-x (вложенная виртуализация доступна только для процессоров Intel в настоящее время).  
  
Дополнительные сведения и инструкции см. [в статье запуск Hyper-V в виртуальной машине с вложенной виртуализацией](https://docs.microsoft.com/virtualization/hyper-v-on-windows/user-guide/nested-virtualization).  
  
### <a name="networking-features-new"></a>Сетевые функции \(новых\)

Новые сетевые функции включают:  
  
-   **Удаленный доступ к памяти (RDMA) и включение объединения внедренных параметров (Set)** . Вы можете настроить RDMA на сетевых адаптерах, привязанных к виртуальному коммутатору Hyper-V, независимо от того, используется ли также набор. Параметр SET предоставляет виртуальный коммутатор с некоторыми возможностями, такими как объединение сетевых карт. Дополнительные сведения см. в разделе [Удаленный доступ к памяти (RDMA) и включение объединения внедренных команд (Set)](https://docs.microsoft.com/windows-server/virtualization/hyper-v-virtual-switch/rdma-and-switch-embedded-teaming).  
  
-   **Несколько очередей виртуальной машины (вммк)** . Повышение пропускной способности VMQ за счет выделения нескольких очередей оборудования на каждую виртуальную машину.  Очередь по умолчанию становится набором очередей для виртуальной машины, а трафик распределяется между очередями.  
  
-   **Качество обслуживания (QoS) для программно-определяемых сетей**. Управляет классом трафика по умолчанию через виртуальный коммутатор в рамках пропускной способности класса по умолчанию.  
  
Дополнительные сведения о новых сетевых функциях см. в разделе новые возможности работы [в сети](../../networking/What-s-New-in-Networking.md).  
  
### <a name="production-checkpoints-new"></a>Рабочие контрольные точки \(новых\)

Рабочие контрольные точки — это образы виртуальных машин на момент времени. Это дает возможность применить контрольную точку, которая соответствует политикам поддержки, когда виртуальная машина выполняет рабочую нагрузку. Рабочие контрольные точки основаны на технологии резервного копирования в гостевой виртуальной машине, а не в сохраненном состоянии. Для виртуальных машин Windows используется служба моментальных снимков томов (VSS). Для виртуальных машин Linux буферы файловой системы сбрасываются для создания контрольной точки, которая согласуется с файловой системой. Если вы предпочитаете использовать контрольные точки на основе сохраненных состояний, выберите вместо этого стандартные контрольные точки. Дополнительные сведения см. [в разделе Выбор контрольных точек уровня "Стандартный" или "Рабочая" в Hyper-V](manage/Choose-between-standard-or-production-checkpoints-in-Hyper-V.md).  
  
> [!IMPORTANT]  
> Новые виртуальные машины используют рабочие контрольные точки по умолчанию.  
  
### <a name="rolling-hyper-v-cluster-upgrade-new"></a>Откат обновления кластера Hyper-V \(новых\)

Теперь можно добавить узел под управлением Windows Server 2019 или Windows Server 2016 в кластер Hyper-V с узлами, работающими под управлением Windows Server 2012 R2. Это позволяет обновлять кластер без простоев. Кластер работает на уровне компонентов Windows Server 2012 R2 до тех пор, пока вы не обновите все узлы в кластере и не обновите режим работы кластера с помощью командлета Windows PowerShell [Update-клустерфунктионаллевел](https://docs.microsoft.com/powershell/module/failoverclusters/Update-ClusterFunctionalLevel).  
  
> [!IMPORTANT]  
> После обновления функционального уровня кластера его нельзя вернуть в Windows Server 2012 R2.  
  
Для кластера Hyper-V с функциональным уровнем Windows Server 2012 R2 с узлами, работающими под управлением Windows Server 2012 R2, Windows Server 2019 и Windows Server 2016, обратите внимание на следующее:  
  
-   Управление кластером, Hyper-V и виртуальными машинами с узла под управлением Windows Server 2016 или Windows 10.  
  
-   Виртуальные машины можно перемещать между всеми узлами в кластере Hyper-V.  
  
-   Чтобы использовать новые функции Hyper-V, на всех узлах должен быть запущен Windows Server 2016, а также должен быть обновлен функциональный уровень кластера.  
  
-   Версия конфигурации виртуальной машины для существующих виртуальных машин не обновлена. Версию конфигурации можно обновить только после обновления функционального уровня кластера.  
  
-   Создаваемые виртуальные машины совместимы с Windows Server 2012 R2, уровень настройки виртуальной машины 5.  
  
После обновления функционального уровня кластера выполните следующие действия.  
  
-   Вы можете включить новые функции Hyper-V.  
  
-   Чтобы сделать новые функции виртуальной машины доступными, используйте командлет Update-Вмконфигуратионверсион, чтобы вручную обновить уровень конфигурации виртуальной машины. Инструкции см. в статье [Обновление версии виртуальной машины](deploy/Upgrade-virtual-machine-version-in-Hyper-V-on-Windows-or-Windows-Server.md).    
-   Невозможно добавить узел в кластер Hyper-V, работающий под управлением Windows Server 2012 R2.  
  
> [!NOTE]  
> Hyper-V в Windows 10 не поддерживает отказоустойчивую кластеризацию.  
  
Дополнительные сведения и инструкции см. в разделе [последовательное обновление операционной системы кластера](https://technet.microsoft.com/library/dn850430.aspx).  

### <a name="shared-virtual-hard-disks-updated"></a>\(обновлены общие виртуальные жесткие диски\)
Теперь вы можете изменить размер общих виртуальных жестких дисков (VHDX-файлов), используемых для гостевой кластеризации, без простоев. Общие виртуальные жесткие диски могут быть увеличены или сжаты, пока виртуальная машина находится в сети. Гостевые кластеры теперь также могут защищать общие виртуальные жесткие диски с помощью реплики Hyper-V для аварийного восстановления.

Включите репликацию в коллекции. Включение репликации в коллекции **предоставляется только через интерфейс WMI**. Дополнительные сведения см. в документации по [классу Msvm_CollectionReplicationService](https://msdn.microsoft.com/library/mt167787%28v=vs.85%29.aspx) . **Управлять репликацией коллекции с помощью командлета или пользовательского интерфейса PowerShell нельзя.** Виртуальные машины должны находиться на узлах, которые являются частью кластера Hyper-V, для доступа к функциям, относящимся к коллекции. Сюда входят общие виртуальные жесткие диски общего виртуального жесткого диска на автономных узлах, которые не поддерживаются репликой Hyper-V.

Следуйте указаниям для общих виртуальных жестких дисков в разделе [Обзор общего доступа к виртуальному жесткому диску](https://technet.microsoft.com/library/dn281956.aspx)и убедитесь, что общие виртуальные жесткие диски входят в состав гостевого кластера. 

Коллекция с общим виртуальным жестким диском, но не связанным гостевым кластером, не может создавать опорные точки для коллекции (независимо от того, включен ли общий виртуальный жесткий диск в создание опорной точки). 

### <a name="virtual-machine-backupnew"></a>Резервное копирование виртуальных машин\(новых\)

При резервном копировании одной виртуальной машины (независимо от того, кластеризован ли узел или нет) не следует использовать группу виртуальных машин.  Также не следует использовать коллекцию моментальных снимков. Группы виртуальных машин и коллекция моментальных снимков предназначены для использования только для резервного копирования гостевых кластеров, использующих общие VHDX-файлы. Вместо этого следует создать моментальный снимок с помощью [поставщика WMI Hyper-V версии 2](https://msdn.microsoft.com/library/windows/desktop/hh850319(v=vs.85).aspx). Аналогичным образом не используйте [поставщик WMI для отказоустойчивого кластера](https://msdn.microsoft.com/library/windows/desktop/mt167750(v=vs.85).aspx).

### <a name="shielded-virtual-machines-new"></a>Экранированные виртуальные машины \(новых\)

Экранированные виртуальные машины используют несколько функций для того, чтобы администраторам и вредоносным программам Hyper-V на узле было трудно проверять, изменять или украсть данные из состояния экранированной виртуальной машины. Данные и состояние шифруются, администраторы Hyper-V не могут просматривать выходные данные и диски видео, а виртуальные машины могут быть ограничены только известными работоспособными узлами, определенными сервером защиты узла. Дополнительные сведения см. в разделе [защищенная структура и экранированные виртуальные машины](../../security/guarded-fabric-shielded-vm/guarded-fabric-and-shielded-vms.md).
  
> [!NOTE]  
> Экранированные виртуальные машины совместимы с репликой Hyper-V. Для репликации экранированной виртуальной машины узел, на который требуется выполнить репликацию, должен быть полномочным для запуска экранированной виртуальной машины.  

### <a name="start-order-priority-for-clustered-virtual-machines-new"></a>Запуск приоритета заказа для кластеризованных виртуальных машин \(новых\)

Эта функция обеспечивает более полный контроль над тем, какие кластеризованные виртуальные машины запускаются или перезапускаются первыми. Это упрощает запуск виртуальных машин, предоставляющих службы, до виртуальных машин, использующих эти службы. Определение наборов, размещение виртуальных машин в наборах и указание зависимостей. Используйте командлеты Windows PowerShell для управления наборами, такими как [New-клустерграупсет](https://docs.microsoft.com/powershell/module/failoverclusters/new-clustergroupset), [Get-клустерграупсет](https://docs.microsoft.com/powershell/module/failoverclusters/get-clustergroupset)и [Add-клустерграупсетдепенденци](https://docs.microsoft.com/powershell/module/failoverclusters/add-clustergroupsetdependency).
.  
### <a name="storage-quality-of-service-qos-updated"></a>Обновление качества обслуживания (QoS) \(\)

Теперь можно создавать политики качества обслуживания хранилища на масштабируемом файловом сервере и назначить их одному или нескольким виртуальным дискам на виртуальных машинах Hyper-V. Производительность хранилища автоматически переопределяется в соответствии с политиками по мере колебания объемов загрузки хранилища. Дополнительные сведения см. в разделе [качество обслуживания хранилища](../../storage/storage-qos/storage-qos-overview.md).  
  
### <a name="virtual-machine-configuration-file-format-updated"></a>\(обновлен формат файла конфигурации виртуальной машины\)

Файлы конфигурации виртуальной машины используют новый формат, который повышает эффективность чтения и записи данных конфигурации. Формат также делает повреждение данных менее вероятной, если происходит сбой хранилища. Файлы данных конфигурации виртуальной машины используют расширение имени файла vmcx и файлы данных состояния среды выполнения используют расширение имени файла. vmrs.  
  
> [!IMPORTANT]  
> Расширение имени файла vmcx указывает на двоичный файл. Изменение файлов. vmcx или. vmrs не поддерживается.  
  
### <a name="virtual-machine-configuration-version-updated"></a>\(обновлена версия конфигурации виртуальной машины\)

Версия представляет совместимость конфигурации виртуальной машины, сохраненного состояния и файлов моментальных снимков с версией Hyper-V. Виртуальные машины с версией 5 совместимы с Windows Server 2012 R2 и могут работать как в Windows Server 2012 R2, так и в Windows Server 2016. Виртуальные машины с версиями, представленными в Windows Server 2016 и Windows Server 2019, не будут работать в Hyper-V в Windows Server 2012 R2.   
  
При перемещении или импорте виртуальной машины на сервер под управлением Hyper-V в Windows Server 2016 или Windows Server 2019 с Windows Server 2012 R2 Конфигурация виртуальной машины не обновляется автоматически. Это означает, что виртуальную машину можно переместить обратно на сервер под управлением Windows Server 2012 R2. Но это также означает, что вы не можете использовать новые функции виртуальных машин, пока вы вручную не обновите версию конфигурации виртуальной машины.  
  
Инструкции по проверке и обновлению версии см. в статье [Обновление версии виртуальной машины](deploy/Upgrade-virtual-machine-version-in-Hyper-V-on-Windows-or-Windows-Server.md). В этой статье также приведена версия, в которой появились некоторые функции.   
  
> [!IMPORTANT]  
> -   После обновления версии виртуальную машину нельзя переместить на сервер под управлением Windows Server 2012 R2.  
> -   Невозможно понизить конфигурацию до предыдущей версии.  
> -   Командлет [Update-VMVersion](https://docs.microsoft.com/powershell/module/hyper-v/update-vmversion) блокируется в кластере Hyper-V, если функциональный уровень кластера — Windows Server 2012 R2.  

### <a name="virtualization-based-security-for-generation-2-virtual-machines-new"></a>Безопасность на основе виртуализации для виртуальных машин версии 2 \(новые)

Безопасность на основе виртуализации включает такие функции, как Device Guard и Credential Guard, предлагающая повышенную защиту операционной системы от вредоносных программ. Безопасность на основе виртуализации доступна на гостевых виртуальных машинах поколения 2, начиная с версии 8. Сведения о версии виртуальной машины см. [в статье обновление версии виртуальной машины в Hyper-V в Windows 10 или Windows Server 2016](./deploy/upgrade-virtual-machine-version-in-hyper-v-on-windows-or-windows-server.md).

### <a name="windows-containers-new"></a>Контейнеры Windows \(новые\)

Контейнеры Windows позволяют нескольким изолированным приложениям работать на одной компьютерной системе. Они быстро создают и поддерживают высокую масштабируемость и переносимость. Доступны два типа среды выполнения контейнеров, каждая из которых имеет разную степень изоляции приложений. Контейнеры Windows Server используют пространство имен и изоляцию процессов. В контейнерах Hyper-V для каждого контейнера используется небольшая виртуальная машина.  
  
Ключевые возможности  
  
-   Поддержка веб-сайтов и приложений с помощью HTTPS  
  
-   На сервере Nano Server могут размещаться контейнеры Windows Server и Hyper-V  
  
-   Возможность управлять данными через общие папки контейнера  
  
-   Возможность ограничения ресурсов контейнера  
  
Дополнительные сведения, включая краткие руководства по началу работы, см. в [документации по контейнерам Windows](https://docs.microsoft.com/virtualization/windowscontainers/index).  
  
### <a name="windows-powershell-direct-new"></a>Windows PowerShell Direct \(новый\)

Это дает возможность выполнять команды Windows PowerShell на виртуальной машине с узла. Windows PowerShell Direct выполняется между узлом и виртуальной машиной. Это означает, что не требуются требования к сети или брандмауэру, и он работает независимо от конфигурации удаленного управления.  
  
Windows PowerShell Direct — это альтернатива существующим средствам, которые администраторы Hyper-V используют для подключения к виртуальной машине на узле Hyper-V:  
  
-   средства удаленного управления, например PowerShell или удаленный рабочий стол;  
  
-   Подключение к виртуальной машине Hyper-V (VMConnect)  
  
Эти средства хорошо работают, но имеют компромиссы: VMConnect является надежным, но может быть трудно автоматизировать. Удаленная оболочка PowerShell является мощным средством, но ее сложно настроить и поддерживать. Эти компромиссы могут стать более важными, так как развертывание Hyper-V растет. Windows PowerShell Direct решает это, предоставляя мощные средства работы со сценариями и автоматизации, которые так же просты, как использование VMConnect.
  
Требования и инструкции см. [в статье Управление виртуальными машинами Windows с помощью PowerShell Direct](manage/Manage-Windows-virtual-machines-with-PowerShell-Direct.md).  
