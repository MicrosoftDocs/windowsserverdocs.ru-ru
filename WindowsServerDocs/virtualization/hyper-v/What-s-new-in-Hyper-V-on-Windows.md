---
title: Новые возможности в Hyper-V в Windows Server 2016
description: Содержит сведения о новых функций в Hyper-V
ms.prod: windows-server-threshold
ms.service: na
manager: dongill
ms.technology: compute-hyper-v
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 1a65a98e-54b6-4c41-9732-1e3d32fe3a5f
author: KBDAzure
ms.author: kathydav
ms.date: 09/21/2017
ms.openlocfilehash: 6ec5db82ecae2fb74731f3c52b9113325837a2fb
ms.sourcegitcommit: afb0602767de64a76aaf9ce6a60d2f0e78efb78b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/20/2019
ms.locfileid: "67280010"
---
# <a name="whats-new-in-hyper-v-on-windows-server"></a>Новые возможности в Hyper-V в Windows Server

>Область применения. Windows Server 2019 г., Microsoft Hyper-V Server 2016, Windows Server 2016
  
В этой статье Описание новых и измененных функциональных возможностей Hyper-V на Windows Server 2019, Windows Server 2016 и Microsoft Hyper-V Server 2016. Чтобы использовать новые функции на виртуальных машинах с Windows Server 2012 R2 и переместить импортирован или создан на сервере под управлением Hyper-V в Windows Server 2019 или Windows Server 2016, необходимо вручную обновить версию конфигурации виртуальной машины. Инструкции см. в разделе [версию обновления виртуальной машины](deploy/Upgrade-virtual-machine-version-in-Hyper-V-on-Windows-or-Windows-Server.md).  
  
Вот что входит в этой статье и функциональные возможности, является ли новый или обновленный.  

## <a name="windows-server-version-1903"></a>Windows Server версии 1903

### <a name="add-hyper-v-manager-to-server-core-installations-updated"></a>Добавление диспетчера Hyper-V для установки основных серверных компонентов (обновление)

Как правило, рекомендуется использовать вариант установки основных серверных компонентов, при использовании Windows Server Semi-Annual Channel в рабочей среде. Тем не менее Server Core по умолчанию пропускает ряд средств управления полезны. Вы можете добавить, многие из наиболее широко используемых средств, установив компонент совместимости приложений, но по-прежнему будут внесены некоторые отсутствующие инструменты.

Таким образом на основе отзывов клиентов, мы добавили больше средств компонент совместимости приложений в этой версии: Диспетчер Hyper-V (virtmgmt.msc).

Дополнительные сведения см. в разделе [компонент совместимости основных серверных компонентов приложения](../../get-started-19/install-fod-19.md).

## <a name="windows-server-2019"></a>Windows Server 2019

### <a name="security-shielded-virtual-machines-improvements-new"></a>Безопасность: Экранированные виртуальные машины усовершенствования (новая)

- **Улучшения office ветвей**

    Теперь экранированные виртуальные машины можно запускать на компьютерах с периодическими разрывами подключения к службе защиты узла, используя новый [резервный сервер HGS](https://docs.microsoft.com/windows-server/security/guarded-fabric-shielded-vm/guarded-fabric-manage-branch-office#fallback-configuration) и [автономный режим](https://docs.microsoft.com/windows-server/security/guarded-fabric-shielded-vm/guarded-fabric-manage-branch-office#offline-mode). Резервный сервер HGS позволяет настроить второй набор URL-адресов для Hyper-V, который будет использоваться в случае невозможности установления подключения к основному серверу HGS.

    Автономный режим дает возможность продолжить запуск экранированных виртуальных машин, даже если не удается установить подключение с HGS при условии, что виртуальная машина была успешно запущена хотя бы один раз и в конфигурацию системы безопасности узла не вносились изменения.

- **Усовершенствования диагностики**

    Мы также упростили процесс [устранения неполадок в работе экранированных виртуальных машин](https://docs.microsoft.com/windows-server/security/guarded-fabric-shielded-vm/guarded-fabric-troubleshoot-shielded-vms) за счет добавления поддержки режима расширенного сеанса VMConnect и PowerShell Direct. Эти средства будут особенно полезны при потере сетевого подключения к виртуальной машине и возникновении необходимости обновить ее конфигурацию, чтобы восстановить доступ.

    Эти функции не нужно настраивать, они становятся доступны автоматически, когда экранированная виртуальная машина размещается на узле Hyper-V под управлением Windows Server версии 1803 или выше.

- **Поддержка Linux**

    Теперь Windows Server 2019 поддерживает выполнение систем Ubuntu, Red Hat Enterprise Linux и SUSE Linux Enterprise Server внутри экранированных виртуальных машина при работе в средах со смешанными ОС.

## <a name="windows-server-2016"></a>Windows Server 2016

### <a name="compatible-with-connected-standby-new"></a>Совместимый с режим ожидания с подключением \(new\)

При установке роли Hyper-V на компьютере, использующем модель электропитания всегда подключен On / (AOAC), **режим ожидания с подключением** энергопотребления теперь доступна.  
  
### <a name="discrete-device-assignment-new"></a>Дискретное назначение устройств \(new\)

Эта функция позволяет вам предоставить виртуальной машине прямых и монопольный доступ к некоторым устройствам оборудования PCIe. С помощью устройства, таким образом обходит стек виртуализации Hyper-V, что приводит к более быстрый доступ. Дополнительные сведения о поддерживаемых аппаратных, см. в разделе «дискретное назначение устройств» в [требования к системе для Hyper-V в Windows Server 2016](System-requirements-for-Hyper-V-on-Windows.md). Для сведения, включая способы использования этой функции и рекомендации, см. в публикации "[дискретных назначение устройств, описание и фона](https://blogs.technet.microsoft.com/virtualization/2015/11/19/discrete-device-assignment-description-and-background/)» в блоге по виртуализации.

### <a name="encryption-support-for-the-operating-system-disk-in-generation-1-virtual-machines-new"></a>Поддержка шифрования диска операционной системы в виртуальных машинах поколения 1 \(new)

Теперь можно защитить с помощью шифрования диска BitLocker в виртуальных машинах поколения 1 диск операционной системы. Это новая функция хранилища ключей, создает диск малого размера, выделенного для хранения ключа BitLocker на системном диске. Это делается вместо использования виртуального доверенного платформенного модуля (TPM), которая доступна только в виртуальных машинах поколения 2. Для расшифровки диска и запустить виртуальную машину, на узле Hyper-V должны быть частью авторизованных защищенной структуры или иметь закрытый ключ из одного из виртуальной машины guardians. Хранилища ключей требуется виртуальную машину версии 8. Сведения о версии виртуальной машины, см. в разделе [обновление версии виртуальной машины в Hyper-V в Windows 10 или Windows Server 2016](./deploy/upgrade-virtual-machine-version-in-hyper-v-on-windows-or-windows-server.md).  
  
### <a name="host-resource-protection-new"></a>Защита ресурсов размещения \(new\)

Эта функция помогает предотвратить виртуальной машины с помощью нескольких часть системных ресурсов путем поиска чрезмерное уровнем активности. Это помогает предотвратить снижения производительности или других виртуальных машин узла виртуальной машины высокой активности. При мониторинге обнаруживается виртуальной машины с высокой активности, виртуальной машины предоставляется меньше ресурсов. Это наблюдения и принудительного применения отключено по умолчанию. Включить или отключить с помощью Windows PowerShell. Чтобы включить его, выполните следующую команду:  
  
```
Set-VMProcessor TestVM -EnableHostResourceProtection $true
```

Дополнительные сведения об этом командлете см. в разделе [Set-VMProcessor](https://docs.microsoft.com/powershell/module/hyper-v/set-vmprocessor).

### <a name="hot-add-and-remove-for-network-adapters-and-memory-new"></a>Горячее добавление и удаление сетевых адаптеров и памяти \(new\)

Теперь можно добавлять или удалять сетевые адаптеры во время работы виртуальной машины, без каких-либо простоев. Это подходит для виртуальных машин поколения 2 под управлением операционных систем Windows или Linux.  
  
Можно также настроить объем памяти, назначенной виртуальной машине пока оно выполняется, даже если не включена динамическая память. Это работает для поколения 1 и виртуальные машины поколения 2, под управлением Windows Server 2016 или Windows 10.  

### <a name="hyper-v-manager-improvements-updated"></a>Улучшения диспетчера Hyper-V \(обновлены\) 
  
-   **Поддержка альтернативных учетных данных** -теперь можно использовать другой набор учетных данных в диспетчере Hyper-V, при подключении к Windows Server 2016 или Windows 10 удаленному узлу другого экземпляра. Можно также сохранить эти учетные данные, чтобы было проще повторно выполнить вход.  
  
-   **Управления более ранними версиями** -с помощью диспетчера Hyper-V в Windows Server 2019, Windows Server 2016 и Windows 10, можно управлять компьютерами под управлением Hyper-V в Windows Server 2012, Windows 8, Windows Server 2012 R2 и Windows 8.1.  
  
-   **Обновленный протокол управления** -Диспетчер Hyper-V теперь обменивается данными с удаленными узлами Hyper-V, с помощью протокола WS-MAN, позволяющего использовать проверку подлинности CredSSP, Kerberos или NTLM. При использовании CredSSP для подключения к удаленному узлу Hyper-V, можно сделать динамической миграции без включения ограниченного делегирования в Active Directory. Инфраструктура на основе WS-MAN также упрощает Включение узла для удаленного управления. WS-MAN подключается через порт 80, который открыт по умолчанию.  
  
### <a name="integration-services-delivered-through-windows-update-updated"></a>Службы Integration services, доставленных через Центр обновления Windows \(обновлены\) 

Обновления для служб интеграции для гостевых систем Windows распространяются через Центр обновления Windows. Для поставщиков услуг и услуг размещения частных облаков таким образом, элемент управления, применение обновлений в руки клиентов, которым принадлежат виртуальные машины. Клиенты теперь можно обновлять их виртуальные машины Windows для всех обновлений, включая службы integration services, с помощью одного метода. Дополнительные сведения о службах интеграции для гостевых систем Linux, см. в разделе [Linux и виртуальные машины FreeBSD в Hyper-V](Supported-Linux-and-FreeBSD-virtual-machines-for-Hyper-V-on-Windows.md).  
  
> [!IMPORTANT]  
> Файл образа vmguest.iso больше не нужен, так что он не входят в состав Hyper-V в Windows Server 2016.  
  
### <a name="linux-secure-boot-new"></a>Безопасная загрузка Linux \(new\) 

Операционные системы Linux, работающих на виртуальных машинах поколения 2, теперь можно загрузить с включенным параметром безопасной загрузки. Ubuntu 14.04 и более поздние версии, SUSE Linux Enterprise Server 12 и более поздних версий, Red Hat Enterprise Linux версии 7.0 и более поздних версий и CentOS 7.0 и более поздние версии включены для безопасной загрузки на узлах под управлением Windows Server 2016. Прежде чем загрузить виртуальную машину в первый раз, необходимо настроить виртуальную машину в центр сертификации Microsoft UEFI. Это можно сделать из диспетчера Hyper-V, Virtual Machine Manager или сеанса Windows Powershell с повышенными привилегиями. Для Windows PowerShell выполните следующую команду:  
  
```  
Set-VMFirmware TestVM -SecureBootTemplate MicrosoftUEFICertificateAuthority  
```  
  
Дополнительные сведения о виртуальных машинах Linux в Hyper-V см. в разделе [Linux и виртуальные машины FreeBSD в Hyper-V](Supported-Linux-and-FreeBSD-virtual-machines-for-Hyper-V-on-Windows.md). Дополнительные сведения о командлете см. в разделе [Set-VMFirmware](https://docs.microsoft.com/powershell/module/hyper-v/set-vmfirmware).

### <a name="more-memory-and-processors-for-generation-2-virtual-machines-and-hyper-v-hosts-updated"></a>Больше памяти и процессоров для виртуальных машин поколения 2 и узлов Hyper-V \(обновлены\)

Начиная с версии 8, можно использовать виртуальные машины поколения 2, значительно больше памяти и виртуальных процессоров. Узлы также можно настроить с помощью значительно больше памяти и виртуальных процессоров, чем раньше поддерживались. Изменения включают поддержку новых сценариев, таких как запуск Электронная коммерция больших баз данных в памяти для оперативной обработки транзакций (OLTP) и хранилища (хранилище данных) данных. Блог Windows Server недавно опубликовала результатов производительности виртуальной машины с Exchange 5.5 терабайт памяти и 128 виртуальных процессоров, работающих с базы данных в памяти в 4 ТБ. Производительность была более 95% производительности физического сервера. Дополнительные сведения см. в разделе [крупномасштабных производительности виртуальной Машины Windows Server 2016 Hyper-V для обработки транзакций в памяти](https://blogs.technet.microsoft.com/windowsserver/2016/09/28/windows-server-2016-hyper-v-large-scale-vm-performance-for-in-memory-transaction-processing/). Дополнительные сведения о версии для виртуальных машин, см. в разделе [обновление версии виртуальной машины в Hyper-V в Windows 10 или Windows Server 2016](./deploy/Upgrade-virtual-machine-version-in-Hyper-V-on-Windows-or-Windows-Server.md). Полный список поддерживаемых максимальные конфигурации, см. в разделе [планирование масштабируемость Hyper-V в Windows Server 2016](./plan/plan-hyper-v-scalability-in-windows-server.md). 

### <a name="nested-virtualization-new"></a>Вложенная виртуализация \(new\)

Эта функция позволяет использовать виртуальную машину в качестве узла Hyper-V и создании виртуальных машин в пределах этого виртуализированного узла. Это может быть особенно полезно для среды разработки и тестирования. Чтобы использовать вложенную виртуализацию, вам потребуется:  
  
-   Для выполнения по крайней мере Windows Server 2019, Windows Server 2016 или Windows 10 на физическом узле Hyper-V и на виртуализированном узле.  
  
-   Процессор с Intel VT-x (вложенной виртуализации доступна только для процессоров Intel в настоящее время).  
  
Дополнительные сведения и инструкции, см. в разделе [запуска Hyper-V на виртуальной машине с помощью вложенной виртуализации](https://docs.microsoft.com/virtualization/hyper-v-on-windows/user-guide/nested-virtualization).  
  
### <a name="networking-features-new"></a>Возможности работы с сетями \(new\)

Новые сетевые возможности:  
  
-   **Удаленный прямой доступ к памяти (RDMA) и переключаться объединения ВНЕДРЕННЫХ**. Можно настроить RDMA на сетевых адаптерах, привязанный к виртуальному коммутатору Hyper-V, независимо от того, является ли НАБОР также используется. НАБОР предоставляет виртуальный коммутатор с некоторыми такие же возможности, как объединение Сетевых карт. Дополнительные сведения см. в разделе [удаленный доступ к памяти (RDMA) и коммутатора внедренных коммутаторов (SET)](https://docs.microsoft.com/windows-server/virtualization/hyper-v-virtual-switch/rdma-and-switch-embedded-teaming).  
  
-   **Виртуальную машину с несколькими очередями (VMMQ)** . Улучшает пропускную способность VMQ, выделяя несколько очередей оборудования на каждую виртуальную машину.  Очередь по умолчанию становится набор очередей для виртуальной машины, а трафик распределяется между очередями.  
  
-   **Качество обслуживания (QoS) для программно определяемых сетей**. Управляет класс по умолчанию трафика через виртуальный коммутатор в пропускной способности по умолчанию для класса.  
  
Дополнительные сведения о новых сетевых возможностей, см. в разделе [новые возможности сетевых технологий](../../networking/What-s-New-in-Networking.md).  
  
### <a name="production-checkpoints-new"></a>Рабочие контрольные точки \(new\)

Рабочие контрольные точки — это образы «в определенный момент времени» виртуальной машины. Они предоставляют способ применить контрольную точку, которая соответствует требованиям политики поддержки, когда виртуальная машина выполняет рабочую нагрузку. Рабочие контрольные точки основаны на технологии резервного копирования в гостевой ОС вместо сохраненное состояние. Для виртуальных машин Windows используется служба моментальных снимков томов (VSS). Для виртуальных машин Linux файловые системы буферы будут сброшены создание контрольной точки, согласованной с файловой системой. Если вы предпочитаете использовать контрольные точки на основе сохраненных состояний, следует выберите стандартные контрольные точки. Дополнительные сведения см. в разделе [сравнение стандартных или рабочих контрольных точек в Hyper-V](manage/Choose-between-standard-or-production-checkpoints-in-Hyper-V.md).  
  
> [!IMPORTANT]  
> Новые виртуальные машины используют рабочие контрольные точки по умолчанию.  
  
### <a name="rolling-hyper-v-cluster-upgrade-new"></a>Последовательное обновление кластера Hyper-V \(new\)

Теперь можно добавить узел под управлением Windows Server 2019 или Windows Server 2016 в кластер Hyper-V с узлами под управлением Windows Server 2012 R2. Это позволяет обновить кластер без простоев. Кластер выполняется через более функциональный уровень Windows Server 2012 R2, до обновления всех узлов в кластере и обновить функциональный уровень кластера с помощью командлета Windows PowerShell, [Update-ClusterFunctionalLevel](https://docs.microsoft.com/powershell/module/failoverclusters/Update-ClusterFunctionalLevel).  
  
> [!IMPORTANT]  
> После обновления режима работы кластера, он не может возвращать до Windows Server 2012 R2.  
  
Для кластера Hyper-V с режимом работы Windows Server 2012 R2 с узлами под управлением Windows Server 2012 R2, Windows Server 2019 и Windows Server 2016 Обратите внимание на следующее:  
  
-   Управление кластер, Hyper-V и виртуальные машины с узла под управлением Windows Server 2016 или Windows 10.  
  
-   Виртуальные машины можно перемещать между всеми узлами в кластере Hyper-V.  
  
-   Чтобы использовать новые возможности Hyper-V, все узлы должны работать в Windows Server 2016 или ее необходимо обновить функциональный уровень кластера.  
  
-   Версия конфигурации виртуальной машины для существующих виртуальных машин не обновляется. Вы можете обновить версию конфигурации, только в том случае, после обновления режима работы кластера.  
  
-   Виртуальные машины, создаваемые совместимы с Windows Server 2012 R2, конфигурации виртуальной машины, уровень 5.  
  
После того как вы обновить функциональный уровень кластера:  
  
-   Вы можете включить новые возможности Hyper-V.  
  
-   Чтобы сделать доступными новые функции виртуальной машины, используйте командлет Update-VmConfigurationVersion вручную обновить уровень конфигурации виртуальной машины. Инструкции см. в разделе [версию обновления виртуальной машины](deploy/Upgrade-virtual-machine-version-in-Hyper-V-on-Windows-or-Windows-Server.md).    
-   Не удается добавить узел в кластер Hyper-V под управлением Windows Server 2012 R2.  
  
> [!NOTE]  
> Hyper-V в Windows 10 не поддерживает отказоустойчивой кластеризации.  
  
Дополнительные сведения и инструкции, см. в разделе [последовательного обновления кластерной ОС](https://technet.microsoft.com/library/dn850430.aspx).  

### <a name="shared-virtual-hard-disks-updated"></a>Общие виртуальные жесткие диски \(обновлены\)
Теперь можно изменить общие виртуальные жесткие диски (vhdx-файлы) для гостевой кластер без простоев. Общие виртуальные жесткие диски можно увеличивать или сжат, когда виртуальная машина находится в сети. Гостевых кластеров теперь также можно защитить общие виртуальные жесткие диски с помощью реплики Hyper-V для аварийного восстановления.

Включение репликации для коллекции. Включение репликации для коллекции является **доступны только через интерфейс WMI**. См. в документации [Msvm_CollectionReplicationService класс](https://msdn.microsoft.com/library/mt167787%28v=vs.85%29.aspx) для получения дополнительных сведений. **Не может управлять репликацией коллекции выполняется с помощью командлета PowerShell или пользовательского интерфейса.** Виртуальные машины должны быть на узлах, которые являются частью кластера Hyper-V, для доступа к функциям, которые относятся к коллекции. Это включает общий виртуальный жесткий ДИСК — реплики Hyper-V не поддерживает общие виртуальные жесткие диски на изолированных узлах.

Следуйте указаниям, изложенным для общих виртуальных жестких дисков в [виртуального Hard Disk Sharing Overview](https://technet.microsoft.com/library/dn281956.aspx)и убедитесь, что общие виртуальные жесткие диски являются частью гостевого кластера. 

Коллекция с общим виртуальным жестким ДИСКОМ, но не связан гостевого кластера не удается создать контрольные точки для коллекции (независимо от того, общий виртуальный жесткий ДИСК включен ли в создании ссылки на точку или нет). 

### <a name="virtual-machine-backupnew"></a>Резервное копирование виртуальных машин\(new\)

Если при резервном копировании одной виртуальной машины (независимо от того, является ли узел кластеризованным или нет), не следует использовать группы виртуальных Машин.  И не следует использовать моментальный снимок коллекции. Группы виртуальных Машин и моментальный снимок коллекции предназначены для исключительно для резервного копирования гостевых кластеров, которые используют общий диск vhdx. Вместо этого следует моментального снимка, используя [поставщика WMI для Hyper-V v2](https://msdn.microsoft.com/library/windows/desktop/hh850319(v=vs.85).aspx). Аналогичным образом, не используйте [поставщика WMI отказоустойчивого кластера](https://msdn.microsoft.com/library/windows/desktop/mt167750(v=vs.85).aspx).

### <a name="shielded-virtual-machines-new"></a>Экранированные виртуальные машины \(new\)

Экранированных виртуальных машин используйте несколько функций, которые будут испытывать трудности для администраторов Hyper-V и вредоносных программ на узле для проверки, незаконно или похитить данные от состояния экранированной виртуальной машины. Шифруются данные и состояние, администраторы Hyper-V не могут видеть, выходные видеоданные и диски и виртуальные машины могут быть ограничены для запуска только на узлах известных, исправно, что определяется на сервере защиты узла. Дополнительные сведения см. в разделе [Защищенная структура и экранированные виртуальные машины](../../security/guarded-fabric-shielded-vm/guarded-fabric-and-shielded-vms.md).
  
> [!NOTE]  
> Экранированные виртуальные машины, совместимы с репликой Hyper-V. Чтобы реплицировать экранированной виртуальной машины, узла, который вы хотите реплицировать в должна быть авторизована для запуска этого экранированной виртуальной машины.  

### <a name="start-order-priority-for-clustered-virtual-machines-new"></a>Запуск порядок приоритета для виртуальных машин \(new\)

Эта функция дает больший контроль, по которому кластерные виртуальные машины при запуске или перезапуске сначала. Это упрощает для запуска виртуальных машин, которые предоставляют службы до виртуальных машин, использующих эти услуги. Определения наборов, размещения виртуальных машин в наборах и указать зависимости. Использовать командлеты Windows PowerShell для управления наборами, такие как [New ClusterGroupSet](https://docs.microsoft.com/powershell/module/failoverclusters/new-clustergroupset), [Get-ClusterGroupSet](https://docs.microsoft.com/powershell/module/failoverclusters/get-clustergroupset), и [ClusterGroupSetDependency добавить](https://docs.microsoft.com/powershell/module/failoverclusters/add-clustergroupsetdependency).
.  
### <a name="storage-quality-of-service-qos-updated"></a>Качество обслуживания (QoS) хранилища \(обновлены\)

Теперь можно создавать политики качества обслуживания хранилища на масштабируемом файловом сервере и назначить их одному или нескольким виртуальным дискам на виртуальных машинах Hyper-V. Производительность хранилища автоматически переопределяется в соответствии с политиками по мере колебания объемов загрузки хранилища. Дополнительные сведения см. в разделе [качества обслуживания хранилища](../../storage/storage-qos/storage-qos-overview.md).  
  
### <a name="virtual-machine-configuration-file-format-updated"></a>Формат файлов конфигурации виртуальной машины \(обновлены\)

Файлы конфигурации виртуальной машины используют новый формат, который выполняет чтение и запись данных конфигурации более эффективным. Формат также делает повреждение данных снижает вероятность при возникновении сбоя хранилища. Файлы данных конфигурации виртуальных машин используйте расширением .vmcx и файлы данных состояния среды выполнения используют расширением .vmrs.  
  
> [!IMPORTANT]  
> Расширение имени файла .vmcx указывает на двоичный файл. Редактирование файлов vmcx и vmrs файлов не поддерживается.  
  
### <a name="virtual-machine-configuration-version-updated"></a>Версия конфигурации виртуальной машины \(обновлены\)

Версия представляет совместимости конфигурация виртуальной машины, сохраненное состояние и файлы моментальных снимков с версией Hyper-V. Виртуальные машины с версии 5 совместимы с Windows Server 2012 R2 и могут работать в Windows Server 2012 R2 и Windows Server 2016. Виртуальные машины с версиями, появившиеся в Windows Server 2016 и Windows Server 2019 не будет работать в Hyper-V в Windows Server 2012 R2.   
  
При перемещении или импорте виртуальной машины на сервере под управлением Hyper-V в Windows Server 2016 или Windows Server 2019 из Windows Server 2012 R2, конфигурацию виртуальной машины не обновляется автоматически. Это означает, что можно будет переместить виртуальную машину обратно на сервер под управлением Windows Server 2012 R2. Но это также означает, что нельзя использовать новые функции виртуальной машины, пока вы вручную не обновите версию конфигурации виртуальной машины.  
  
Инструкции по проверке и обновление версии, см. в разделе [версию обновления виртуальной машины](deploy/Upgrade-virtual-machine-version-in-Hyper-V-on-Windows-or-Windows-Server.md). В этой статье также перечислены версии, в котором были представлены некоторые функции.   
  
> [!IMPORTANT]  
> -   После обновления версии, не удается переместить виртуальную машину на сервере под управлением Windows Server 2012 R2.  
> -   Не удается понизить конфигурации к предыдущей версии.  
> -   [VMVersion обновления](https://docs.microsoft.com/powershell/module/hyper-v/update-vmversion) командлет будет заблокирован в кластере Hyper-V, если функциональный уровень кластера Windows Server 2012 R2.  

### <a name="virtualization-based-security-for-generation-2-virtual-machines-new"></a>Virtualization-based безопасности для виртуальных машин поколения 2 \(new)

Безопасность на основе виртуализации лежащих в основе функции, такие как Device Guard и Credential Guard, предлагая улучшенную защиту от использования операционной системы от вредоносных программ. Безопасность на основе виртуализации — доступна в виртуальных машинах поколения 2 гостевой, начиная с версии 8. Сведения о версии виртуальной машины, см. в разделе [обновление версии виртуальной машины в Hyper-V в Windows 10 или Windows Server 2016](./deploy/upgrade-virtual-machine-version-in-hyper-v-on-windows-or-windows-server.md).

### <a name="windows-containers-new"></a>Контейнеры Windows \(new\)

Контейнеры Windows разрешают много изолированных приложений для запуска в одной системе компьютера. Они fast, чтобы построить и высокой степенью масштабируемости благодаря переносимой. Доступны два типа среды выполнения контейнера, каждый из которых имеет разную степень изоляции приложений. Контейнеры Windows Server используйте пространство имен и изоляцию процессов. Контейнеры Hyper-V используют нетребовательный к ресурсам виртуальной машины для каждого контейнера.  
  
Ключевые функции включают следующее:  
  
-   Поддержка веб-сайтов и приложений, с помощью протокола HTTPS  
  
-   Nano server можно разместить контейнеры Hyper-V и Windows Server  
  
-   Возможность управлять данными через общими папками контейнеров  
  
-   Возможность ограничения на ресурсы для контейнеров  
  
Дополнительные сведения, включая руководства по быстрому запуску, см. [документацией по контейнерам Windows](https://docs.microsoft.com/virtualization/windowscontainers/index).  
  
### <a name="windows-powershell-direct-new"></a>Windows PowerShell Direct \(new\)

Это дает возможность запуска команды Windows PowerShell на виртуальной машине с узла. Windows PowerShell Direct работает между узлом и виртуальной машины. Это означает, что он не требует сети или требования к брандмауэру, и он работает независимо от конфигурации удаленного управления.  
  
Windows PowerShell Direct — это альтернатива существующие инструменты, которые администраторы Hyper-V используют для подключения к виртуальной машине на узле Hyper-V:  
  
-   средства удаленного управления, например PowerShell или удаленный рабочий стол;  
  
-   Подключение к виртуальной машине Hyper-V (VMConnect)  
  
Эти инструменты работают хорошо, но имеют преимущества и недостатки: VMConnect является надежным, но может быть трудно автоматизировать. Remote PowerShell обладает широкими возможностями, но может быть сложно настроить и обслуживать. Эти недостатки могут стать более важно, по мере роста развертывания Hyper-V. Windows PowerShell Direct решает эту проблему, предоставляя широкие возможности сценариев и автоматизации выполняется так же просто, как с помощью VMConnect.
  
Требования и инструкции см. в разделе [Windows Управление виртуальными машинами с помощью PowerShell Direct](manage/Manage-Windows-virtual-machines-with-PowerShell-Direct.md).  
