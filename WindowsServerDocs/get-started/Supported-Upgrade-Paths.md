---
title: Параметры обновления и преобразования для Windows Server 2016
description: Описывает все поддерживаемые варианты обновления до Windows Server 2016.
ms.date: 01/18/2017
ms.topic: article
ms.assetid: 74aa1da3-7076-4a1f-ad5b-9e17bd46dba2
author: jaimeo
ms.author: jaimeo
manager: dongill
ms.localizationpriority: medium
ms.openlocfilehash: 862349c0601981f064becd8bd02a1b26b308dc48
ms.sourcegitcommit: dfa48f77b751dbc34409aced628eb2f17c912f08
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2020
ms.locfileid: "87959262"
---
# <a name="upgrade-and-conversion-options-for-windows-server-2016"></a>Параметры обновления и преобразования для Windows Server 2016

>Область применения. Windows Server 2019, Windows Server 2016

В этом разделе содержится информация о разных вариантах обновления до Windows Server&reg; 2016 с более ранних версий ОС.

Процесс перехода на Windows Server 2016 во многом зависит от начальной операционной системы и выбранного пути. Чтобы различать действия, которые могут потребоваться в новом развертывании Windows Server 2016, мы будем использовать следующие термины.

- **Установка** : базовое понятие, обозначающее загрузку новой операционной системы на оборудование. В частности, для **чистой установки** необходимо удалить предыдущую операционную систему. Сведения об установке Windows Server 2016 см. в статье [Требования к системе и информация об установке для Windows Server 2016](./system-requirements.md). Дополнительные сведения об установке других версий Windows Server см. в статье [Установка и обновление Windows Server](./installation-and-upgrade.md).

- **Миграция** — переход с существующей операционной системы на Windows Server 2016 путем переноса на другой набор оборудования или другую виртуальную машину. Дополнительные сведения о миграции, которая существенно зависит от установленных ролей сервера, см. в статье [Установка, обновление и миграция Windows Server](./installation-and-upgrade.md).

- **Последовательное обновление ОС кластера**: новая функция в Windows Server 2016, которая позволяет администратору обновлять ОС узлов кластера с Windows Server 2012 R2 до Windows Server 2016, не останавливая рабочие нагрузки Hyper-V или масштабируемого файлового сервера. Эта функция позволяет избежать простоя, который может нарушать соглашения об уровне обслуживания. Подробнее эта новая функция рассматривается в статье [Последовательное обновление ОС кластера](../failover-clustering/cluster-operating-system-rolling-upgrade.md).

- **Преобразование лицензии**: для некоторых версий ОС можно перейти с определенного выпуска версии на другой выпуск той же версии за один шаг с помощью простой команды и соответствующего лицензионного ключа. Это называется преобразованием лицензии. Например, если ваш компьютер работает под управлением Windows Server 2016 Standard, вы можете преобразовать его в Windows Server 2016 Datacenter.

- **Обновление**: означает переход с имеющегося выпуска операционной системы на более новый с сохранением оборудования. (Иногда эта операция называется обновлением на месте.) Например, если ваш сервер работает под управлением Windows Server 2012 или Windows Server 2012 R2, вы можете обновить его до Windows Server 2016. Вы можете провести обновление с ознакомительной версии операционной системы на розничную, с более старой розничной версии на более новую или, в некоторых случаях, с корпоративного выпуска ОС на обычный.

> [!IMPORTANT]
> Обновление лучше всего работает на виртуальных машинах, где для успешного обновления не нужны специальные драйверы оборудования OEM.

> [!IMPORTANT]
> Для выпусков Windows Server 2016, предшествующих 14393.0.161119-1705.RS1_REFRESH, **преобразование ознакомительной версии в коммерческую можно выполнить только** для системы Windows Server 2016, для которой был выбран вариант установки "Возможности рабочего стола" (а не установка основных серверных компонентов). Начиная с выпуска 14393.0.161119-1705.RS1_REFRESH, можно преобразовывать ознакомительные выпуски в коммерческие независимо от варианта установки.

> [!IMPORTANT]
> Если сервер использует объединение сетевых карт, отключите эту функцию перед обновлением, а после его завершения снова включите ее. Дополнительные сведения см. в статье [Обзор объединения сетевых карт](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh831648(v=ws.11)).

## <a name="upgrading-previous-retail-versions-of-windows-server-to-windows-server-2016"></a>Обновление предыдущих розничных версий Windows Server до Windows Server 2016

В следующей таблице приведен краткий список **уже лицензированных** (то есть не ознакомительных) операционных систем Windows, которые можно обновить до разных выпусков Windows Server 2016.

Обратите внимание на следующие общие рекомендации для поддерживаемых вариантов.

- Обновления с 32-разрядных до 64-разрядных архитектур не поддерживаются. Все выпуски Windows Server 2016 являются исключительно 64-разрядными.
- Обновления с версии на одном языке до версии на другом языке не поддерживаются.
- Если сервер является контроллером домена, см. статью [Обновление контроллеров домена до Windows Server 2012 R2 и Windows Server 2012](../identity/ad-ds/deploy/upgrade-domain-controllers-to-windows-server-2012-r2-and-windows-server-2012.md) для получения важных сведений.
- Обновления с предварительных версий Windows Server 2016 не поддерживаются. Выполните чистую установку Windows Server 2016.
- Обновления, переключающиеся с установки основных серверных компонентов на режим "Сервер с рабочим столом" (или наоборот), не поддерживаются.
- Обновления предыдущей установки Windows Server на пробную версию Windows Server не поддерживаются. Для ознакомительных версий следует применять чистую установку.

Если текущая версия не указана в левом столбце, обновление до данного выпуска Windows Server 2016 не поддерживается.

При наличии в правом столбце нескольких выпусков для данной начальной версии поддерживается обновление до **любого** из них.

|Используемый выпуск|Доступно обновление до следующих выпусков|
|-------------------|----------|
|Windows Server 2012 Standard|Windows Server 2016 Standard или Datacenter|
|Windows Server 2012 Datacenter|Windows Server 2016 Datacenter|
|Windows Server 2012 R2 Standard|Windows Server 2016 Standard или Datacenter|
|Windows Server 2012 R2 Datacenter|Windows Server 2016 Datacenter|
|Windows Server 2012 R2 Essentials|Windows Server 2016 Essentials|
|Windows Storage Server 2012 Standard|Windows Storage Server 2016 Standard|
|Windows Storage Server 2012 Workgroup|Windows Storage Server 2016 Workgroup|
|Windows Storage Server 2012 R2 Standard|Windows Storage Server 2016 Standard|
|Windows Storage Server 2012 R2 Workgroup|Windows Storage Server 2016 Workgroup|


## <a name="per-server-role-considerations-for-upgrading"></a>Учет ролей сервера при обновлении

Даже для поддерживаемых путей обновления с предыдущих розничных версий до Windows Server 2016 некоторые уже установленные роли сервера могут потребовать дополнительной подготовки или действий для продолжения функционирования роли после обновления. Просмотрите соответствующие разделы библиотеки TechNet о каждой роли сервера, которую вы хотите обновить, чтобы узнать больше о дополнительных шагах, которые могут потребоваться.

## <a name="converting-a-current-evaluation-version-to-a-current-retail-version"></a>Переход с текущей ознакомительной версии на текущую розничную версию

Вы можете перейти с ознакомительной версии Windows Server 2016 Standard, Windows Server 2016 Standard (розничная версия) либо Datacenter (розничная версия). Точно так же вы можете перейти с ознакомительной версии Windows Server 2016 Datacenter на розничную.

> [!IMPORTANT]
> Для выпусков Windows Server 2016, предшествующих 14393.0.161119-1705.RS1_REFRESH, преобразование ознакомительной версии в коммерческую можно выполнить только для системы Windows Server 2016, для которой был выбран вариант установки "Возможности рабочего стола" (а не установка основных серверных компонентов). Начиная с выпуска 14393.0.161119-1705.RS1_REFRESH, можно преобразовывать ознакомительные выпуски в коммерческие независимо от варианта установки.

Перед переходом с ознакомительной на розничную версию убедитесь, что на вашем сервере действительно работает ознакомительная версия. Для этого выполните одно из следующих действий.

- В командной строке с повышенными привилегиями введите команду **slmgr.vbs /dlv**. В ознакомительных версиях вывод будет включать строку EVAL.

- На начальном экране откройте **Панель управления**. Откройте компонент **Система и безопасность**, а затем страницу **Система**. Просмотрите состояние активации Windows в области активации Windows страницы **Система**. Щелкните **Подробности** для получения дополнительных сведений о состоянии активации вашей системы.

Если вы уже активировали Windows, на рабочем столе будет отображаться время, оставшееся для ознакомительного периода.

Если на сервере вместо ознакомительной версии установлена розничная версия, инструкции по обновлению до Windows Server 2016 см. в разделе "Обновление предыдущих розничных версий Windows Server до Windows Server 2016" этой статьи.

**Для Windows Server 2016 Essentials:** вы можете преобразовать ознакомительную версию в розничную, введя розничный ключ, ключ многократной установки или ключ для изготовителей оборудования в команде **slmgr.vbs**.

Если на сервере установлена ознакомительная версия Windows Server 2016 Standard или Windows Server 2016 Datacenter, вы можете преобразовать ее в розничную версию следующим образом:

1.    Если сервер является **контроллером домена**, вы не можете преобразовать его в розничную версию. В этом случае установите дополнительный контроллер домена на сервере с установленной розничной версией и удалите AD DS с контроллера домена, на котором установлена ознакомительная версия. Дополнительные сведения см. в статье [Обновление контроллеров домена до Windows Server 2012 R2 и Windows Server 2012](../identity/ad-ds/deploy/upgrade-domain-controllers-to-windows-server-2012-r2-and-windows-server-2012.md).
2.    Прочтите условия лицензионного соглашения.
3.    В командной строке с повышенными привилегиями определите имя текущего выпуска с помощью команды **DISM /online /Get-CurrentEdition**. Запишите идентификатор выпуска, представляющий собой сокращенное имя выпуска. Затем выполните **DISM /online /Set-Edition:\<edition ID\> /ProductKey:XXXXX-XXXXX-XXXXX-XXXXX-XXXXX /AcceptEula**, указав идентификатор выпуска и розничный ключ продукта. Сервер дважды перезагрузится.

Вы можете также преобразовать ознакомительную версию Windows Server 2016 Standard в розничную версию Windows Server 2016 Datacenter за одно действие, используя ту же команду и соответствующий ключ продукта.

> [!TIP]
> Дополнительные сведения о Dism.exe см. в статье [DISM Command-Line Options](https://go.microsoft.com/fwlink/?LinkId=192466) (Параметры командной строки DISM).

## <a name="converting-a-current-retail-edition-to-a-different-current-retail-edition"></a>Переход с текущего розничного выпуска на другой текущий розничный выпуск

В любое время после установки Windows Server 2016 вы можете выполнить настройку для восстановления установки (иногда называемой восстановлением на месте) или (в некоторых случаях) для преобразования в другой выпуск.
Вы можете выполнить настройку для восстановления на месте для любого выпуска Windows Server 2016. Результатом будет тот же выпуск, с которого вы начали.

Windows Server2016 Standard можно преобразовать в Windows Server 2016 Datacenter, как показано ниже. В командной строке с повышенными привилегиями определите имя текущего выпуска с помощью команды **DISM /online /Get-CurrentEdition**. Для Windows Server 2016 Standard это будет `ServerStandard`. Выполните команду **DISM /online /Get-TargetEditions**, чтобы получить идентификатор выпуска, до которого возможно обновление. Запишите этот идентификатор, представляющий собой сокращенное имя выпуска. Затем выполните **DISM /online /Set-Edition:\<edition ID\> /ProductKey:XXXXX-XXXXX-XXXXX-XXXXX-XXXXX /AcceptEula**, указав целевой идентификатор выпуска и розничный ключ продукта. Сервер дважды перезагрузится.

## <a name="converting-a-current-retail-version-to-a-current-volume-licensed-version"></a>Переход с текущей розничной версии на текущую корпоративную версию

В любой момент после установки Windows Server 2016 вы можете беспрепятственно перейти на розничную, корпоративную версию или версию для поставщиков оборудования. При переходе выпуск остается прежним. Если вы начали с оценочной версии, сначала преобразуйте ее в розничную версию, после чего можно будет выполнить описанное здесь внутреннее преобразование.

Для перехода выполните команду в командной строке с повышенными привилегиями: **slmgr /ipk \<key\>** .

где \<key\> — соответствующий ключ продукта корпоративной, розничной версии или версии для поставщиков оборудования.
