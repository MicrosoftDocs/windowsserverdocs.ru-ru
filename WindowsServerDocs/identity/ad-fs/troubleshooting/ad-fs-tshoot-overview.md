---
title: Устранение неполадок в службах федерации Active Directory
description: В этом документе описывается устранение различных аспектов AD FS
author: billmath
ms.author: billmath
manager: mtillman
ms.date: 01/12/2018
ms.topic: article
ms.openlocfilehash: ba18341448720403f1572ee485ec33bec84b4324
ms.sourcegitcommit: dfa48f77b751dbc34409aced628eb2f17c912f08
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2020
ms.locfileid: "87953073"
---
# <a name="troubleshooting-ad-fs"></a>Устранение неполадок в службах федерации Active Directory
AD FS содержит много движущихся элементов, затрагивает множество различных зависимостей.  Естественно, это может привести к различным проблемам.  Этот документ предназначен для того, чтобы приступить к устранению этих проблем.  В этом документе вы узнаете о типичных областях, на которые следует обратить внимание, о том, как включить функции для дополнительной информации, а также о различных средствах, которые можно использовать для выявления проблем.

>[!NOTE]
>Дополнительные сведения см. в [справке ADFS](https://adfshelp.microsoft.com) , которая предоставляет эффективные средства в одном месте, что упрощает пользователям и администраторам устранять проблемы проверки подлинности в более быстром темпе.


## <a name="what-to-check-first"></a>Что следует проверять первыми
Прежде чем углубляться в подробные сведения об устранении неполадок, необходимо сначала проверить несколько вещей.  К ним относятся:
- **Конфигурация DNS** — можно ли разрешить имя службы федерации?  Это должно быть разрешение либо на IP-адрес балансировщика нагрузки, либо на IP-адрес одного из серверов AD FS фермы.  Дополнительные сведения см. в разделе [AD FS устранение неполадок — DNS](ad-fs-tshoot-dns.md).
- **AD FS конечных точек** . можно ли перейти на AD FS конечные точки?  Перейдя по этой ссылке, можно определить, отвечает ли веб-сервер AD FS на запросы.  Если вы можете получить доступ к этому файлу, то вам известно, что AD FS обслуживать запросы в течение 443.  Дополнительные сведения см. в разделе [AD FS устранение неполадок — конечные точки](ad-fs-tshoot-endpoints.md).
- **Вход в IDP** . можно ли войти в систему и пройти проверку подлинности с помощью страницы входа, инициированной IDP?  Необходимо убедиться, что эта страница была включена, так как она отключена по умолчанию.  Используйте `Set-AdfsProperties -EnableIdPInitiatedSignOn $true` для включения страницы.  Если вы можете войти в систему и проверить подлинность, вы узнаете, что AD FS работает в этой области.  Дополнительные сведения см. в разделе [AD FS устранение неполадок — SignOn](ad-fs-tshoot-initiatedsignon.md).
  ##  <a name="common-troubleshooting-areas"></a>Распространенные области устранения неполадок

|name|Описание|
|-----|-----|
|[Ведение журнала событий и аудит](ad-fs-tshoot-logging.md)|Используйте журналы событий Windows для просмотра сведений о высоком и низком уровнях с помощью журналов администрирования и трассировки.  Его также можно использовать для просмотра аудита безопасности.|
|[Подключение к SQL](ad-fs-tshoot-sql.md)|Сведения о тестировании подключения между серверами AD FS и серверными базами данных SQL|
|[Выдача утверждений](ad-fs-tshoot-claims-issuance.md)|Сведения о том, как определить, правильно ли выдаются утверждения AD FS.|
|[Определение цикла](ad-fs-tshoot-loop.md)|Сведения об определении и предотвращении возвращения пользователей между IDP и RP.|
|[Сертификаты](ad-fs-tshoot-certs.md)|Проблемы с сертификатами типЦиал, которые могут возникнуть|
|[Fiddler](ad-fs-tshoot-fiddler.md)|Сведения о том, как установить и использовать Fiddler|
|[WS-Federation с Fiddler](ad-fs-tshoot-fiddler-ws-fed.md)|Подробная Fiddler трассировка взаимодействия WS-Federation|
|[Правила утверждений](ad-fs-tshoot-claims-rules.md)|Сведения об устранении неполадок правил утверждений и их синтаксисе|
|[Встроенная аутентификация Windows](ad-fs-tshoot-iwa.md)|Сведения об устранении неполадок встроенной проверки подлинности.|
|[Azure AD](ad-fs-tshoot-azure.md)|Сведения об устранении неполадок AD FS взаимодействии с Azure AD.|
|[Анализатор диагностики AD FS](ad-fs-diagnostics-analyzer.md)|Анализатор диагностики справки AD FS помогает выполнять базовые проверки AD FS с помощью модуля диагностики PowerShell.