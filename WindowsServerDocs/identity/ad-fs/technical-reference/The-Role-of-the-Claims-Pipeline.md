---
ms.assetid: ffb9d63c-ba7c-4ad1-b814-6db67f98c943
title: "Роль конвейера утверждения"
description: 
author: billmath
ms.author: billmath
manager: femila
ms.date: 02/09/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adfs
ms.openlocfilehash: e433b89ab7f225b589d94d98ce57c76007ef41aa
ms.sourcegitcommit: 877a50cd8d6e727048cdfac9b614a98ac3220876
ms.translationtype: HT
ms.contentlocale: ru-RU
---
>Применимо к: Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

# <a name="the-role-of-the-claims-pipeline"></a>Роль конвейера утверждения
Конвейер утверждения в \(AD FS\) служб федерации Active Directory представляет путь, прежде чем они могут быть выданы утверждения необходимо следовать через службы федерации. Служба федерации управляет весь процесс end\ to\ окончания заполнение заявок через различные этапы конвейер утверждения, который также включает обработки правил утверждений модуль правил утверждения.  
  
Дополнительные сведения о правилах утверждений см [роли Утверждение правила](The-Role-of-Claim-Rules.md). Дополнительные сведения о том, как обработчик правил утверждений обрабатывает правила см. в разделе [роль модуля утверждения](The-Role-of-the-Claims-Engine.md).  
  
В следующем разделе описываются процесс, который служба федерации отвечает за более подробно.  
  
## <a name="claims-pipeline-process"></a>Утверждения конвейер процесса  
Процесс конвейера утверждения состоит из трех этапов high\ уровня. Каждый этап этого процесса Инициализирует модуль правил утверждений для обработки правил утверждения, которые относятся к этой стадии. Эти этапы включают \ (в порядке, они occur\):  
  
1.  Принимать входящие утверждения — этой стадии конвейера заявок используется для извлечения входящих утверждений маркера и исключить утверждения, которые не ожидалось или доверенные. После извлечения они принятия правила, которые составляют правило преобразования принятия задать для утверждения, выполняются поставщика доверия. Эти правила позволяют передавать или добавить новые утверждения, которые можно использовать на следующих этапах конвейера утверждения. Выходные данные этой стадии используется в качестве входных данных для второй и третий этап.  
  
2.  Авторизация инициатора утверждения, этот этап используется обработчиком утверждения для выдачи разрешения или запрета утверждения, в зависимости от того, разрешен ли маркер инициатора получить маркер для заданного проверяющая сторона или не. Тем не менее прежде, чем это может происходить правил авторизации, составляющих либо правило авторизации выдачи или задать правило авторизации делегирования выполнялся проверяющая сторона доверия.  
  
3.  Выдачи исходящие утверждения, этот этап используется для выдачи исходящих утверждений и отправлять их вдоль конвейера, где они упаковывается в маркер безопасности. Тем не менее перед возможная правил выдачи, составляющих набор проверяющая сторона доверия правил преобразования выдачи он был выполнен, которой определит, что утверждения, будет выдано как исходящие утверждения.  
  
Все три этапа выше выполнять обработка правил утверждения, но использовать другой набор правил. Как описано выше, каждый этап имеет связан набор правил, в зависимости от поставщика входящих утверждений \(the acceptance rules\) или целевую службу, для которого выдаются claimincludes \ (авторизации и выдачи rules\).  
  
Утверждения не зависят от token\, но передаются по сети в маркеров безопасности. Правила утверждений работать утверждения независимо от формат маркера безопасности входящих или исходящих.  
  
Утверждения правила содержат логику определенные administrator\, на который модуль утверждения будет принимать входящие утверждения, авторизации заявок на основе удостоверения инициатора и выпуске утверждения, необходимы проверяющей стороной. В конечном счете он представляет собой подсистему утверждения определяет утверждения будет перейти в маркер безопасности, будет выдано после утверждения были перетекал через конвейер утверждения.  
  
Как показано на следующем рисунке, конвейер требований несет ответственность за весь процесс end\ to\ окончания проходящие утверждений через различные стадиях конвейера для заканчиваться выданных заявки, которая будет передаваться по проверяющая сторона доверия. Исходящих утверждений на рисунке представляет выданных утверждений.  
  
![Роли AD FS](media/adfs2_pipeline.gif)  
  
Несмотря на то, что она не отображается на рисунке, он представляет собой подсистему утверждения выполняет фактической обработки правила на каждом этапе. Дополнительные сведения см. в разделе [роль модуля заявок](The-Role-of-the-Claims-Engine.md).  
  

