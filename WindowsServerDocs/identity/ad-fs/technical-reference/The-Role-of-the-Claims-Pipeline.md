---
ms.assetid: ffb9d63c-ba7c-4ad1-b814-6db67f98c943
title: Роль канала утверждений
description: ''
author: billmath
ms.author: billmath
manager: femila
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adfs
ms.openlocfilehash: 7891f1d0b96df84e8ac4f3eb670f30350d3c194c
ms.sourcegitcommit: 0b5fd4dc4148b92480db04e4dc22e139dcff8582
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/24/2019
ms.locfileid: "66188443"
---
# <a name="the-role-of-the-claims-pipeline"></a>Роль канала утверждений
Конвейер утверждений в службы федерации Active Directory \(AD FS\) представляет путь передачи утверждений необходимо выполнить через службу федерации, прежде чем они могут быть выданы. Служба федерации управляет весь сквозной\-к\-к завершению процесса передачи утверждений через различные этапы конвейера утверждений, который также включает обработку правил для утверждений с модулем правил утверждений.  
  
Дополнительные сведения о правилах для утверждений, см. в разделе [The Role of Claim Rules](The-Role-of-Claim-Rules.md). Подробнее об обработке правил модулем правил утверждений см. в разделе [The Role of the Claims Engine](The-Role-of-the-Claims-Engine.md).  
  
В следующем подразделе более подробно рассматривается процесс, контролируемый службой федерации.  
  
## <a name="claims-pipeline-process"></a>Процесс конвейера утверждений  
Процесс конвейера утверждений состоит из трех высокой\-уровня этапов. На каждом этапе модуль правил утверждений инициализируется для обработки правил утверждений, относящихся к этому этапу. Эти этапы включают \(в хронологическом порядке\):  
  
1.  Принятие входящих утверждений — этот этап конвейера утверждений служит для извлечения входящих утверждений из токена и удаления утверждений, не являющихся ожидаемыми или доверенными. После их извлечения выполняются правила принятия, составляющие набор правил преобразования принятия для отношения доверия с поставщиком утверждений. Эти правила могут служить для передачи или добавления новых утверждений, которые затем могут использоваться на последующих этапах конвейера утверждений. Выходные данные этого этапа используются в качестве входных на втором и третьем этапах.  
  
2.  Авторизация инициатора запроса утверждений — этот этап используется модулем утверждений для выдачи разрешающих или запрещающих утверждений в зависимости от того, разрешено ли инициатору запроса токена получить токен для данной проверяющей стороны или нет. Однако перед этим должны быть выполнены правила авторизации, составляющие либо набор правил авторизации выдачи, либо набор правил авторизации делегирования для отношения доверия с проверяющей стороной.  
  
3.  Выдача исходящих утверждений — этот этап служит для выдачи исходящих утверждений и отправки их по конвейеру, где они будут упакованы в токен безопасности. Однако перед этим должны быть выполнены правила выдачи, составляющие набор правил преобразования выдачи для отношения доверия с проверяющей стороной. Они определяют, какие утверждения будут выданы в качестве исходящих.  
  
На всех трех перечисленных выше этапах выполняется обработка правил утверждений, но используются разные наборы правил. Как описано выше, каждый этап имеет связан набор правил, основанных на издатель входящих утверждений \(правила принятия\) или целевой службы, для которого выдаются claimincludes \(авторизации и правила выдачи\).  
  
Утверждения — это маркер\-независимый, но они будут переданы по сети, инкапсулируются в токены безопасности. Правила утверждений применяются к утверждениям независимо от формата входящего или исходящего токена безопасности.  
  
Утверждения, правила содержат администратор\-определенной логики, по которому модуль утверждений будет принимать входящие утверждения, авторизовать утверждения на основе удостоверения запрашивающей и выдавать утверждения, необходимы проверяющей стороной. Наконец, модуль утверждений определяет, какие утверждения будут добавлены в токен безопасности, который будет выдан после прохождения утверждения через конвейер утверждений.  
  
Как показано на следующем рисунке, конвейер утверждений отвечает за весь сквозной\-для\-завершить процесс передачи утверждения через различные этапы конвейера, целью которого является выдача утверждения, которое будет отправляться через проверяющей стороной отношения доверия. Исходящее утверждение на рисунке представляет выданное утверждение.  
  
![Роли AD FS](media/adfs2_pipeline.gif)  
  
Хотя на рисунке этого не показано, именно модуль утверждений выполняет фактическую обработку правил на каждом этапе. Дополнительные сведения см. в разделе [The Role of the Claims Engine](The-Role-of-the-Claims-Engine.md).  
  

