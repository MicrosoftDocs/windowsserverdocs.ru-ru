---
title: Определение списка разрешений и запретов и инвентаризации приложений для политик ограниченного использования программ
description: Безопасность Windows Server
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: security-software-restriction-policies
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 0abb73b6-b5d8-4505-8ab1-2f29e4bf0411
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/12/2016
ms.openlocfilehash: 60e78912284715649938567d66ffb90b9890b1b9
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59847295"
---
# <a name="determine-allow-deny-list-and-application-inventory-for-software-restriction-policies"></a>Определение списка разрешений и запретов и инвентаризации приложений для политик ограниченного использования программ

>Область применения. Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

В этом разделе для ИТ-специалистов предоставляет рекомендации, как создать разрешенных и запретить список для приложений осуществляется посредством политик ограниченного использования программ (SRP), начиная с Windows Server 2008 и Windows Vista.

## <a name="introduction"></a>Введение
Политики ограниченного использования программ — это основанная на групповых политиках функция, которая выявляет программы, работающие на компьютерах в домене, и управляет возможностью выполнения этих программ. Эти политики позволяют создать конфигурацию со строгими ограничениями для компьютеров, где разрешается запуск только определенных приложений. Политики интегрируются с доменными службами Active Directory и групповой политикой, но также могут настраиваться на изолированных компьютерах. Отправной точкой для политик ограниченного использования Программ, см. в разделе [политик ограниченного использования программ](software-restriction-policies.md).

Начиная с Windows Server 2008 R2 и Windows 7, вместо политики SRP или вместе с ней в рамках стратегии управления приложениями можно использовать Windows AppLocker.

Сведения о способах выполнения определенных задач с помощью политик ограниченного использования программ см. в следующих разделах:

-   [Работа с правилами политик ограниченного использования программ](work-with-software-restriction-policies-rules.md)

-   [Использование политик ограниченного использования программ для защиты компьютера от вирусов электронной почты](use-software-restriction-policies-to-help-protect-your-computer-against-an-email-virus.md)

### <a name="what-default-rule-to-choose-allow-or-deny"></a>Какие правила по умолчанию, выберите: Разрешить или запретить
Политики ограниченного использования программ могут быть развернуты в одном из двух режимов, которые являются основой для нового правила по умолчанию. Список разрешений или списка запретов. Можно создать политику, которая идентифицирует каждое приложение, может выполняться в вашей среде; правило по умолчанию внутри политики является ограничение и блокировать все приложения, которые вы не разрешите явным образом для запуска. Или можно создать политику, которая идентифицирует каждое приложение, не будут выполняться. правило по умолчанию является не ограничено и ограничивает только приложения, чтобы явно указаны.

> [!IMPORTANT]
> Режим списка запретов может быть затратные в поддержании стратегию для вашей организации, касающиеся управления приложениями. Создание и обслуживание развивающейся списка, которое запрещает все вредоносные программы и другие проблемных приложений будет много времени и подвержена ошибок.

### <a name="create-an-inventory-of-your-applications-for-the-allow-list"></a>Создать перечень приложений в список разрешений
Для эффективного использования разрешающее правило по умолчанию, необходимо определить ровно приложения, которые требуются в вашей организации. Существуют средства, предназначенные для создания перечня приложений, таких как сборщик данных об инвентаризации в Microsoft Application Compatibility Toolkit. Но политик ограниченного использования Программ имеет функцию расширенного ведения журнала, помогут вам понять, точно какие приложения работают в вашей среде.

##### <a name="to-discover-which-applications-to-allow"></a>Чтобы узнать, какие приложения, чтобы разрешить

1.  В тестовой среде развертывание политик ограниченного использования программ с помощью набора правил по умолчанию неограниченный и удалите все дополнительные правила. При включении политик ограниченного использования Программ, не заставляя его, чтобы ограничить все приложения, SPR будут иметь возможность отслеживать, что приложения выполняемого.

2.  Создайте следующий параметр реестра, чтобы включить функцию расширенного ведения журнала и указать путь к должно быть записано в файл журнала.

    **"HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Windows\Safer\ CodeIdentifiers"**

    Строковое значение: *Путь NameLogFile NameLogFile*

    Поскольку SRP оценивает все приложения при запуске, в файл журнала создается запись *NameLogFile* при каждом запуске приложения.

3.  Оценка файла журнала

    Каждая запись журнала состояний:

    -   вызывающий объект политики ограниченного использования программ и идентификатор процесса (PID) вызывающего процесса

    -   Проверяемая цель

    -   правила политик ограниченного использования Программ, возникшее при выполнении этого приложения

    -   идентификатор для правила политик ограниченного использования Программ.

    Пример выходных данных, записанных в файл журнала:

**Explorer.exe (PID = 4728) identifiedC:\Windows\system32\onenote.exe как неограниченные usingpath правило, Guid = {320bd852-aa7c-4674-82c5-9a80321670a3}** всех приложений и соответствующий код, проверяющий политик ограниченного использования Программ и блокирует будет отображаться в журнале файл, который затем можно использовать для определения, какие исполняемые файлы, которые следует учитывать для список разрешенных.


