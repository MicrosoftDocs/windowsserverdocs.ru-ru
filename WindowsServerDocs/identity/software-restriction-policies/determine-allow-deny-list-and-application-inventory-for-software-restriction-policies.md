---
title: "Определение списка запретов и инвентаризации приложений для политик ограниченного использования программ"
description: "Безопасность Windows Server"
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: security-software-restriction-policies
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 0abb73b6-b5d8-4505-8ab1-2f29e4bf0411
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/12/2016
ms.openlocfilehash: 60e78912284715649938567d66ffb90b9890b1b9
ms.sourcegitcommit: db290fa07e9d50686667bfba3969e20377548504
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2017
---
# <a name="determine-allow-deny-list-and-application-inventory-for-software-restriction-policies"></a>Определение списка запретов и инвентаризации приложений для политик ограниченного использования программ

>Область применения: Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

В этом разделе для ИТ-специалистов дает рекомендации Создание разрешить и запретить список для приложений под управлением политики ограниченного использования программ (SRP), начиная с Windows Server 2008 и Windows Vista.

## <a name="introduction"></a>Введение
Политики ограниченного использования программ (SRP) — компонент на основе групповой политики, который идентифицирует программы, работающие на компьютерах в домене и управляет возможностью запуска этих программ. Политики ограниченного использования программ позволяют создать конфигурацию со строгими ограничениями для компьютеров, в которых разрешается запуск только определенных приложений. Они интегрированы с доменные службы Microsoft Active Directory и групповой политикой, но также могут настраиваться на изолированных компьютерах. Отправной точкой для политик ограниченного использования Программ, в разделе [политик ограниченного использования программ](software-restriction-policies.md).

Начиная с Windows Server 2008 R2 и Windows 7, Windows AppLocker можно использовать вместо или вместе с SRP в части стратегии управления приложениями.

Дополнительные сведения о способах выполнения определенных задач с помощью политик ограниченного использования Программ см. в следующих:

-   [Работа с правилами политик ограниченного использования программ](work-with-software-restriction-policies-rules.md)

-   [Политики ограниченного использования программ для защиты компьютера от вирусов, распространяемых по электронной почте](use-software-restriction-policies-to-help-protect-your-computer-against-an-email-virus.md)

### <a name="what-default-rule-to-choose-allow-or-deny"></a>Какое правило по умолчанию, чтобы выбрать: разрешить или запретить
Политики ограниченного использования программ может быть развернуто на одном из двух режимов, которые являются основой правила по умолчанию: разрешить или запретить список. Можно создать политику, которая определяет каждое приложение, разрешено запускать в среде; правило по умолчанию внутри политики является ограничение и блокировать все приложения, которые вы не разрешите явным образом для запуска. Или можно создать политику, которая определяет каждое приложение, не будут выполняться. по умолчанию правило не ограничено и ограничивает только приложения, которые явным образом упомянуты в таблице.

> [!IMPORTANT]
> Список запрещенных режим может быть стратегию обслуживания высокой относительно управления приложениями вашей организации. Создания и обслуживания развивающихся список, который запрещает всех вредоносных программ и других проблемных приложений требуется много времени и будут уязвимы для ошибок.

### <a name="create-an-inventory-of-your-applications-for-the-allow-list"></a>Создать список приложений для разрешенном списке.
Для эффективного использования разрешающее правило по умолчанию, вам необходимо определить точно приложения, которые требуются в организации. Существуют средства, предназначенные для создания инвентаризацию приложений, таких как сборщик данных инвентаризации в Microsoft Application Compatibility Toolkit. Однако политики ограниченного использования Программ имеет функцию расширенного ведения журнала, чтобы помочь вам понять точно какие приложения работают в вашей среде.

##### <a name="to-discover-which-applications-to-allow"></a>Чтобы обнаружить какие приложения, чтобы разрешить

1.  В среде тестирования развертывания политики ограниченного использования программ программного обеспечения с набор правил по умолчанию неограниченный и удалите все дополнительные правила. При включении политики ограниченного использования Программ без перезагрузки его, чтобы ограничить любые приложения, SPR должна иметь возможность отслеживать, какие приложения, запустите.

2.  Создайте следующий параметр реестра, чтобы включить функцию расширенного ведения журнала и задать путь к которой должны быть написаны файла журнала.

    **«HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Windows\Safer\ CodeIdentifiers»**

    Строковое значение: *NameLogFile путь NameLogFile*

    Поскольку политики ограниченного использования Программ оценивает все приложения, они выполняются, записи в файл журнала *NameLogFile* при каждом запуске приложения.

3.  Оценка файла журнала

    Состояния каждой записи журнала:

    -   политики ограниченного использования программ программного обеспечения и Идентификатору (PID) вызывающего процесса вызывающей стороны

    -   Проверяемая цель

    -   правила политики ограниченного использования Программ, возникшая при запуске этого приложения

    -   Идентификатор правила политики ограниченного использования Программ.

    Пример выходных данных, записываются в файл журнала:

**Explorer.exe (идентификатор Процесса = 4728) identifiedC:\Windows\system32\onenote.exe как Guid неограниченный usingpath правила = {320bd852-aa7c-4674-82c5-9a80321670a3}** все приложения и связанные код, который проверяет SRP и блокировать будет указано в файле журнала, который затем можно использовать для определения, какие исполняемые файлы, которые следует учитывать для вашей список разрешенных.


