---
title: Определение списка разрешений и запретов и инвентаризации приложений для политик ограниченного использования программ
description: Безопасность Windows Server
ms.prod: windows-server
ms.technology: security-software-restriction-policies
ms.topic: article
ms.assetid: 0abb73b6-b5d8-4505-8ab1-2f29e4bf0411
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/12/2016
ms.openlocfilehash: c0fdb5c1d7c4b03610a173c6cd0575d39646a7d0
ms.sourcegitcommit: af1cf89632d62a94943d3ad9f6b5234b88499278
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/16/2020
ms.locfileid: "81524909"
---
# <a name="determine-allow-deny-list-and-application-inventory-for-software-restriction-policies"></a>Определение списка разрешений и запретов и инвентаризации приложений для политик ограниченного использования программ

>Область применения: Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

В этом разделе для ИТ-специалистов содержатся инструкции по созданию списка разрешений и запретов для управления приложениями с помощью политик ограниченного использования программ (SRP), начиная с Windows Server 2008 и Windows Vista.

## <a name="introduction"></a>Введение
Политики ограниченного использования программ — это основанная на групповых политиках функция, которая выявляет программы, работающие на компьютерах в домене, и управляет возможностью выполнения этих программ. Эти политики позволяют создать конфигурацию со строгими ограничениями для компьютеров, где разрешается запуск только определенных приложений. Политики интегрируются с доменными службами Active Directory и групповой политикой, но также могут настраиваться на изолированных компьютерах. Сведения об отправной точке для набора исправлений безопасности см. в разделе [политики ограниченного использования программ](software-restriction-policies.md).

Начиная с Windows Server 2008 R2 и Windows 7, вместо политики SRP или вместе с ней в рамках стратегии управления приложениями можно использовать Windows AppLocker.

Сведения о способах выполнения определенных задач с помощью политик ограниченного использования программ см. в следующих разделах:

-   [Работа с правилами политик ограниченного использования программ](work-with-software-restriction-policies-rules.md)

-   [Использование политик ограниченного использования программ для защиты компьютера от вирусов по электронной почте](use-software-restriction-policies-to-help-protect-your-computer-against-an-email-virus.md)

### <a name="what-default-rule-to-choose-allow-or-deny"></a>Какое правило по умолчанию выбрать: разрешить или запретить
Политики ограниченного использования программ можно развернуть в одном из двух режимов, которые являются основанием правила по умолчанию: список разрешений или список запретов. Можно создать политику, определяющую все приложения, которые разрешено запускать в среде; правило по умолчанию в политике ограничено и блокирует все приложения, которые явно не разрешено выполнять. Или можно создать политику, определяющую все приложения, которые не могут быть запущены; правило по умолчанию не ограничено и ограничивает только те приложения, которые были указаны явно.

> [!IMPORTANT]
> Режим списка запретов может быть стратегией высокого уровня обслуживания для Организации, касающейся управления приложениями. Создание и обслуживание списка развития, в котором запрещены все вредоносные программы и другие проблемные приложения, занимают много времени и подвержены ошибкам.

### <a name="create-an-inventory-of-your-applications-for-the-allow-list"></a>Создание инвентаризации приложений для списка разрешений
Чтобы эффективно использовать правило по умолчанию, необходимо точно определить, какие приложения требуются в вашей организации. Существуют средства, предназначенные для создания инвентаризации приложений, такие как сборщик перечней в наборе средств для обеспечения совместимости приложений Майкрософт. Однако SRP обладает расширенной функцией ведения журнала, помогающей понять, какие именно приложения работают в вашей среде.

##### <a name="to-discover-which-applications-to-allow"></a>Определение приложений, которые следует разрешить

1.  В тестовой среде разверните политику ограниченного использования программ с набором правил по умолчанию без ограничений и удалите все дополнительные правила. Если включить SRP без принудительного ограничения каких бы то ни было приложений, СПР сможет отслеживать, какие приложения выполняются.

2.  Создайте следующее значение реестра, чтобы включить функцию расширенного ведения журнала, и задайте путь к месту, где должен быть записан файл журнала.

    **"HKEY_LOCAL_MACHINE \Софтваре\полиЦиес\микрософт\виндовс\сафер\кодеидентифиерс"**

    Строковое значение: *LogFilename путь к LogFilename*

    Поскольку SRP оценивает все приложения при их запуске, запись записывается в файл журнала *намелогфиле* каждый раз при запуске приложения.

3.  Оценка файла журнала

    Каждая запись журнала имеет следующие статусы:

    -   вызывающий объект политики ограниченного использования программ и идентификатор процесса (PID) вызывающего процесса

    -   оцениваемый целевой объект

    -   правило SRP, которое было обнаружено при запуске приложения

    -   Идентификатор для правила SRP.

    Пример выходных данных, записываемых в файл журнала:

**Explorer. exe (PID = 4728) идентифиедк: \ Windows\system32\onenote.exe в качестве неограниченного усингпас правила, GUID = {320bd852-aa7c-4674-82c5-9a80321670a3}**    Все приложения и соответствующий код, которые проверяет и задаются в блоке безопасности, будут записаны в файл журнала, который затем можно использовать для определения того, какие исполняемые файлы следует учитывать в списке разрешенных.

