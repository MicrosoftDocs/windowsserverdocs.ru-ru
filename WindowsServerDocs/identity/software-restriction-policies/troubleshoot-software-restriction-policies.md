---
title: "Диагностика политик ограниченного использования программ"
description: "Безопасность Windows Server"
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: security-software-restriction-policies
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 4fd53736-03e7-4bf9-ba90-d1212d93e19a
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/12/2016
ms.openlocfilehash: abf592930f5347fa10e83c644671f68f9dc1a3f6
ms.sourcegitcommit: db290fa07e9d50686667bfba3969e20377548504
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2017
---
# <a name="troubleshoot-software-restriction-policies"></a>Диагностика политик ограниченного использования программ

>Область применения: Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

В этом разделе описываются распространенные проблемы и способы их решения при устранении неполадок политик ограниченного использования программ (SRP), начиная с Windows Server 2008 и Windows Vista.

## <a name="introduction"></a>Введение
Политики ограниченного использования программ (SRP) — компонент на основе групповой политики, который идентифицирует программы, работающие на компьютерах в домене и управляет возможностью запуска этих программ. Политики ограниченного использования программ позволяют создать конфигурацию со строгими ограничениями для компьютеров, в которых разрешается запуск только определенных приложений. Они интегрированы с доменные службы Microsoft Active Directory и групповой политикой, но также могут настраиваться на изолированных компьютерах. Дополнительные сведения о политиках ограниченного использования см. в разделе [политик ограниченного использования программ](software-restriction-policies.md).

Начиная с Windows Server 2008 R2 и Windows 7, Windows AppLocker можно использовать вместо или вместе с SRP в части стратегии управления приложениями.

### <a name="windows-cannot-open-a-program"></a>Windows не удается открыть программу
Пользователи получают сообщение «Windows не удается открыть этой программы, из-за политики ограниченного использования программ программного обеспечения. Дополнительные сведения откройте окно просмотра событий или обратитесь к системному администратору.» Или, в командной строке сообщение «система не может выполнить указанную программу.»

**Причина:** уровень безопасности по умолчанию (или правила) был создан так, что программное обеспечение как **запрещено**, и поэтому она не запустится.

**Решение:** в журнале событий для более подробного описания сообщения. Сообщение журнала событий показывает, какие программы установлен как **запрещено** и какое правило применяется к программе.

### <a name="modified-software-restriction-policies-are-not-taking-effect"></a>Измененные политики ограниченного использования программ не вступают в силу
**Причина:** все параметры политики локально настроенные переопределить политик ограниченного использования программ, которые указаны в домене с помощью групповой политики. Это может означать наличие параметра политики из домена, переопределяет параметры политики.

**Причина:** групповой политики не были обновлены параметров политики. Групповая политика применяет изменения в параметры политики периодически; Таким образом вполне вероятно, что изменения политики, которые были внесены в каталоге еще не были обновлены.

**Решения:**

1.  Компьютер, на котором изменить политики ограниченного использования программ для сети должны иметь возможность связаться с контроллером домена. Убедитесь, что компьютер может связаться с контроллером домена.

2.  Обновление политики ведения журналов из сети и снова войдя к сети повторно. Если все политики, примененные с помощью групповой политики, ведение журнала обратно в обновление будет выполнено этих политик.

3.  Параметры политики с помощью служебной программы командной строки gpupdate или выхода из и снова войдя обратно на компьютер можно обновить. Для получения наилучших результатов выполните gpupdate и затем выйдите из и снова войдите в компьютер. Как правило параметры безопасности обновляются каждые 90 минут на рабочей станции или сервере и каждые 5 минут на контроллере домена. Эти параметры также обновляются каждые 16 часов ли были внесены изменения. Это настраиваемые параметры, поэтому интервалы обновления может быть другой в каждом домене.

4.  Проверьте, какие политики действуют. Проверьте политики на уровне домена для **не перекрывать** параметры.

5.  Политики ограниченного использования программ, которые указаны в домене с помощью групповой политики переопределяют все политики, настроенных локально. С помощью средства командной строки Gpresult определить результирующий эффект применения политики. Это может означать наличие политики домена, в которой переопределяет параметр вашей локальной.

6.  Если параметры политики SRP и AppLocker, в том же GPO AppLocker параметры будут иметь приоритет, в Windows 7, Windows Server 2008 R2 и более поздних версий. Рекомендуется задавать параметры политики SRP и AppLocker в других объектах групповой политики.

### <a name="after-adding-a-rule-through-srp-you-cannot-log-on-to-your-computer"></a>После добавления правила через политики ограниченного использования Программ, не смогут войти в систему
**Причина:** компьютер получает доступ к многие программы и файлы при его запуске. Может случайно установки одной из этих программ или файлы для **запрещено**. Поскольку компьютер не может получить доступ к программы или файла, не удается загрузиться надлежащим образом.

**Решение:** запустите компьютер в безопасном режиме, войдите в систему как локальный администратор и измените политик ограниченного использования программ, чтобы разрешить программу или файл, чтобы запустить.

### <a name="a-new-policy-setting-is-not-applying-to-a-specific-file-name-extension"></a>Новый параметр политики не применяются к расширение имени файла
**Причина:** расширение имени файла не находится в списке поддерживаемых типов файлов.

**Решение:** добавить расширение имени файла в список типов файлов, поддерживаемые политики ограниченного использования Программ.

Политики ограниченного использования программ решить проблему, из регулирования неизвестно или ненадежного кода. Политики ограниченного использования программ это параметры безопасности для определения программного обеспечения и управления возможностью его запуска на локальном компьютере, в сайте, домене или Подразделении и может быть реализован через объект групповой Политики.

### <a name="a-default-rule-is-not-restricting-as-expected"></a>Правило по умолчанию не ограничение, как ожидалось
**Причина:** правила, которые применяются в определенном порядке, что может привести к правила по умолчанию быть переопределены определенные правила. Политики ограниченного использования Программ применяются правила в следующем порядке (наиболее только общие):

1.  Правила хэширования

2.  Правила для сертификатов

3.  Правила для путей

4.  Правила для зон Интернета

5.  Правила по умолчанию

**Решение:** оценить правила, ограничения приложения и при необходимости удалите все, кроме правила по умолчанию.

### <a name="unable-to-discover-which-restrictions-are-applied"></a>Не удалось определить, какие ограничения применяются
**Причина:** имеется не очевидной причину непредвиденное поведение, и обновление групповой Политики не устранил проблему, необходим дальнейший анализ.

**Решения:**

1.  Проверьте в журнале событий системы, фильтрация по источнику «Политики ограниченного использования программ программного обеспечения». Записи явной форме указать, какое правило реализуется для каждого приложения.

2.  Включение расширенного ведения журнала. В разделе [определить список запретить разрешить и инвентаризации приложений для политик ограниченного использования программ](software-restriction-policies.md) Дополнительные сведения.


