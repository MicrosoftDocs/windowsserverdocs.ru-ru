---
title: Диагностика политик ограниченного использования программ
description: Безопасность Windows Server
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: security-software-restriction-policies
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: 4fd53736-03e7-4bf9-ba90-d1212d93e19a
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/12/2016
ms.openlocfilehash: abf592930f5347fa10e83c644671f68f9dc1a3f6
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59872385"
---
# <a name="troubleshoot-software-restriction-policies"></a>Диагностика политик ограниченного использования программ

>Область применения. Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

В этом разделе описаны распространенные проблемы и способы их решения при устранении неполадок политик ограниченного использования программ (SRP), начиная с Windows Server 2008 и Windows Vista.

## <a name="introduction"></a>Введение
Политики ограниченного использования программ — это основанная на групповых политиках функция, которая выявляет программы, работающие на компьютерах в домене, и управляет возможностью выполнения этих программ. Эти политики позволяют создать конфигурацию со строгими ограничениями для компьютеров, где разрешается запуск только определенных приложений. Политики интегрируются с доменными службами Active Directory и групповой политикой, но также могут настраиваться на изолированных компьютерах. Подробные сведения о политиках ограниченного использования программ см. в разделе [Политики ограниченного использования программ](software-restriction-policies.md).

Начиная с Windows Server 2008 R2 и Windows 7, вместо политики SRP или вместе с ней в рамках стратегии управления приложениями можно использовать Windows AppLocker.

### <a name="windows-cannot-open-a-program"></a>Windows не удается открыть программу
Пользователи получают сообщение «Windows не удается открыть эту программу, так как это запрещено политикой ограниченного использования программ. Дополнительные сведения откройте средство просмотра событий или обратитесь к системному администратору.» Или, в командной строке, сообщение об ошибке «системе не удается выполнить указанную программу».

**Причина.** Уровень безопасности по умолчанию (или правило) был создан таким образом, чтобы программное обеспечение устанавливается как **не разрешено**, и поэтому он не запустится.

**Решение:** Найдите в журнале событий, подробное описание сообщения. Сообщения журнала событий указывает, какие программы установлен как **не разрешено** и том, какое правило применяется к программе.

### <a name="modified-software-restriction-policies-are-not-taking-effect"></a>Измененные политики ограниченного использования программ не вступают в силу
**Причина.** Политики ограниченного использования программ, которые указаны в домене с помощью групповой политики переопределяют параметры политики, настроенные локально. Это может означать наличие параметра политики из домена, который переопределяет параметры политики.

**Причина.** Групповая политика может не обновлена своих параметрах политики. Групповая политика применяет изменения к параметрам политики периодически; Таким образом вполне вероятно, что изменения, внесенные в каталоге еще не был обновлен.

**Решения:**

1.  Компьютер, на котором производится изменение политик ограниченного использования программ для сети должен иметь возможность связаться с контроллером домена. Убедитесь, что компьютер может связаться с контроллером домена.

2.  Обновите политики, ведение журнала вне сети и затем войти в сеть снова. Если любая политика применяется через групповую политику, входящих на обновит этих политик.

3.  Параметры политики с помощью gpupdate программы командной строки или сеанса, и затем обратно на компьютер, можно обновить. Для получения наилучших результатов выполните gpupdate и затем выйдите из, а затем повторно войти в компьютер. Как правило параметры безопасности обновляются каждые 90 минут на рабочей станции или сервере и каждые 5 минут на контроллере домена. Кроме того, независимо от наличия изменений эти параметры обновляются каждые 16 часов. Это можно настроить параметры, поэтому интервалы обновления может отличаться в каждом домене.

4.  Проверьте, какие политики действуют. Проверьте политики на уровне домена для **не перекрывать** параметры.

5.  Политики ограниченного использования программ, которые указаны в домене с помощью групповой политики переопределить все политики, настроенные локально. Используйте программу командной строки Gpresult, чтобы определить, что такое net результатов действия политики. Это может означать наличие политики на основе домена, который переопределяет параметр вашей локальной.

6.  Если параметры политики SRP и AppLocker в одном объекте групповой Политики, параметры AppLocker имеют приоритет в Windows 7, Windows Server 2008 R2 и более поздних версий. Рекомендуется поместить параметры политики SRP и AppLocker в разных объектах GPO.

### <a name="after-adding-a-rule-through-srp-you-cannot-log-on-to-your-computer"></a>После добавления правила с помощью политик ограниченного использования Программ, не могут войти на компьютер
**Причина.** Компьютер обращается к многие программы и файлы, при запуске. Могут быть случайно заданы один из этих программ и файлов для **не разрешено**. Поскольку компьютер не может получить доступ к программы или файла, ей не удается запустить должным образом.

**Решение:** Запустите компьютер в безопасном режиме, войдите в систему как локальный администратор и измените политики ограниченного использования программ, чтобы разрешить программе или к запускаемому файлу.

### <a name="a-new-policy-setting-is-not-applying-to-a-specific-file-name-extension"></a>Новый параметр политики не применяется к определенным расширением
**Причина.** Расширение имени файла отсутствует в списке поддерживаемых типов файлов.

**Решение:** Добавьте расширение имени файла в список типов файлов, поддерживаемых политик ограниченного использования Программ.

Политики ограниченного использования программ решить проблему регулирования неизвестного или ненадежного кода. Политики ограниченного использования программ являются параметры безопасности для идентификации программного обеспечения и управлять их для запуска на локальном компьютере, в узел, домен или Подразделение и можно реализовать с помощью объекта групповой Политики.

### <a name="a-default-rule-is-not-restricting-as-expected"></a>Правило по умолчанию не ограничения, как ожидалось
**Причина.** Правила, которые применяются в определенном порядке, что может привести к правила по умолчанию должна быть переопределена определенные правила. SRP применяет правила в следующем порядке (наиболее только общие):

1.  Правила хэширования

2.  Правила для сертификатов

3.  Правила для путей

4.  Правила для зон Интернета

5.  Правила по умолчанию

**Решение:** Оцените эти правила, ограничения приложения и, при необходимости удалите все, кроме правила по умолчанию.

### <a name="unable-to-discover-which-restrictions-are-applied"></a>Не удалось обнаружить применяются ограничения
**Причина.** Имеется не очевидной причину непредвиденного поведения, и обновить групповой Политики не устранил проблему, не требуется дополнительное изучение.

**Решения:**

1.  Проверьте в журнале событий системы, фильтрации на источнике «Политики ограниченного использования программ». Операции явно указать, какое правило реализуется для каждого приложения.

2.  Включение расширенного ведения журнала. См. в разделе [определить список разрешить-Deny и инвентаризации приложений для политик ограниченного использования программ](software-restriction-policies.md) Дополнительные сведения.


