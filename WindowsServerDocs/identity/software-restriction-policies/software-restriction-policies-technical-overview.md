---
title: "Технический обзор политик ограниченного использования программ"
description: "Безопасность Windows Server"
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: security-software-restriction-policies
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: dc7013b0-0efd-40fd-bd6d-75128adbd0b8
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/12/2016
ms.openlocfilehash: d007d55ced9c6a18581eaedb4edb66db9eeccab9
ms.sourcegitcommit: db290fa07e9d50686667bfba3969e20377548504
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2017
---
# <a name="software-restriction-policies-technical-overview"></a>Технический обзор политик ограниченного использования программ

>Область применения: Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

В этом разделе описаны политики ограниченного использования программ, когда и как использовать функцию, какие изменения были реализованы в предыдущих выпусках и приведены ссылки на дополнительные ресурсы для создания и развертывания политик ограниченного использования программ, начиная с Windows Server 2008 и Windows Vista.

## <a name="introduction"></a>Введение
Политики ограниченного использования программ предоставить администраторам механизм на основе групповой политики для определения программного обеспечения и управления возможностью его запуска на локальном компьютере. Эти политики можно использовать для защиты компьютеров под управлением операционных систем Microsoft Windows (начиная с Windows Server 2003 и Windows XP Professional) от известных конфликты и защитить компьютеры от угроз безопасности, таких как вредоносные вирусы и троянские кони. Также можно использовать политики ограниченного использования программ, чтобы создать конфигурацию со строгими ограничениями для компьютеров, в которых разрешается запуск только определенных приложений. Политики ограниченного использования программ интегрируются с Microsoft Active Directory и групповой политики. Также можно создать политики ограниченного использования программ на изолированных компьютерах.

Политики ограниченного использования программ являются политиками доверия, которые являются правила, устанавливаемые администратором, чтобы ограничить выполнение сценариев и другого кода, не имеющего полного доверия, запуск. Расширение политик ограниченного использования программ для редактор локальных групповых политик предоставляет единый интерфейс, по которой можно управлять параметров для ограничения использования приложений на локальном компьютере или в домене.

## <a name="procedures"></a>Процедуры

-   [Администрирование политик ограниченного использования программ](administer-software-restriction-policies.md)

    -   [Определение списка запретов и инвентаризации приложений для политик ограниченного использования программ](determine-allow-deny-list-and-application-inventory-for-software-restriction-policies.md)

    -   [Работа с правилами политик ограниченного использования программ](work-with-software-restriction-policies-rules.md)

    -   [Политики ограниченного использования программ для защиты компьютера от вирусов, распространяемых по электронной почте](use-software-restriction-policies-to-help-protect-your-computer-against-an-email-virus.md)

-   [Диагностика политик ограниченного использования программ](troubleshoot-software-restriction-policies.md)

## <a name="software-restriction-policy-usage-scenarios"></a>Сценарии использования политик ограниченного использования программ программного обеспечения
Бизнес-пользователей совместно с помощью электронной почты, обмена мгновенными сообщениями и с одноранговыми приложениями. По мере увеличения эти объекты данных совместной работы, особенно с использованием Интернета в сфере бизнес-вычислений, делать в таком угроз с вредоносным кодом, например вирусы-черви, вирусов и пользователь-злоумышленник или злоумышленник угроз.

Пользователи могут получать вредоносного кода во многих формах, начиная с основной Windows исполняемые файлы (.exe), и заканчивая макросы в документов (например, DOC-файлы), в сценарии (например, vbs-файлов). Злоумышленников часто используют методы социотехники для получения пользователям запускать код, содержащий вирусов. (Социотехники — это термин для обман пользователей свой пароль или другие связанные сведения о безопасности). Если такой код активирован, он может создать атак типа "отказ в обслуживании" в сети, отправки важных или конфиденциальных данных в Интернет, поставить под угрозу безопасность компьютера или повредить содержимое жесткого диска.

ИТ-организации и пользователей должны иметь возможность определить, какие программы являются безопасными и который не. С большим числом и форм, выполняемые вредоносного кода это становится сложной задачей.

Для защиты своим сетевым компьютерам из вредоносного кода и Неизвестный или неподдерживаемый программного обеспечения организации можно реализовать политик ограниченного использования программ в составе своих общей стратегии обеспечения безопасности.

Администраторы могут использовать политики ограниченного использования программ для решения следующих задач:

-   Определить доверенный код

-   Разработать гибкую групповую политику для регулирования работы сценариев, исполняемых файлов и элементов управления ActiveX

Политики ограниченного использования программ применяются операционной системой и приложениями (например, сценариев), совместимые с помощью политик ограниченного использования программ.

В частности администраторы могут использовать политики ограниченного использования программ для следующих целей:

-   Укажите, какое программное обеспечение (исполняемые файлы) можно запускать на клиентских компьютерах

-   Запретить пользователям выполнять определенные программы на компьютерах с общим доступом

-   Укажите, кто может добавлять доверенных издателей на клиентских компьютерах

-   Установить область действия политик ограниченного использования программ (указать ли политики применяться для всех пользователей или группы пользователей на клиентских компьютерах)

-   Исполняемые файлы предотвращает запуск на локальном компьютере, подразделение (OU), сайта или домена. Это уместно в случаях, когда вы не используете политик ограниченного использования программ для решения потенциальных проблем с пользователей-злоумышленников.

## <a name="BKMK_Diffs_Changes"></a>Изменения в функциональных возможностях и различия
Отсутствуют изменения функциональных возможностей политик ограниченного использования Программ для Windows Server 2012 и Windows 8.

**Поддерживаемые версии**

Только политик ограниченного использования программ можно настроить на и применяются к компьютерам под управлением Windows Server 2003, в том числе Windows Server 2012 и по крайней мере Windows XP, включая Windows 8.

> [!NOTE]
> Политики ограниченного использования программ не имеют определенных версий операционной системы клиента Windows, начиная с Windows Vista. Компьютеры, которые не управляются в домене групповой политики может не получать распределенных политик.

**Сравнение функций управления приложения политик ограниченного использования программ и AppLocker**

В следующей таблице сравниваются функции и функции политик ограниченного использования программ (SRP) и AppLocker.

|Функции управления приложения|ПОЛИТИКИ ОГРАНИЧЕННОГО ИСПОЛЬЗОВАНИЯ ПРОГРАММ|AppLocker|
|----------------|----|-------|
|Область|Политики SRP можно применять для всех операционных системах Windows, начиная с Windows XP и Windows Server 2003.|Политики AppLocker применимы только к Windows Server 2008 R2, Windows Server 2012, Windows 7 и Windows 8.|
|Создание политики|Политики SRP обслуживаются с использованием групповой политики, и только администратор объекта групповой Политики, можно обновить политику политики ограниченного использования Программ. Администратор на локальном компьютере может изменять политики SRP, определенные в локальном объекте групповой Политики.|Политики AppLocker обслуживаются с использованием групповой политики, и только администратор объекта групповой Политики, можно обновить политику. Администратор на локальном компьютере может изменять политики AppLocker, определенные в локальном объекте групповой Политики.<br /><br />AppLocker позволяет настраивать сообщения об ошибках, чтобы направлять пользователей на веб-страницу для справки.|
|Обслуживание политик|Политики SRP необходимо обновлять с использованием оснастки локальной политики безопасности (если политики создаются локально) или консоли управления групповыми политиками (GPMC).|Политики AppLocker можно обновлять с помощью локальной политики безопасности оснастке (если политики создаются локально) или консоли управления групповыми Политиками или командлетов Windows PowerShell AppLocker.|
|Применение политики|Политики SRP распространяются через групповую политику.|Политики AppLocker распространяются через групповую политику.|
|Режим применения|Политики SRP работают в «режиме списка запрещенных» администраторы могут создавать правила для файлов, которые не требуется запретить на данном предприятии, в то время как остальные файлы разрешены для запуска по умолчанию.<br /><br />Также можно настроить политики ограниченного использования Программ в «режиме белого списка» таким образом, что по умолчанию блокируются все файлы и администраторами разрешающие правила для файлов, которые они хотят разрешить.|AppLocker по умолчанию работает в «режиме белого списка «где только те файлы, разрешено запускать, для которых существует соответствующее разрешающее правило.|
|Типы файлов, которыми можно управлять|Политики ограниченного использования Программ можно контролировать следующие типы файлов:<br /><br />-Исполняемых файлов<br />-Библиотеки DLL<br />-Сценарии<br />-Установщики Windows<br /><br />SRP невозможно контролировать каждый тип файлов по отдельности. Все правила SRP находятся в единой коллекции правил.|AppLocker можно контролировать следующие типы файлов.<br /><br />-Исполняемых файлов<br />-Библиотеки DLL<br />-Сценарии<br />-Установщики Windows<br />-Упакованные приложения и установщики (Windows Server 2012 и Windows 8)<br /><br />AppLocker поддерживает коллекцию отдельное правило для каждого типа пять файлов.|
|Специальные типы файлов|SRP поддерживает расширяемый список типов файлов, которые считаются исполняемого файла. Администраторы могут добавлять расширения файлов, которые должны считаться исполняемыми.|AppLocker не поддерживает эту возможность. AppLocker в настоящее время поддерживает следующими расширениями:<br /><br />-Исполняемые файлы (.exe, .com).<br />-Библиотеки DLL (.ocx, .dll).<br />-Скрипты (.vbs, .js, .ps1, .cmd, .bat)<br />-Установщики Windows (.msi, .mst, .msp)<br />-Установщики упакованных приложений (AppX-файл)|
|Типы правил|SRP поддерживает четыре типа правил.<br /><br />-Хэш<br />-Path<br />-Подписи<br />-Зона Интернета|AppLocker поддерживает три типа правила:<br /><br />-Хэш<br />-Path<br />-Издателя|
|Редактирование хэш-значение|Политики ограниченного использования Программ позволяет администраторам указать пользовательские значения хеша.|AppLocker вычисляет хэш-значение сам. Внутренне он использует хэш SHA1 Authenticode переносимые исполняемые файлы (Exe и Dll) и установщика Windows и плоских файлов хэш SHA1 для остальных.|
|Поддержка разными уровнями безопасности|С помощью SRP администраторы могут определять разрешения, с помощью которых можно запускать приложение. Таким образом, администратор может настроить правило таких что Блокнот должен всегда выполняться с ограниченными разрешениями и никогда — с правами администратора.<br /><br />Политики ограниченного использования Программ в Windows Vista и более ранних версий поддерживается несколько уровней безопасности. В Windows 7, список был ограничен всего из двух уровней: запрещено и неограниченный (базовый пользовательский преобразуется в запрещено).|AppLocker не поддерживает уровни безопасности.|
|Управление упакованных приложений и установщиков упакованных приложений|Не удается|AppX-файл — это тип допустимый файл, который может управлять AppLocker.|
|Нацеливание правила для пользователя или группы пользователей|Правила политики ограниченного использования Программ применяются ко всем пользователям на конкретном компьютере.|Правила AppLocker можно назначить для конкретного пользователя или группы пользователей.|
|Поддержка для исключения из правил|SRP не поддерживает исключения из правил|Правила AppLocker могут иметь исключения, что позволяет администраторам создавать правила вида «Разрешить все из Windows Кроме Regedit.exe».|
|Поддержка режима аудита|SRP не поддерживает режим аудита. Единственным способом для тестирования политики SRP является настройка тестовой среды и проведение ряда экспериментов.|AppLocker поддерживает режим аудита, что позволяет администраторам проверить действие политики в реальной рабочей среде, не влияя на работу пользователей. Получив удовлетворительный результат, можно приступать к принудительному применению политики.|
|Поддержка экспорта и импорта политик|SRP не поддерживает импорт и экспорт политик.|AppLocker поддерживает импорт и экспорт политик. Это позволяет создать политику AppLocker на образце компьютера, проверить ее и затем экспортируйте эту политику и снова импортировать в нужный объект групповой Политики.|
|Принудительное применение правил|Внутренне применение правил политики ограниченного использования Программ происходит в режиме пользователя, что менее безопасно.|Внутри системы правила AppLocker для файлов exe и DLL применяются в режиме ядра, что более безопасно по сравнению с применением в режиме пользователя.|

## <a name="system-requirements"></a>Требования к системе
Только политик ограниченного использования программ можно настроить на и применяются к компьютерам под управлением Windows Server 2003 и по крайней мере Windows XP. Требуется Групповая политика для распределения объектов групповой политики, содержащие политик ограниченного использования программ.

## <a name="software-restriction-policies-components-and-architecture"></a>Программные компоненты политик ограниченного использования программ и архитектура
Политики ограниченного использования программ обеспечивают механизм для операционной системы и приложений, совместимых с помощью политик ограниченного использования программ для ограничения выполнения программ.

На высоком уровне политик ограниченного использования программ включает в себя следующие компоненты:

-   Политики ограниченного использования программ API. Интерфейсы (API) используются для создания и настройки правила, которые составляют политику ограниченного использования программ. Также доступны в политик ограниченного использования программ API-интерфейсы для запроса, обработки и применение политик ограниченного использования программ.

-   Средство управления для политик ограниченного использования программ программного обеспечения. Он состоит из **политик ограниченного использования программ** расширение **редактор объектов групповой политики** оснастку, которая администраторам использовать для создания и изменения политик ограниченного использования программ.

-   Набор интерфейсов API операционных систем и приложений, которые вызывают политик ограниченного использования программ API, чтобы обеспечить применение политик ограниченного использования программ во время выполнения.

-   Active Directory и групповой политики. Политики ограниченного использования программ зависит от инфраструктуры групповой политики для распространения политик ограниченного использования программ из Active Directory в соответствующие клиенты, а также для определения областей и фильтрации применение этих политик на соответствующие целевые компьютеры.

-   Authenticode и интерфейсы доверия WinVerify, которые используются для обработки подписанных исполняемые файлы.

-   Средство просмотра событий. Функции, используемые программного обеспечения события журнала политик ограниченного использования программ к журналам средства событий.

-   Результирующей политики (RSoP), который может помочь в диагностике действующей политики, которые будут применены к клиенту.

Дополнительные сведения об архитектуре политики ограниченного использования Программ, как политики ограниченного использования Программ управляет правила, процессы и взаимодействия, в разделе [принципы работы политик ограниченного использования программ](https://technet.microsoft.com/library/cc786941(v=WS.10).aspx) в технической библиотеке Windows Server 2003.

## <a name="BKMK_Best_Practices"></a>Советы и рекомендации

### <a name="do-not-modify-the-default-domain-policy"></a>Не изменяйте политику домена по умолчанию.

-   Если вы не изменяете политику домена по умолчанию, всегда иметь возможность Благодаря повторному применению политики домена по умолчанию при возникновении проблем с политикой, настраиваемый домен.

### <a name="create-a-separate-group-policy-object-for-software-restriction-policies"></a>Создайте отдельный объект групповой политики для политик ограниченного использования программ.

-   Если вы создаете объект отдельный групповой политики (GPO) для политик ограниченного использования программ, вы можете отключить политик ограниченного использования программ в экстренном случае без отключения остальных политика домена.

### <a name="if-you-experience-problems-with-applied-policy-settings-restart-windows-in-safe-mode"></a>Если возникают проблемы с примененных параметрах политики, перезагрузите Windows в безопасном режиме.

-   Политики ограниченного использования программ не применяются при запуске Windows в безопасном режиме. Если вы случайно Блокировка рабочей станции с помощью политик ограниченного использования программ, перезагрузите компьютер в безопасном режиме, войдите в систему как локальный администратор, измените политику, выполнить **gpupdate**, перезагрузите компьютер и войдите в систему обычным образом.

### <a name="use-caution-when-defining-a-default-setting-of-disallowed"></a>Будьте осторожны при определении параметров по умолчанию не разрешено.

-   При определении значение по умолчанию **запрещено**, за исключением программное обеспечение, которое было бы разрешено явным образом запрещено все программное обеспечение. Любой файл, который вы хотите открыть должна иметь правило, политики ограничения программного обеспечения, позволяющий его, чтобы открыть.

-   Чтобы предотвратить блокировку сами вход в систему, если уровень безопасности по умолчанию имеет значение Администраторы **запрещено**, четыре правила для пути в реестре создаются автоматически. Можно удалить или изменить эти правила для пути реестра; Однако это не рекомендуется.

### <a name="for-best-security-use-access-control-lists-in-conjunction-with-software-restriction-policies"></a>Для повышения безопасности используйте списки управления доступом в сочетании с политиками ограниченного использования программ.

-   Пользователи могут попытаться обойти политики ограниченного использования программ, переименования или перемещения запрещенных файлов или перезаписывания разрешенных файлов. Поэтому рекомендуется использовать списки управления доступом (ACL), чтобы запрещать пользователям на доступ, необходимые для выполнения этих задач.

### <a name="test-new-policy-settings-thoroughly-in-test-environments-before-applying-the-policy-settings-to-your-domain"></a>Тщательно проверьте новые параметры политики в тестовой среде перед применением параметров политики к вашему домену.

-   Новые параметры политики могут работать по-другому, чем ожидалось. Тестирование снижает вероятность возникновения проблемы при развертывании параметров политики по сети.

-   Можно настроить тестовый домен, отдельный от домена вашей организации, в котором вы будете тестировать новые параметры политики. Также можно проверить параметры политики, создав тестовый объект групповой Политики и связав ее с тестовом подразделении. Если Вы протестировали тщательно параметров политики с тестовых пользователей, вы можете привязать тестовый объект групповой Политики к вашему домену.

-   Не устанавливайте программы или файлы для **запрещено** без тестирование, чтобы увидеть, что может быть эффект. Ограничения на определенные файлы может серьезно повлиять на работу компьютера или сети.

-   Сведения, введенные неправильно или опечатки может привести к параметр политики, который не выполняется должным образом. Проверка новых параметров политики перед их применением можно предотвратить непредвиденное поведение.

### <a name="filter-user-policy-settings-based-on-membership-in-security-groups"></a>Отфильтруйте параметры политики пользователя на основе членства в группах безопасности.

-   Можно указать пользователей или групп, для которых требуется отключить параметр политики для применения, сняв **применение групповой политики** и **чтения** флажков, которые расположены на **безопасности** вкладка диалогового окна "Свойства" для объекта групповой Политики.

-   В случае отказа разрешения на чтение, параметр политики не загружается на компьютере. В результате меньше пропускной способности используется загрузки необходимых параметров политики, который позволяет сети работать быстрее. Чтобы отменить разрешения на чтение, выберите **запретить** для **чтения** флажок, который находится в **безопасности** вкладка диалогового окна "Свойства" для объекта групповой Политики.

### <a name="do-not-link-to-a-gpo-in-another-domain-or-site"></a>Не выполнять привязку к объекту групповой Политики в другом домене или сайте.

-   Связывание объекта групповой Политики в другом домене или сайте может привести к снижению производительности.

## <a name="additional-resources"></a>Дополнительные ресурсы

|Тип содержимого|Ссылки|
|--------|-------|
|**Планирование**|[Технический справочник по политикам ограниченного использования программ](https://technet.microsoft.com/library/cc728085(v=WS.10).aspx)|
|**Операции**|[Администрирование политик ограниченного использования программ](administer-software-restriction-policies.md)|
|**Устранение неполадок**|[Политики ограниченного использования программ, устранение неполадок (2003)](https://technet.microsoft.com/library/cc737011(v=WS.10).aspx)|
|**Безопасность**|[Угрозы и противодействия для ограниченного использования программ политик (2008)](https://technet.microsoft.com/library/dd349795(v=WS.10).aspx)<br /><br />[Угрозы и противодействия для ограниченного использования программ политик (2008 R2)](https://technet.microsoft.com/library/hh125926(v=WS.10).aspx)|
|**Средства и параметры**|[Политики ограниченного использования программ средства и параметры (2003)](https://technet.microsoft.com/library/cc782454(v=WS.10).aspx)|
|**Ресурсы сообщества**|[Блокировка приложения с помощью политик ограниченного использования программ](https://technet.microsoft.com/magazine/2008.06.srp.aspx?pr=blog)|


