---
title: Технический обзор политик ограниченного использования программ
description: Безопасность Windows Server
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: security-software-restriction-policies
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: dc7013b0-0efd-40fd-bd6d-75128adbd0b8
author: coreyp-at-msft
ms.author: coreyp
manager: dongill
ms.date: 10/12/2016
ms.openlocfilehash: d007d55ced9c6a18581eaedb4edb66db9eeccab9
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59830855"
---
# <a name="software-restriction-policies-technical-overview"></a>Технический обзор политик ограниченного использования программ

>Область применения. Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

В этом разделе описаны политики ограниченного использования программ, когда и как использовать функцию, какие изменения были реализованы в прошлых выпусках и ссылки на дополнительные ресурсы, помогающие создавать и развертывать политики ограниченного использования программ, начиная с Windows Server 2008 и Windows Vista.

## <a name="introduction"></a>Введение
Политики ограниченного использования программ дают администраторам механизм на основе групповой политики для идентификации программного обеспечения и управлять их для запуска на локальном компьютере. Эти политики можно использовать для защиты компьютеров под управлением операционных систем Microsoft Windows (начиная с Windows Server 2003 и Windows XP Professional) от известных конфликтов и защитить компьютеры от угроз безопасности, таких как вирусы, вредоносные и троянских коней. Кроме того, данные политики помогают создать конфигурацию с расширенными ограничениями для компьютеров, на которых разрешается запуск только определенных приложений. Политики ограниченного использования программ интегрируются со службой Microsoft Active Directory и групповой политикой. Политики можно создавать на изолированных компьютерах.

Они являются политиками доверия, то есть представляют собой правила, устанавливаемые администратором, чтобы ограничить выполнение сценариев и другого кода, не имеющего полного доверия. Расширение политики ограниченного использования программ к редактор локальных групповых политик предоставляет единый интерфейс, через который можно управлять параметрами для ограничения использования приложений на локальном компьютере или в домене.

## <a name="procedures"></a>Процедуры

-   [Администрирование политик ограниченного использования программ](administer-software-restriction-policies.md)

    -   [Определение списка запретов и инвентаризации приложений для политик ограниченного использования программ](determine-allow-deny-list-and-application-inventory-for-software-restriction-policies.md)

    -   [Работа с правилами политик ограниченного использования программ](work-with-software-restriction-policies-rules.md)

    -   [Использование политик ограниченного использования программ для защиты компьютера от вирусов электронной почты](use-software-restriction-policies-to-help-protect-your-computer-against-an-email-virus.md)

-   [Устранение неполадок политик ограниченного использования программ](troubleshoot-software-restriction-policies.md)

## <a name="software-restriction-policy-usage-scenarios"></a>Сценарии использования политики ограничения программного обеспечения
Бизнес-пользователям совместно работать с помощью электронной почты, обмена мгновенными сообщениями и peer-to-peer приложений. Как увеличить эти средства для совместной работы, особенно с использованием Интернет в бизнес-приложений, сделать угроз от вредоносного кода, таких как вирусы-черви, вирусы и пользователь-злоумышленник или злоумышленник угроз.

Пользователи могут получать вредоносный код в различных формах, от собственного Windows исполняемые файлы (.exe), до макросы в документах (например, DOC-файлы), для скриптов (например, vbs-файл). Пользователи-злоумышленники или злоумышленники часто используют методы социальной инженерии учетных записей пользователей для выполнения кода, содержащий вирусы и черви. (Социотехники — это термин для обман пользователей свой пароль или определенные виды сведений о безопасности). Если активирована такой код, можно создать атак типа "отказ в обслуживании" в сети, отправлять важные и конфиденциальные данные в Интернет, поставить под угрозу безопасность компьютера или повредить содержимое жесткого диска.

Возможность определить, какие программы являются безопасными и который не должен быть ИТ-организации и пользователей. Большое и форм, которые могут принимать вредоносный код это становится сложной задачей.

Для защиты своим сетевым компьютерам из вредоносный код и Неизвестный или неподдерживаемый программного обеспечения, организации может реализовывать политики ограниченного использования программ как часть общей стратегии безопасности.

Администраторы могут использовать политики ограничения использования программ для решения следующих задач:

-   определить доверенный код;

-   разработать гибкую групповую политику для регулирования работы сценариев, исполняемых файлов и элементов ActiveX.

Политики ограниченного использования программ применяются операционной системой и приложениями (например, для создания сценариев), которые им соответствуют.

В частности, администраторы могут использовать политики ограниченного использования программ в следующих целях:

-   Укажите, какое программное обеспечение (исполняемые файлы) можно выполнять на клиентских компьютерах

-   запретить пользователям выполнять определенные программы на компьютерах с общим доступом;

-   Укажите, кто может добавлять доверенных издателей на клиентских компьютерах

-   Задать область действия политик ограниченного использования программ (указать независимо от политики влияют на всех пользователей или группы пользователей на клиентских компьютерах.)

-   запретить работу исполняемых файлов на локальном компьютере, сайте, в подразделении или домене. Это уместно в тех случаях, когда политики ограниченного использования программ не применяются для решения потенциальных проблем со злоумышленниками.

## <a name="BKMK_Diffs_Changes"></a>Различия и изменения функциональных возможностей
Отсутствуют изменения функциональных возможностей политик ограниченного использования Программ для Windows Server 2012 и Windows 8.

**Поддерживаемые версии**

Политики ограниченного использования программ можно только настроить на и применяются к компьютерам под управлением Windows Server 2003, включая Windows Server 2012 и по крайней мере Windows XP, включая Windows 8.

> [!NOTE]
> Нет политики ограниченного использования программ для определенных выпусков Windows client операционной системы, начиная с Windows Vista. Компьютеры, которые не управляются в домене групповой политики не может получать распределенных политики.

**Сравнение функций управления приложениями политик ограниченного использования программ и AppLocker**

В следующей таблице сравниваются возможности и функции компонента политик ограниченного использования программ (SRP) и AppLocker.

|Функция управления приложениями|SRP|AppLocker|
|----------------|----|-------|
|Область применения|Политики SRP могут применяться во всех операционных системах Windows, начиная с Windows XP и Windows Server 2003.|Политики AppLocker применяются только к Windows Server 2008 R2, Windows Server 2012, Windows 7 и Windows 8.|
|Создание политик|Политики SRP обслуживаются с использованием групповой политики, а обновлять политику SRP может только администратор объекта групповой политики (GPO). Администратор на локальном компьютере может изменять политики SRP, определенные в локальном объекте групповой политики.|Политики AppLocker обслуживаются с использованием групповой политики, а обновлять политику может только администратор объекта групповой политики. Администратор на локальном компьютере может изменять политики AppLocker, определенные в локальном объекте групповой политики.<br /><br />AppLocker позволяет настраивать сообщения об ошибках, которые перенаправляют пользователей на веб-страницы справки.|
|Обслуживание политик|Политики SRP необходимо обновлять с использованием оснастки локальной политики безопасности (если политики создаются локально) или консоли управления групповыми политиками (GPMC).|Политики AppLocker можно обновлять, используя оснастку локальной политики безопасности (если политики создаются локально) или консоли GPMC, а также командлетов Windows PowerShell AppLocker.|
|Применение политик|Политики SRP распространяются с использованием групповой политики.|Политики AppLocker распространяются с использованием групповой политики.|
|Режим применения политик|SRP работает в «Запретить режим списка» где администраторы могут создавать правила для файлов, которые они не хотят разрешить в этой организации, в то время как остальная часть файла разрешено запускать по умолчанию.<br /><br />Также можно настроить политик ограниченного использования Программ в «разрешить режим списка» таким образом, чтобы по умолчанию блокируются все файлы и администраторы должны создать правила разрешения для файлов, которые требуется разрешить.|AppLocker, по умолчанию работает в группе «разрешить режим списка» где допускаются только те файлы, для запуска, для которого является соответствующим разрешающее правило.|
|Типы файлов, которые можно контролировать|С помощью политик SRP можно контролировать следующие типы файлов.<br /><br />-Исполняемые файлы<br />-DLL-библиотеки<br />-Сценарии<br />-Установщики Windows<br /><br />С помощью SRP невозможно контролировать каждый из этих типов файлов по отдельности. Все правила SRP находятся в единой коллекции правил.|С помощью AppLocker можно контролировать следующие типы файлов.<br /><br />-Исполняемые файлы<br />-DLL-библиотеки<br />-Сценарии<br />-Установщики Windows<br />-Упакованные приложения и установщики (Windows Server 2012 и Windows 8)<br /><br />В AppLocker существует по отдельной коллекции правил для каждого из пяти типов файлов.|
|Специальные типы файлов|SRP поддерживает расширяемый список типов файлов, которые считаются исполняемыми. Администраторы могут добавлять расширения файлов, которые должны считаться исполняемыми.|AppLocker не поддерживает эту возможность. В настоящее время AppLocker поддерживает следующие расширения файлов.<br /><br />-Исполняемые файлы (.exe, .com)<br />-DLL-библиотеки (.ocx, .dll)<br />-Сценарии (.vbs, JS, .ps1, .cmd, .bat)<br />-Установщики Windows (MSI-файл, .mst, MSP-файлов)<br />-Установщики упакованных приложений (.appx)|
|Типы правил|SRP поддерживает четыре типа правил.<br /><br />-Hash<br />-Path<br />-Подпись<br />— Зона Интернета|AppLocker поддерживает три типа правил.<br /><br />-Hash<br />-Path<br />-Publisher|
|Изменение значения хеша|Политики SRP позволяют администраторам, чтобы предоставлять пользовательские хэш-значения.|AppLocker вычисляет значение хеша самостоятельно. Внутренне для переносимые исполняемые файлы (Exe и Dll) и установщики Windows и хэш SHA1 неструктурированного файла для остальных используется хэш SHA1 Authenticode.|
|Поддержка разных уровней безопасности|С помощью политик ограниченного использования Программ администраторы могут указать разрешения, с которыми можно запустить приложение. Таким образом, администратор может настроить правило такой Блокнот, всегда выполняется с ограниченными разрешениями и никогда не с правами администратора.<br /><br />Политики SRP в Windows Vista и более ранних версиях поддерживали несколько уровней безопасности. В Windows 7 этот список был ограничен только два уровня: Запрещенные и неограниченный (базовый пользователь переводит не разрешено).|AppLocker не поддерживает уровни безопасности.|
|Управление упакованных приложений и установщиков упакованных приложений|Невозможно|APPX — это допустимый тип файла, доступный для управления с помощью AppLocker.|
|Назначение правила для пользователя или группы пользователей|Правила политики ограниченного использования программ применяются ко всем пользователям определенного компьютера.|Правила AppLocker можно назначить для конкретного пользователя или группы пользователей.|
|Поддержка исключений из правил|SRP не поддерживает исключения из правил|Правила AppLocker может иметь исключения, которые позволяют администраторам создавать правила, например «Разрешить все, что из Windows за исключением Regedit.exe».|
|Поддержка режима аудита|SRP не поддерживает режим аудита. Единственный способ проверки политик SRP — настроить тестовую среду и провести несколько экспериментов.|AppLocker поддерживает режим аудита, что позволяет администраторам проверить действие политики в реальной рабочей среде, не влияя на работу пользователей. Получив удовлетворительный результат, можно приступать к принудительному применению политики.|
|Поддержка экспорта и импорта политик|SRP не поддерживает импорт и экспорт политик.|AppLocker поддерживает импорт и экспорт политик. Это позволяет создать политику AppLocker на образце компьютера, проверить ее, а затем экспортировать и снова импортировать в нужный объект групповых политик.|
|Принудительное применение правил|Внутри системы применение правил SRP происходит в режиме пользователя, который является менее защищенным.|На внутреннем уровне в режиме ядра, который является более безопасной, чем их применением в режиме пользователя будут применяться правила AppLocker для EXE-файлов и библиотек DLL.|

## <a name="system-requirements"></a>Системные требования
Политики ограниченного использования программ можно только настроить на и применяются к компьютерам под управлением Windows Server 2003 и по крайней мере Windows XP. Групповой политики необходим для распространения объектов групповой политики, которые содержат политики ограниченного использования программ.

## <a name="software-restriction-policies-components-and-architecture"></a>Политики ограниченного использования программ программные компоненты и архитектура
Политики ограниченного использования программ предоставляют механизм для операционной системы и приложений, совместимых с помощью политик ограниченного использования программ для ограничения выполнения программ.

На высоком уровне политики ограниченного использования программ состоят из следующих компонентов:

-   Политики ограниченного использования программ API. Интерфейсы (API) используются для создания и настройки правил, которые составляют политику ограниченного использования программ. Также существуют политики ограниченного использования программ API-интерфейсы для запросов, обработки и применение политик ограниченного использования программ.

-   Средство управления для политик ограниченного использования программного обеспечения. Он состоит из **политик ограниченного использования программ** расширение **редактор объектов групповой политики** оснастку, какие Администраторы использовать для создания и изменения политик ограниченного использования программ.

-   Набор интерфейсов API операционных систем и приложений, которые вызывают API-интерфейсы для предоставления принудительное применение политик ограниченного использования программ во время выполнения для политик ограниченного использования программ.

-   Active Directory и групповой политики. Политики ограниченного использования программ зависят от инфраструктуры групповой политики для распространения политик ограниченного использования программ из Active Directory для соответствующих клиентов, а также для определения областей и фильтрации применение этих политик в соответствующий конечных компьютеров.

-   Authenticode и WinVerify доверять интерфейсов API, которые используются для обработки подписанные исполняемые файлы.

-   Средство просмотра событий. Функции, используемые события журнала политик ограниченного использования программного обеспечения в журналах событий.

-   Результирующий наборе политик (RSoP), который может помочь при диагностике эффективную политику, которая будет применяться к клиенту.

Дополнительные сведения об архитектуре политик ограниченного использования Программ, политик ограниченного использования Программ управляет правилами, процессы и взаимодействия, см. в разделе [принципы работы политик ограниченного использования программного обеспечения](https://technet.microsoft.com/library/cc786941(v=WS.10).aspx) в технической библиотеке Windows Server 2003.

## <a name="BKMK_Best_Practices"></a>Советы и рекомендации

### <a name="do-not-modify-the-default-domain-policy"></a>Не изменяйте политики домена по умолчанию.

-   Если вы не изменяете политику домена по умолчанию и всегда иметь возможность повторного применения политики домена по умолчанию, если что-то пойдет не так, с настраиваемой доменной политикой.

### <a name="create-a-separate-group-policy-object-for-software-restriction-policies"></a>Создайте отдельный объект групповой политики для политик ограниченного использования программ.

-   При создании отдельных групповой политики объект (GPO) для политик ограниченного использования программ, политик ограниченного использования программ в чрезвычайной можно отключить без отключения остальная часть политике домена.

### <a name="if-you-experience-problems-with-applied-policy-settings-restart-windows-in-safe-mode"></a>При возникновении проблем с применением параметров политики, перезапустите Windows в безопасном режиме.

-   Политики ограниченного использования программ не применяются при запуске Windows в безопасном режиме. Если вы случайно заблокировать рабочей станции с помощью политик ограниченного использования программ, перезагрузите компьютер в безопасном режиме, войдите в систему как локальный администратор, изменить политику, запустить **gpupdate**, перезагрузите компьютер и затем вход в обычном режиме.

### <a name="use-caution-when-defining-a-default-setting-of-disallowed"></a>Будьте внимательны при определении параметров по умолчанию не разрешено.

-   При определении значение по умолчанию **не разрешено**, все программное обеспечение не допускается, за исключением программного обеспечения, которому был явно разрешен. Любой файл, который вы хотите открыть должна включать правила политики ограничения программного обеспечения, позволяющий его, чтобы открыть.

-   Для защиты администраторов блокировали себя из системы, если уровень безопасности по умолчанию имеет значение **не разрешено**, четыре правила для пути в реестре создаются автоматически. Можно удалить или изменить эти правила для пути реестра; Тем не менее это не рекомендуется.

### <a name="for-best-security-use-access-control-lists-in-conjunction-with-software-restriction-policies"></a>Для максимальной безопасности используйте списки управления доступом в сочетании с помощью политик ограниченного использования программ.

-   Пользователи могут попытаться обойти политики ограниченного использования программ, переименовании или перемещении запрещенных файлов или перезаписывания разрешенных файлов. Таким образом рекомендуется использовать списки управления доступом (ACL) для отказа пользователям в доступе, необходимые для выполнения этих задач.

### <a name="test-new-policy-settings-thoroughly-in-test-environments-before-applying-the-policy-settings-to-your-domain"></a>Тщательно протестируйте новые параметры политики в тестовой среде перед применением параметров политики с доменом.

-   Новые параметры политики могут действовать иначе, чем ожидалось. Проверка уменьшает вероятность столкнуться с проблемами при развертывании параметров политики по сети.

-   Можно настроить тестовый домен, отдельно от домена вашей организации, в котором для проверки новых параметров политики. Параметры политики можно проверить путем создания тестового объекта групповой Политики и связывания его тестовом подразделении. После тщательной проверки параметров политики с помощью тестовых пользователей, можно связать тестового объекта групповой Политики с доменом.

-   Не устанавливайте программы и файлы для **не разрешено** без предварительного тестирования, чтобы увидеть влияние, которое может быть. Ограничения на некоторые файлы могут серьезно повлиять на работу компьютера или сети.

-   Неправильно введенные сведения или опечатки может привести параметр политики, который не выполняет должным образом. Проверка новых параметров политики перед их применением Чтобы избежать непредвиденных результатов.

### <a name="filter-user-policy-settings-based-on-membership-in-security-groups"></a>Отфильтруйте параметры политики пользователя на основе членства в группах безопасности.

-   Можно указать пользователей или групп, для которых требуется отключить параметр политики для применения, сняв **применить групповую политику** и **чтения** флажки, которые находятся на **безопасности**вкладка диалогового окна свойств для объекта групповой Политики.

-   При отклонении разрешение на чтение, параметр политики не загружается на компьютере. Таким образом меньше пропускной способности используется загрузки необходимых параметров политики, который позволяет работать быстрее сети. Чтобы запретить разрешение на чтение, выберите **Deny** для **чтения** "флажок", которая находится на **безопасности** вкладке диалогового окна свойств для объекта групповой Политики.

### <a name="do-not-link-to-a-gpo-in-another-domain-or-site"></a>Не создавать связь объекта групповой Политики в другом домене или сайта.

-   Связывание объекта групповой политики в другом домене или сайта может привести к снижению производительности.

## <a name="additional-resources"></a>Дополнительные ресурсы

|Тип содержимого|Ссылок|
|--------|-------|
|**Планирование**|[Технический справочник по политикам ограниченного использования программ](https://technet.microsoft.com/library/cc728085(v=WS.10).aspx)|
|**Операции**|[Администрирование политик ограниченного использования программ](administer-software-restriction-policies.md)|
|**Устранение неполадок**|[Политики ограниченного использования программ, устранение неполадок (2003)](https://technet.microsoft.com/library/cc737011(v=WS.10).aspx)|
|**безопасность**|[Угрозы и противодействия для ограниченного использования программ политик (2008)](https://technet.microsoft.com/library/dd349795(v=WS.10).aspx)<br /><br />[Угрозы и противодействия для ограниченного использования программ политик (2008 R2)](https://technet.microsoft.com/library/hh125926(v=WS.10).aspx)|
|**Средства и параметры**|[Политики ограниченного использования программ средства и параметры (2003)](https://technet.microsoft.com/library/cc782454(v=WS.10).aspx)|
|**Ресурсы сообщества**|[Блокировка приложения с помощью политик ограниченного использования программ](https://technet.microsoft.com/magazine/2008.06.srp.aspx?pr=blog)|


