---
title: "Восстановление леса AD — пулы RID вызова"
description: 
author: billmath
ms.author: billmath
manager: femila
ms.date: 07/07/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.assetid: c37bc129-a5e0-4219-9ba7-b4cf3a9fc9a4
ms.technology: identity-adfs
ms.openlocfilehash: e6b5dc8b9c0b701fe2cd1b0c88f7edc22802c393
ms.sourcegitcommit: db290fa07e9d50686667bfba3969e20377548504
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2017
---
# <a name="ad-forest-recovery---raising-the-value-of-available-rid-pools"></a>Восстановление леса AD — вызов значение доступные пулы RID 

>Область применения: Windows Server 2016, Windows Server 2012 и 2012 R2, Windows Server 2008 и 2008 R2
 
 Используйте следующую процедуру, чтобы повысить значение из относительный идентификатор (RID) пулов выделяет хозяином операций RID после восстановления этого контроллера домена. Изменение значения доступные пулы RID, гарантирует, что нет контроллера домена выделяет RID для субъекта безопасности, который был создан после резервного копирования, который использовался для восстановления домена.  
 
## <a name="about-active-directory-rid-pools-and-ridavailablepool"></a>О пулы RID Active Directory и rIDAvailablePool
 Каждый домен имеет объект **CN = RID Manager$, CN = System, DC**=<*имя_домена*>. Этот объект имеет атрибут с именем **rIDAvailablePool**. Это значение атрибута поддерживает глобального пространства RID для всего домена. Значением является длинного целого с верхней и нижней части. Верхняя часть определяет количество субъектов безопасности, которые могут быть распределены для каждого домена (0x3FFFFFFF или просто более 1 миллиарда). Нижняя часть — количество идентификаторов RID, которые были выделены, в домене.  
  
> [!NOTE]
>  В Windows Server 2016 и 2012 количество субъектов безопасности, которые могут быть распределены увеличивается до просто более 2 миллиардов. Дополнительные сведения см. в разделе [управление RID выдачи](https://technet.microsoft.com/library/jj574229.aspx).  
  
-   Пример значения: 4611686014132422708  
  
-   Низкий часть: 2100 (начало следующего пула RID выделяются)  
  
-   Верхняя часть: 1073741823 (общее количество идентификаторов RID, которые могут быть созданы в домене)  
  
 При увеличении значения длинного целого, увеличить значение Низкий части. Например при добавлении более 100 000 значение пример 4611686014132422708 суммы 4611686014132522708 новую низкой часть — 102100. Это означает, что далее пул относительных ИДЕНТИФИКАТОРОВ, выделяемого хозяином RID, будет начинаться с 102100 вместо 2100.  
  
### <a name="to-raise-the-value-of-available-rid-pools-using-adsiedit-and-the-calculator--"></a>Повышение значение доступные пулы RID, с помощью adsiedit "и" Калькулятор "  
1.  Откройте диспетчер сервера, щелкните **средства** и нажмите кнопку **ADSI Edit**.    
2.  Щелкните правой кнопкой мыши выберите **подключиться к** и подключения выполните контекста именования по умолчанию и нажмите кнопку **ОК**.
![Редактирование ADSI](media/AD-Forest-Recovery-Raise-RID-Pool/adsi1.png) 
3. Перейдите по следующему пути различающееся имя: **CN = RID Manager$, CN = System, DC =<domain name>**.
![Редактирование ADSI](media/AD-Forest-Recovery-Raise-RID-Pool/adsi2.png) 
3.  Щелкните правой кнопкой мыши и выберите свойства CN = RID Manager$.  
4.  Выберите атрибут **rIDAvailablePool**, нажмите кнопку **изменить**и скопируйте больших целочисленное значение в буфер обмена.
![Редактирование ADSI](media/AD-Forest-Recovery-Raise-RID-Pool/adsi3.png)  
5.  Запустить калькулятор и от **представление** меню выберите **инженерном режиме**.  6.  Добавьте 100 000 текущее значение.  
![Редактирование ADSI](media/AD-Forest-Recovery-Raise-RID-Pool/adsi4.png) 
7.  С помощью клавиш ctrl-c или **копирования** из **изменить** меню скопировать значение в буфер обмена.  
8.  В диалоговом окне Правка adsiedit вставьте это новое значение. 
![Редактирование ADSI](media/AD-Forest-Recovery-Raise-RID-Pool/adsi5.png) 
9. Нажмите кнопку **ОК** в диалоговом окне и **применить** на странице свойств для обновления **rIDAvailablePool** атрибута.  
  
### <a name="to-raise-the-value-of-available-rid-pools-using-ldp"></a>Чтобы повысить значение доступные пулы RID, с помощью программы LDP  
  
1.  В командной строке введите следующую команду и нажмите клавишу ВВОД:  
  
     **LDP**  
  
2.  Нажмите кнопку **подключения**, нажмите кнопку **Connect**, введите имя диспетчера RID и нажмите кнопку **ОК**.  
![LDP](media/AD-Forest-Recovery-Raise-RID-Pool/ldp1.png)
3.  Нажмите кнопку **подключения**, нажмите кнопку **привязки**выберите **привязать с учетными данными** и введите учетные данные администратора и нажмите кнопку **ОК**.  
![LDP](media/AD-Forest-Recovery-Raise-RID-Pool/ldp2.png)
4.  Нажмите кнопку **представление**, нажмите кнопку **дерева** и введите следующий путь различающееся имя: CN = RID Manager$, CN = System, DC =*имя домена*  
![LDP](media/AD-Forest-Recovery-Raise-RID-Pool/ldp3.png)
5.  Нажмите кнопку **Обзор**, а затем нажмите кнопку **изменить**.  
6.  Добавление текущей 100 000 **rIDAvailablePool** значение, а затем введите сумму в **значения**.  
7.  В **Dn**, тип `cn=RID Manager$,cn=System,dc=` *< имя домена >*.  
8.  В **изменить атрибут записи**, тип `rIDAvailablePool`.  
9. Выберите **заменить** операции и нажмите кнопку **ввод**. </br>
![LDP](media/AD-Forest-Recovery-Raise-RID-Pool/ldp4.png) 
10. Нажмите кнопку **запуска** для выполнения операции.  Нажмите кнопку **закрыть**.
11. Чтобы проверить изменения, нажмите кнопку **представление**, нажмите кнопку **дерева**и введите следующий путь различающееся имя: CN = RID Manager$, CN = System, DC =*имя домена*.    Проверьте **rIDAvailablePool** атрибута.  
![LDP](media/AD-Forest-Recovery-Raise-RID-Pool/ldp5.png)

## <a name="next-steps"></a>Дальнейшие действия

- [Руководство по восстановлению леса AD](AD-Forest-Recovery-Guide.md)
- [Восстановление леса AD — процедуры](AD-Forest-Recovery-Procedures.md)
 
