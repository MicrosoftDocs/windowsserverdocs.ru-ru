---
ms.assetid: d7a4d2e1-217d-4ffc-93f0-817149bd9e7f
title: Способы решения проблем
description: ''
author: MicrosoftGuyJFlo
ms.author: joflore
manager: mtillman
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adds
ms.openlocfilehash: 916bffd4f83e5c72816035542772342010e1a67c
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59874485"
---
# <a name="avenues-to-compromise"></a>Способы решения проблем

>Область применения. Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

*Закон Number Seven: Хорошо администрируемых является наиболее безопасной сети.* - [10 непреложных законов безопасности администрирования](https://technet.microsoft.com/library/cc722488.aspx)  
  
В организациях, имевших компрометации катастрофических событий оценки обычно отражает, организации имеют ограниченный видимость фактическим состоянием ИТ-инфраструктур, который может значительно отличаться от их «описанное» состояния. Эти различия создавал уязвимости, которые предоставляют среду, чтобы поставить под угрозу, часто с небольшой риск обнаружения пока компрометации изменилась в точку, с которой злоумышленники эффективно «владел» среды.  
  
Подробные оценки конфигурации AD DS эти организации, инфраструктур открытого ключа (PKI), серверы, рабочие станции, приложений, списки управления доступом (ACL) и другими технологиями обнаружить неверные настройки и уязвимостей, если Исправлено, мог бы предотвратить возникновение первоначальной компрометации.  
  
Документация по ИТ, процессов и процедур время анализа определяются новые пропуски в методов администрирования, которые были оптимизированный за счет использования злоумышленникам получить права, которые были использованы злоумышленнику полностью в лесу Active Directory в конечном счете уязвимости. Полностью скомпрометированных леса — один, в котором злоумышленники нарушить безопасность не только отдельные системы, приложений или учетные записи пользователей, но передать свой доступ к получить уровень привилегий, в котором их можно изменить или уничтожить все аспекты леса. После установки Active Directory была скомпрометирована для что степень, злоумышленники могут вносить изменения, которые позволяют им постоянно присутствуют во всей среде, или что еще хуже, уничтожение каталог и систем и учетных записей, которыми она управляет.  
  
Несмотря на то, что ряд часто уязвимость в соответствии с описанием последующих не атаки, направленные на Active Directory, это позволяет злоумышленникам получать установить точку опоры в среде, которая может использоваться для запуска (также называемый привилегий эскалации привилегий Высота) атак и чтобы со временем целевых и поставить под угрозу AD DS.  
  
В этом разделе этого документа посвящена описывающий механизмы, которые обычно злоумышленники используют для доступа к инфраструктуре и в конечном счете для инициирования атак повышения прав доступа. Также в следующих разделах:  
  
-   [Снизить риск атак Active Directory](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md) подробные рекомендации по безопасной конфигурации Active Directory.  
  
-   [Мониторинг Active Directory для признаки компрометации](../../../ad-ds/plan/security-best-practices/Monitoring-Active-Directory-for-Signs-of-Compromise.md) рекомендации для обнаружения нарушений безопасности  
  
-   [Планирование при компрометации](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Planning-for-Compromise.md) высокоуровневые подходы для подготовки атаки инфраструктуры из ИТ и бизнес-процессам  
  
> [!NOTE]  
> Несмотря на то, что в этом документе рассматриваются в системе Active Directory и Windows являются частью домена AD DS, злоумышленники редко сосредоточиться исключительно на Active Directory и Windows. В средах, состоящих из операционных систем, каталогов, приложений и хранилищ данных довольно часто для поиска, что скомпрометированы и систем, отличных от Windows. Это особенно верно в случае, если системы предоставляют «моста» между Windows и среды отличных от Windows, такие как файловые серверы, которые обращаются клиенты Windows и UNIX или Linux, каталоги, которые предоставляют службы проверки подлинности для нескольких операционных систем, или metadirectories, синхронизировать данные в различных каталогах.  
>   
> AD DS нацелено из-за централизованного доступа и конфигурации возможностей управления он предоставляет не только к системам Windows, но и для других клиентов. Любой другой каталог или приложение, которое обеспечивает проверку подлинности и конфигурации службы управления могут и будут целевыми для атак. Несмотря на то, что этот документ предназначен для защиты, можно уменьшить вероятность компрометации установки Active Directory, каждой организации, включающего компьютеры отличных от Windows, каталогов, приложений или данных репозиториев следует также подготовиться к атаки на этих системах.  
  
## <a name="initial-breach-targets"></a>Целевые объекты начальной нарушения  
Никто не намеренно строит ИТ-инфраструктуры, предоставляет организации злоумышленнику. При создании леса Active Directory это обычно первоначальном состоянии и текущих. Как передать лет и приобретаются новых операционных систем и приложений, они добавляются к лесу. Как все преимущества, предоставляемые Active Directory распознаются, все больше и больше содержимое добавляется в каталог, больше пользователей и интегрировать свои компьютеры и приложения с AD DS и домены будут обновлены для поддержки новых функциональных возможностей, предлагаемых наиболее текущие версии операционной системы Windows. Что происходит со временем, то, что даже по мере добавления новой инфраструктуры других частей инфраструктуры может не обеспечиваться также, как они изначально были, систем и приложений работают правильно и поэтому не получают внимания, а также организаций начать забыть, что они не устранили их устаревшей инфраструктуры. Зависимости от того, мы видим в оценке скомпрометированных инфраструктур, более старые, более крупными и сложными среде, тем выше вероятность: существуют большим количеством экземпляров данной часто уязвимость.  
  
Независимо от того, мотивация злоумышленника большинство нарушений безопасности сведения начните с компрометации одного или двух систем одновременно. Эти события начальной или точки входа в сеть, часто используют уязвимости, которые были исправлены может, но не были. [Нарушения исследования 2012 данных отчета (DBIR)](http://www.verizonbusiness.com/resources/reports/rp_data-breach-investigations-report-2012_en_xg.pdf), который используется годовой пример использования, созданные группы РИСКАМИ Verizon вместе с количеством агентства национальной безопасности и других компаний, состояния «не были 96 процент атак сложности», и что «97 процентов брешей в системе были рода через простой или промежуточных элементов управления.» Эти результаты могут быть напрямую связано часто уязвимость, следующие за.  
  
### <a name="gaps-in-antivirus-and-antimalware-deployments"></a>Пропуски в антивирусные и развертываний для защиты от вредоносных программ  
*Закон цифра восемь: Устаревшие средства только немногим лучше сканер не вообще.* - [10 непреложных законов безопасности (версия 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
Антивирусные и антивредоносные программы развертываний организации часто анализе большинство рабочих станций, настроен с антивирусные и антивредоносные программы, в которой включено и текущей среды. Исключения обычно рабочих станций, которые редко подключаются к корпоративной среды или сотрудник устройств, для какой антивирусные и антивредоносные программы может быть трудно развертывания, настройки и обновления программного обеспечения.  
  
Совокупность сервера, тем не менее, как правило, следует убедиться, что меньше постоянно защищено во многих скомпрометированных средах. В [исследовании нарушения 2012](http://www.verizonbusiness.com/resources/reports/rp_data-breach-investigations-report-2012_en_xg.pdf), 94 процента всех данных представляет угрозу связанных серверов, который представляет собой прирост 18% относительно предыдущего года, и 69 процента атак включены вредоносных программ. В операции заполнения сервера не нередко встречаются этого антивирусные и антивредоносные программы установки непоследовательно настроен, устарел, неправильно настроена или даже отключить. В некоторых случаях антивирусные и антивредоносные программы отключил административного персонала, но в других случаях злоумышленники отключите соответствующее программное обеспечение после нарушения сервером через другие уязвимости. При отключении антивирусные и антивредоносные программы злоумышленники затем запланируйте вредоносных программ на сервере и сосредоточиться на распространение компрометации по заполнению сервера.  
  
Важно не только чтобы убедиться, что ваши системы защищены с помощью защиты от вредоносных программ актуальный, но также для наблюдения за системами для отключения или удаления антивирусные и антивредоносные программы и для автоматического перезапуска защиты, если это отключить вручную. Несмотря на то, что не антивирусные и антивредоносные программы может гарантировать предотвращения и обнаружения всех заражений, правильно настроена и развернута реализации антивирусные и антивредоносные программы можно уменьшить вероятность заражения.  
  
### <a name="incomplete-patching"></a>Незавершенные установки исправлений  
*Закон цифра три: Если вы не соответствовала исправления безопасности, сети будет вашим для длительных.* - [10 непреложных законов безопасности администрирования](https://technet.microsoft.com/library/cc722488.aspx)  
  
Корпорация Майкрософт выпускает бюллетени по безопасности во второй вторник каждого месяца, несмотря на то, что в редких случаях выпуска обновлений безопасности ежемесячных обновлений для системы безопасности (они также называются «out of band» обновлений) при определяется уязвимости, которые порождали срочные риск для клиентских систем. Ли малого бизнеса настраивает его компьютеров Windows, использование Центра обновления Windows для управления системы и исправления приложения или крупная организация использует программное обеспечение для управления таких как System Center Configuration Manager (SCCM) для развертывания исправлений в соответствии с подробные, иерархические планов, многие клиенты своевременно относительно patch свою инфраструктуру Windows.  
  
Однако несколько инфраструктур включают только компьютеры Windows и приложений Майкрософт, и в скомпрометированных средах, часто обнаруживаются, что стратегии управления исправлениями организации содержит пробелы. Несогласованно в целях недопущения систем Windows в этих средах. Операционные системы Windows не установлено исправление нерегулярно, если вообще. Коммерческие готовые приложения (ГОТОВЫХ) содержать уязвимости, для которых существует исправления, но не были применены. Сетевые устройства часто настроены с помощью учетных данных по умолчанию фабрики и нет встроенного по обновляет лет после их установки. Часто хранятся приложений и операционных систем, которые поддерживаются поставщиками. они больше не работает, несмотря на то, что их можно исправить больше не от уязвимостей. Этими исходными системами — другой потенциальные точки входа для злоумышленников.  
  
Ориентация на потребителя ИТ имеет введено дополнительные сложности в этот сотрудник принадлежит устройства используются для доступа к корпоративным данным, принадлежащий и организация не располагаете полным контролем, не исправления и конфигурации личных устройств сотрудников. Оборудования корпоративного класса обычно поставляется с параметрами конфигурации корпоративного уровня и возможности управления, за счет меньше выбором в отдельные настройки и выбора устройств. Ориентированные на Employee оборудование предлагает широкий спектр производители, поставщики, функции безопасности оборудования, функции безопасности программного обеспечения, возможности управления и параметры конфигурации, а множество корпоративных функций может отсутствовать вообще.  
  
#### <a name="patch-and-vulnerability-management-software"></a>Установка исправлений и программного обеспечения управление уязвимость  
Если это система управления действующие исправлениями на месте для систем Windows и приложений Майкрософт, часть атак, создание Неисправленные уязвимости будет устранена. Тем не менее если только в системах, отличных от Windows, приложения сторонних производителей, сетевой инфраструктуры и устройства сотрудников также в актуальном состоянии на исправления и другие исправления, инфраструктура остается уязвимой. В некоторых случаях поставщик приложения может предложить возможности автоматического обновления; в других случаях может возникнуть необходимость в разработать подход для регулярного получения и применения исправления и другие исправления.
  
### <a name="outdated-applications-and-operating-systems"></a>Устаревших приложений и операционных систем  
*«Не ожидать более шести лет назад ОС для защиты от атак на шесть месяцев назад.»* — Сведения о безопасности с 10-летний опыт работы обеспечение безопасности корпоративных установок  
  
Несмотря на то что «получить текущий, последние новости» может показаться маркетинга фразы, устаревших операционных систем и приложений создать риск во многих организациях ИТ-инфраструктур. Операционной системой, которая была выпущена в 2003 может по-прежнему поддерживается поставщиком и в состав обновления для устранения уязвимостей системы, но эта операционная система не может содержать функции безопасности, добавленные в более новых версиях операционной системы. Устаревшие системы, которые можно даже запросить ослабления определенные конфигурации безопасности AD DS для поддержки меньше возможностей этих компьютеров.  
  
Приложений, написанных использовать устаревшие протоколы аутентификации, поставщики, которые больше не поддерживаются приложения обычно не может быть retooled для поддержки более надежные механизмы проверки подлинности. Тем не менее домен Active Directory организации по-прежнему можно настроить для хранения хеш-значения LAN Manager или обратимого шифрования паролей для поддержки таких приложений. Приложения, написанные перед появлением более новых операционных системах может работать хорошо или вообще в существующих операционных системах, требуя организациям поддерживать более старые и более старые системы и в некоторых случаях, полностью неподдерживаемого оборудования и программного обеспечения.  
  
Даже в случаях, в которых организациям были обновлены с ними контроллеров домена до Windows Server 2012, Windows Server 2008 R2 или Windows Server 2008 он является типичным для поиска позволяет работать под управлением Windows Server 2003, Windows server заполнение значительная часть элемента 2000 server или Windows NT Server 4.0 (которая не полностью поддерживаются). Больше организации управляет время существования системы, тем более несоответствие между наборами компонентов увеличивается, и тем больше вероятность становится рабочих систем, что будет считаться неподдерживаемой. Кроме того, чем дольше хранится в лесу Active Directory, чем больше мы заметили, что устаревших систем и приложений будут отсутствовать планы обновления. Это может означать, что один компьютер под управлением одного приложения может стать причиной появления уязвимостей уровня домена или леса, так как Active Directory настроен для поддержки устаревших протоколов и механизмов проверки подлинности.  
  
Чтобы исключить устаревшие системы и приложений, следует сосредоточиться на идентификации и их каталогизации, а затем на определения, следует ли обновить или заменить приложения или узла. Несмотря на то, что может быть трудно найти заменой специализированные приложения, которых нет ни поддержки, ни путь для обновления, можно использовать концепция, называемая «creative уничтожения» для замены старых приложений с помощью нового приложения предоставляющий необходимые функциональные возможности. [Планирование при компрометации](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Planning-for-Compromise.md) описан более подробно в «Планирование для компромиссный» далее в этом документе.  
  
### <a name="misconfiguration"></a>Неправильной конфигурации  
*Закон цифра четыре: Он не выполняет, сколько пользы, чтобы установить исправления безопасности на компьютере, который никогда не был защищен с самого начала.* - [10 непреложных законов безопасности администрирования](https://technet.microsoft.com/library/cc722488.aspx)  
  
Даже в средах, в которой систем обычно хранятся текущие и устанавливает исправления часто определяются пропусков или неправильные настройки в операционную систему, приложения, работающие на компьютерах и Active Directory. Некоторые неверных настроек предоставляют только на локальном компьютере, чтобы поставить под угрозу, но после компьютер «владелец», злоумышленники обычно уделяется дальнейшему распространению неверной информации нарушения системы безопасности в других системах и со временем в Active Directory. Ниже перечислены некоторые из основных областей, в которых определяются конфигураций, которые вводят риска.  
  
#### <a name="in-active-directory"></a>В Active Directory  
Учетные записи в Active Directory, которые наиболее часто становятся целью злоумышленников, которые являются членами групп большинство-высоким уровнем привилегий, такие как члены "Администраторы" домена (DA), "Администраторы" Enterprise (EA) или встроенных групп администраторов (BA) в активном состоянии Каталог. Членство в этих группах следует сократить до наименьшее число возможных учетных записей, чтобы ограничено контактную зону этих групп. Возможно, для исключения «вечной» членства в этих привилегированных групп; то есть параметры, которые позволяют временно заполнение этих групп только в том случае, когда требуются права уровня домена и леса можно реализовать. При использовании высокопривилегированные учетные записи, они должны использоваться только на указанный, безопасные систем, таких как контроллеры домена или защищенные административные узлы. Подробные сведения о реализации, все эти конфигурации предоставляется в [значительно снизить уязвимость Active Directory](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md).  
  
Когда мы оценим членство наивысший привилегированных групп в Active Directory, мы часто найти чрезмерное членство во всех трех наиболее привилегированных групп. В некоторых случаях в организациях десятков и даже сотни учетных записей в DA групп. В других случаях организациям поместить учетные записи напрямую в встроенные группы администраторов, думая, что группа — «меньше привилегий» чем группа DAs. Нет. Мы часто обнаруживаем небольшое количество постоянных членов группы EA в корневом домене леса, несмотря на то, что EA необходимы права доступа редко и временно. Поиск учетной записи администратора повседневных ИТ пользователя во всех трех группах характерен также, несмотря на то, что это эффективно избыточных конфигурация. Как описано в разделе [значительно снизить уязвимость Active Directory](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md), является ли учетной записи является постоянной членом одной из этих групп или все из них, учетная запись может использоваться для компрометации и даже удалить среды AD DS и систем и учетные записи, управляемые им. Рекомендации по безопасной конфигурации и использование привилегированных учетных записей в Active Directory приведены в [значительно снизить уязвимость Active Directory](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md).  
  
#### <a name="on-domain-controllers"></a>На контроллерах домена  
Когда мы оценить контроллеров домена, то обнаружим, часто найти их настройку и управление им не иначе, чем рядовые серверы. Те же приложения и программы, установленные на рядовых серверах, не так, как они понадобятся на контроллерах домена, но поскольку приложения являются частью стандартной сборки иногда работают контроллеры домена. Эти приложения могут предоставить минимальный набор функциональных возможностей на контроллерах домена, но значительно увеличивает возможных направлений атак, требуя параметр конфигурации, откройте порты, создавать учетные записи служб с высоким уровнем привилегий или предоставить доступ к системе пользователями, не должны подключаться к контроллеру домена для целей, отличных от проверки подлинности и применение групповой политики. В некоторых нарушений злоумышленники использовали средства, которые уже были установлены на контроллерах домена не только для получения доступа к контроллерам домена, но для изменения или повреждения базы данных AD DS.  
  
Когда мы извлечь параметры конфигурации Internet Explorer на контроллерах домена, то обнаружим, что пользователям выполнить вход с учетными записями, которые имеют высокий уровень привилегий в Active Directory и использовали учетные записи для доступа к Интернету и интрасети из домена контроллеры. В некоторых случаях учетные записи настроены параметры Internet Explorer на контроллерах домена, чтобы разрешить скачивание из Интернета, содержимого и бесплатные служебные программы скачаны из веб-сайты и установить на контроллерах домена. Конфигурация усиленной безопасности Internet Explorer включена для пользователей и администраторов по умолчанию, но мы часто наблюдают, то есть была отключена для администраторов. Когда учетная запись с широким подключена к Интернету и загружает содержимое на любом компьютере, этот компьютер помещается серьезной угрозой. Если компьютер является контроллером домена, весь процесс установки AD DS поставить под угрозу.  
  
##### <a name="protecting-domain-controllers"></a>Защита контроллеров домена  
Контроллеры домена нужно считаются важнейшими компонентами инфраструктуры, защищенным компиляторам и настроить более строго, чем файлов, печати и серверов приложений. Контроллеры домена не следует запускать программное обеспечение, которое не является обязательным для функции контроллера домена или не защиты контроллера домена от атак. Контроллеры домена не должен быть разрешен доступ к Интернету, и следует настраивать параметры безопасности и принудительно объекты групповой политики (GPO). Подробные рекомендации для безопасной установки, настройки и управления контроллерами домена, приведены в [защита контроллеры домена от атак](../../../ad-ds/plan/security-best-practices/Securing-Domain-Controllers-Against-Attack.md).  
  
#### <a name="within-the-operating-system"></a>В операционной системе  
*Закон часть вторая: Если злоумышленник изменил операционную систему на компьютере, он больше не ваш компьютер.* - [10 непреложных законов безопасности (версия 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
Несмотря на то, что некоторые организации создать базовых конфигураций для серверов различных типов и разрешить ограниченной настройки операционной системы после установки, анализ скомпрометированных средах часто обнаруживаются большое количество серверов, развернутых в нерегламентированные манере и настроить вручную и независимо друг от друга. Конфигурации между двумя серверами, выполняет ту же функцию может быть совершенно различны, там, где ни сервер настроен безопасно. И наоборот базовые показатели конфигурации сервера можно согласованно принудительно, но также постоянно неправильно; то есть серверы настроены таким образом, создает ту же уязвимость на всех серверах данного типа. Неправильной настройки включает в себя рекомендации, такие как отключение функций безопасности, предоставление избыточные права и разрешения для учетных записей (особенно учетных записей служб), использование идентичных локальные учетные данные в системах и установка разрешений неавторизованных приложений и служебных программ, которые создают собственные уязвимости.  
  
##### <a name="disabling-security-features"></a>Отключение функции безопасности  
Иногда организациям отключения брандмауэра Windows с повышенной безопасности (WFAS) убеждении, что WFAS сложная настройка или требует трудоемких конфигурации. Тем не менее начиная с версии Windows Server 2008, при любой роли или компонента устанавливается на сервере, он настроен по умолчанию с минимальным числом привилегий, необходимых для роли или компонента, функции и брандмауэр Windows настраивается автоматически для поддержки роли или функции. Отключение WFAS (и не используется другой брандмауэр, размещенное на его месте) организации повышает вероятность угроз всю среду Windows. Межсетевые экраны периметра предоставляют некоторую защиту от атак, которые непосредственно указывают на среду из Интернета, но они не защищает от атак, использующих других видов атак, таких как [скрытой загрузки](https://www.microsoft.com/security/sir/glossary/drive-by-download-sites.aspx) атаки, или атаки, исходящие из других скомпрометированных систем в интрасети.  
  
Параметры пользователя Account Control (UAC) иногда отключены на серверах, так как административного персонала найти значительные указаниям. Несмотря на то что [статье службы поддержки Майкрософт 2526083](https://support.microsoft.com/kb/2526083) описаны сценарии, в которых могут быть недоступными контроля учетных Записей в Windows Server, выполняется server core installation (где контроль учетных Записей отключен по умолчанию) не следует отключать контроль учетных Записей на серверах без тщательного анализа и исследования.  
  
В других случаях настройки параметров сервера к менее безопасным значения так, как организации применение параметров конфигурации устаревшие сервера для новых операционных систем, такие как применение базовых планов для Windows Server 2003 на компьютерах под управлением Windows Server 2012, Windows Server 2008 R2 или Windows Server 2008, не изменяя базовые показатели в соответствии с изменениями в операционной системе. Вместо выполнения старого сервера шаблонов для новых операционных систем, при развертывании новой операционной системы, просмотрите изменения системы безопасности и параметры конфигурации, убедитесь, что параметры реализации, применимо, подходящей для новой операционной системы.  
  
##### <a name="granting-excessive-privilege"></a>Предоставление чрезмерное привилегий  
В практически в каждой среде, которую мы оценки чрезмерное привилегия предоставляется для локальных и доменных учетных записей в системах Windows. Пользователям предоставляются права локального администратора на своих рабочих станциях, рядовые серверы запуска служб, которые должны быть настроены права помимо какие возможности нужны для работы, и локальные группы администраторов сервера заполнения содержать десятки и даже сотни локальные и доменные учетные записи. Компрометация только один привилегированной учетной записи на компьютере, позволяющая злоумышленнику пройти поставить под угрозу учетные записи каждому пользователю и служба, которая входит в систему на компьютере и с harvest и используйте учетные данные для распространения нарушения системы безопасности с другими системами.  
  
Несмотря на то, что pass--hash (PTH) и других атак кражи учетных данных используются повсеместно, поскольку имеется свободно доступные средства, которые вы можете легко и можно легко извлечь учетные данные других привилегированных учетных записей, когда злоумышленник получил администратора — или системного уровня доступ к компьютеру. Даже без инструментарий, позволяющий сбор учетных данных из сеансов входа в систему, злоумышленник с привилегированным доступом к компьютеру можно легко установить средства регистрации нажатия клавиш, включающие нажатия клавиш, снимки экрана и содержимое буфера обмена. Злоумышленник с привилегированным доступом к компьютеру можно отключить антивирусное программное обеспечение, установите пакеты программ rootkit, изменять защищенные файлы или устанавливать вредоносные программы на компьютере, который автоматизирует атак или превращает сервер в [скрытой загрузки](https://www.microsoft.com/security/sir/glossary/drive-by-download-sites.aspx) узла.  
  
Тактики, применяемые для расширения нарушение безопасности за пределы одного компьютера меняется, но распространение компрометации лежат приобретения высоким уровнем доступа для дополнительных систем. За счет сокращения числа учетных записей с привилегированным доступом к любой системе, можно снизить вероятность атак не только с этого компьютера, но вероятность того, что злоумышленник, сбор ценные учетные данные с компьютера.  
  
##### <a name="standardizing-local-administrator-credentials"></a>Стандартизация учетные данные локального администратора  
Существует уже давно спор среди специалистов по безопасности, можно ли значение в переименование локальные учетные записи администратора на компьютерах Windows. Фактически о локальных учетных записей администратора важно ли они настроены с тем же именем пользователя и пароль на нескольких компьютерах.  
  
Если то же значение именем учетной записи локального администратора на серверах и пароля, назначенные учетной записи также можно настроить то же значение, злоумышленники можно извлечь учетные данные учетной записи на одном компьютере, на какие доступ администратора или системного уровня После получения. Злоумышленник имеет изначально компрометации учетной записи администратора; они должны только компрометации учетной записи пользователя, который является членом локальной группы администраторов или учетной записи службы, который настроен для запуска от имени LocalSystem или с правами администратора. Злоумышленник может затем извлечь учетные данные для учетной записи администратора и воспроизвести эти учетные данные в систему на другие компьютеры в сети.  
  
До тех пор, пока другой компьютер имеет локальную учетную запись с тем же именем пользователя и пароль (или хэш пароля) как учетные данные представленные, попытка входа в систему успешно, и злоумышленник получает привилегированный доступ на целевой компьютер. В текущих версиях Windows, является встроенной учетной записи администратора [отключены по умолчанию](https://technet.microsoft.com/library/cc753450.aspx), но в устаревших операционных систем, учетная запись включена по умолчанию.  
  
> [!NOTE]  
> В некоторых организациях намеренно настроили локальные учетные записи администратора следует включить в убеждении, что это обеспечивает «свойства», в случае, если все другие привилегированные учетные записи заблокированы системы. Тем не менее даже в том случае, если локальная учетная запись администратора отключена, и нет других доступных учетных записей, которые можно включить учетную запись или войти в систему с правами администратора, система может загружаться в безопасном режиме и встроенной учетной записи локального администратора Учетная запись может быть включено заново, как описано в разделе [статье службы поддержки Майкрософт 814777](https://support.microsoft.com/kb/814777). Кроме того Если система по-прежнему успешно применяет объекты групповой политики, объект групповой Политики можно изменить, чтобы повторно включить учетную запись администратора (временно) или группы с ограниченным доступом можно настроить таким образом, чтобы добавить учетную запись на основе домена в локальную группу администраторов. Действия по восстановлению могут быть выполнены и можно снова отключить учетную запись администратора. Для эффективного предотвращения бокового смещения нарушений безопасности, который использует встроенные локальные учетные данные администратора, уникальные имена и пароли должны быть настроены для локальных учетных записей администратора. Чтобы развернуть уникальные пароли локальных учетных записей администратора, через объект групповой Политики, см. в разделе [решение для управления встроенной учетной записи администратора и пароля через объект групповой Политики](https://technet.microsoft.com/mt227395.aspx) на сайте technet.  
  
##### <a name="permitting-installation-of-unauthorized-applications"></a>Установка неавторизованных приложений в соответствии с правами  
*Закон часть первая: Если злоумышленник убедил вас запустить его программу на компьютере, он больше не только на компьютере.* - [10 непреложных законов безопасности (версия 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
Ли организация развертывает согласованные базовых показателей конфигурации между серверами, установки приложений, которые не являются частью определенной роли сервера не должен быть разрешен. Позволяя устанавливать программное обеспечение, не является частью функциональности указанного сервера, серверы имеют доступ к непредумышленного или злонамеренного установки программного обеспечения, которое увеличивает контактную зону для атаки сервера и вводит уязвимости приложений приводит к стабильность системы.  
  
#### <a name="applications"></a>Приложения  
Как было описано ранее, приложения часто установлены и настроены на использование учетных записей, которые предоставляется более высоким уровнем привилегий, чем оно действительно требуется. В некоторых случаях в документации приложения указывает, что учетные записи служб должны быть членами локальной группы администраторов сервера или должен быть настроен для работы в контексте учетной записи LocalSystem. Часто это не так, как приложение требует этих прав, но так, как определить, какие права и разрешения необходимость учетные записи службы приложения требует затрат на дополнительное время и усилия. Если приложение не устанавливается с минимальными правами доступа, необходимые для приложения и его настроенные компоненты функционировать, система уязвима для атак с использованием прав приложения без любой атаки самой операционной системы.  
  
### <a name="lack-of-secure-application-development-practices"></a>Отсутствие по разработке безопасных приложений  
Инфраструктуры, необходимой для поддержки рабочих нагрузок. Там, где эти рабочие нагрузки реализованы в пользовательских приложениях, крайне важно убедиться, что приложения разрабатываются с использованием безопасного рекомендации. Анализ первопричины инцидентов уровня предприятия часто раскрывает, что первоначальной компрометации, то это негативно влияет через пользовательские приложения, особенно тех, которые Интернет для Интернета. Большая часть этих компромиссов, выполняются с помощью компрометации хорошо известных атак путем внедрения кода SQL (обнаружение) с использованием и атаки межузловых сценариев (XSS).  
  
Внедрение кода SQL — уязвимость приложения, который позволяет пользовательских входных данных изменить инструкцию SQL, который передается в базу данных для выполнения. Эти входные данные могут быть предоставлены через поле в приложение, параметра (например, строка запроса или файл cookie) или другие методы. Результат этого введения является совершенно иные, чем разработчиком инструкцию SQL, предоставленных базе данных. Возьмем, например, один из распространенных запросов используется в вычислении сочетание имя/пароль пользователя:  
  
`SELECT userID FROM users WHERE username = 'sUserName' AND password = 'sPassword'`  
  
Получив это является сервером базы данных, оно указывает серверу для поиска по таблице пользователей и возвращать любой записи userID, где имя пользователя и пароль совпадают с пользователем (предположительно через форму входа некоторого типа). Естественным образом разработчика в этом случае предполагается возвращать допустимой записи, только если правильные имя пользователя и пароль можно предоставить этим пользователем. Если либо задан неправильно, сервер базы данных будет не удалось найти соответствующую запись и возвращает пустой результат.  
  
Эта проблема возникает, когда злоумышленник делает что-то непредвиденное, например для предоставления собственных SQL вместо допустимых данных. Так как SQL — это Интерпретируемый на лету сервером базы данных, внедренного кода будет обработан как разработчик поместить его в себе. Например, если злоумышленник **администратора** для идентификатора пользователя и **xyz** или **1 = 1** как пароль, будет результирующая инструкция, обрабатываются базой данных:  
  
`SELECT userID FROM users WHERE username = 'administrator' AND password = 'xyz' OR 1=1`  
  
Когда этот запрос обрабатывается сервером базы данных, все строки в таблице будет возвращаться в запросе, так как 1 = 1 будет всегда возвращают значение True, таким образом, не важно, если известен или указано правильное имя пользователя и пароль. Конечный результат в большинстве случаев-, что пользователь будет войти в систему как первый пользователь в базе данных пользователя; в большинстве случаев это будет пользователь с правами администратора.  
  
Помимо просто входя в систему, имеет неправильный формат инструкций SQL такие, как это можно использовать для добавления, удаления, изменения данных или даже удалять (delete) целые таблицы из базы данных. В самых исключительных случаях, где обнаружение объединяется с избыточной привилегий команды операционной системы может выполняться для создания новых пользователей, загрузите средства атаки или выполнять другие действия Выбор злоумышленников.  
  
В межузловых сценариев, уязвимости впервые появился в выходных данных приложения. Атака начинается с злоумышленник неверно сформированные данные приложения, однако в этом случае плохих данных в виде кода сценария (например, JavaScript), которая будет запускаться в обозревателе жертвы. Использование из уязвимость XSS может дать злоумышленнику для выполнения любых функций целевого приложения в контексте пользователя, выполнившего запуск браузера. Атаки XSS обычно инициируется по электронной почте фишинга, поощряя пользователю щелкнуть ссылку, которая подключается к приложению и выполняет код атаки.  
  
XSS часто использована в Интернет-банкинга и Электронная коммерция сценарии, где злоумышленник может совершать покупки или перевод денег в контексте пользователя. В случае целевые атаки на приложения для управления пользовательских веб-удостоверений он может дать злоумышленнику создают собственные удостоверения, изменять разрешения и права и привести к компрометации системные.  
  
Несмотря на то, что полное описание межузловых сценариев и внедрения кода SQL выходит за рамки данного документа, [Open Web Application Security Project (OWASP)](https://www.owasp.org/index.php/Main_Page) публикует список первых 10 с подробное описание уязвимости и меры противодействия.  
  
Независимо от инвестиций в инфраструктуру безопасности Если плохо спроектированные и письменные приложения развертываются в этой инфраструктуре, среде становится уязвимым для атак. Даже хорошо защищенной инфраструктуры часто не может предоставить эффективные контрмеры для таких атак приложения. Объединением проблему, плохо разработанные приложения может потребоваться, что учетные записи служб предоставляться избыточные разрешения для всех задач приложения.  
  
Microsoft Security Development Lifecycle (SDL) — это набор структурных процесс элементы управления, которые работают для повышения безопасности начало на раннем этапе требования сбора и расширение на протяжении жизненного цикла приложения, пока не будет выведена из эксплуатации. Такая интеграция эффективную защиту элементов управления не только критические с точки зрения безопасности, он является критически важным для обеспечения безопасности приложений затраты и время действия расписания. Оценка приложения для обеспечения безопасности при фактически является полный код требует организаций для принятия решений о безопасности приложений, только до или даже в том случае, после развертывания приложения. Организация может выбрать для устранения уязвимости приложения перед развертыванием приложения в рабочей среде, затрат и задержек, или приложения могут развертываться в рабочей среде с недостатки безопасности, предоставляя организации злоумышленнику.  
  
В некоторых организациях поместите полной стоимости исправления проблем безопасности в рабочем коде выше 10 000 долларов США на решение проблемы и приложениями, разработанными без действующих SDL позволяет получать усредненные более десяти серьезной проблемы на 100 000 строк кода. В больших приложениях затраты быстро расширять. Напротив многие компании задать эталона менее одной проблемы за 100 000 строк кода на этапе конечный код проверки SDL и должны ноль проблем в приложениях с высоким риском в рабочей среде.  
  
Реализация SDL повышает безопасность, включая требования к безопасности на ранних этапах сбора требований и разработки приложения предоставляет моделирование рисков для приложений с высоким риском. требует эффективных средств для обучения и мониторинга разработчиков; и требует четкие и согласованность кода стандартам и рекомендациям. В итоге SDL — значительные улучшения в безопасности приложений при снижении затрат на разработку, развертывание, поддерживать и вывод из эксплуатации приложения. Несмотря на то, что подробное описание разработки и реализации SDL выходит за рамки данного документа, см. [Microsoft Security Development Lifecycle](https://www.microsoft.com/security/sdl/default.aspx) подробные инструкции и сведения.  
  


