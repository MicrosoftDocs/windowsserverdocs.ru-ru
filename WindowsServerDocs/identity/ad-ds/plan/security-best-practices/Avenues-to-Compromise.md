---
ms.assetid: d7a4d2e1-217d-4ffc-93f0-817149bd9e7f
title: "Способы решения"
description: 
author: billmath
ms.author: billmath
manager: femila
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adds
ms.openlocfilehash: 149a3e4bb2ce4558e40425e42ecfdeec2c5dfcb7
ms.sourcegitcommit: 78d8839ccafa9530784cb9e38c3127ed2c215423
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/09/2018
---
# <a name="avenues-to-compromise"></a>Способы решения

>Область применения: Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

*Законодательство номер семь: является хорошо управляемая наиболее защищенной сети.* - [10 неизменяемых законов администрирования безопасности](https://technet.microsoft.com/library/cc722488.aspx)  
  
В организациях, у которых были разрушительного компрометации события оценки обычно отражает, что организациях ограничен видимость фактическим состоянием ИТ-инфраструктур, которые могут существенно отличаться от их состояний «задокументированного». Эти различия привести к уязвимости, которые предоставляют среды для нарушения безопасности, часто с минимальным риском обнаружения пока компрометации изменилась в точку, с которой злоумышленники эффективно «владельцем» среды.  
  
Подробные оценки этих организаций конфигурации AD DS, инфраструктурах открытого ключа (PKI), серверы, рабочие станции, приложений, списки управления доступом (ACL) и других технологий обнаружить неверные настройки и уязвимостей, если исправить, может не начальной компрометации.  
  
Анализ документации ИТ, процессы и процедуры выявляет новые пробелы в практикам администрирования, которые были оптимизированный за счет использования злоумышленники могут получить права, которые были использованы для полной компрометации леса Active Directory в конечном счете уязвимости. Полностью скомпрометированных леса — это один, в котором злоумышленники нарушить не только отдельных систем, приложений или учетных записей пользователей, но эскалировать свой доступ к получить уровень привилегий, в котором они можно изменить или уничтожения всех аспектов леса. После установки Active Directory был скомпрометирован для, степень, злоумышленники можно внести изменения, которые позволяют им получать Ведение присутствия во всей среде или хуже, уничтожить каталоге и систем и учетных записей, которым он управляет.  
  
Несмотря на то, что количество часто уязвимость в описании приводимые не атаки, направленные на Active Directory, они позволяют злоумышленникам создать исходную точку доступа в среде, в которой можно выполнять атак привилегий распространения (также называемый привилегий), а также в конечном итоге целевой и компрометации AD DS.  
  
В этом разделе в этом документе основное внимание уделяется описанием механизмов, которые злоумышленники обычно используют для доступа к инфраструктуре и в конце концов для инициирования атак запроса на повышение прав. Также см. в следующих разделах:  
  
-   [Снижение уязвимостей Active Directory](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md) подробные рекомендации по безопасной конфигурации Active Directory.  
  
-   [Мониторинг Active Directory для признаков компрометации](../../../ad-ds/plan/security-best-practices/Monitoring-Active-Directory-for-Signs-of-Compromise.md) рекомендации для обнаружения нарушений безопасности  
  
-   [Планирование при компрометации](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Planning-for-Compromise.md) высокого уровня подхода для подготовки атаки, направленные на инфраструктуру из ИТ и бизнес-процессам  
  
> [!NOTE]  
> Несмотря на то, что в этом документе основное внимание уделяется Active Directory и систем Windows, входящих в состав домена AD DS, злоумышленники редко уделяться исключительно Active Directory и Windows. В средах с операционными системами и каталоги, приложений и хранилища данных Общие для поиска, что другие операционные системы также был скомпрометирован. Это особенно актуально, если системы обеспечивают «мост» между Windows и среды отличных от Windows, такие как файловые серверы, используемые Windows и UNIX или Linux клиентов, каталоги, которые предоставляют службы проверки подлинности для нескольких операционных систем или metadirectories, синхронизация данных между разнородными каталоги.  
>   
> Из-за централизованного доступа и конфигурации возможности управления, предоставляет не только к системам Windows, но и для других клиентов предназначен AD DS. Другие каталог или приложение, которое обеспечивает проверку подлинности и настройки службы управления можно и целевые определено злоумышленников. Несмотря на то, что в этом документе основное внимание уделено средств защиты, можно уменьшить вероятность возникновения компрометации установки Active Directory, каждой организации, который включает компьютеры, отличных от Windows, репозиториев каталоги, приложений или данных также следует подготовить для атаки, направленные на этих системах.  
  
## <a name="initial-breach-targets"></a>Нарушение начальной целевых объектов  
Никто не намеренно сборки ИТ-инфраструктуры, предоставляющий организации для нарушения безопасности. При создании леса Active Directory обычно она находится первоначальному и текущими. Передайте лет и приобретенные новые операционные системы и приложений, они добавляются в лесу. Как распознаются все преимущества, предоставляемые Active Directory, больше и больше содержимое добавляется к каталогу, большего количества людей интеграции своих компьютеров или приложений с AD DS и домены будут обновлены для поддержки новых функций, предлагаемых самые свежие версии операционной системы Windows. Тем не менее, что происходит со временем — даже как новую инфраструктуру был добавлен, другие компоненты инфраструктуры не сохраняется так хорошо, как они были изначально, систем и приложений функционируют должным образом и таким образом, они не получают внимание, что организации начать забыть, что они не удаляются инфраструктуры прежних версий. Зависимости от того, мы видим в оценки скомпрометированных инфраструктур старые, более крупными и сложными среде, скорее всего, она предполагает, что большим количеством экземпляров часто уязвимость.  
  
Независимо от того, мотивация злоумышленника большинство нарушений безопасности сведения стартовым компрометация одной или двух систем одновременно. Эти события начальной или точек входа в сеть, часто используют уязвимости, которые могут исправлены, но не были. [Нарушение исследования 2012 данных отчетов (DBIR)](http://www.verizonbusiness.com/resources/reports/rp_data-breach-investigations-report-2012_en_xg.pdf), которое является годовой исследования, созданных командой РИСК Verizon в сотрудничестве с количеством агентства национальной безопасности и других компаний, указано, что 96% атак были «высокой не сложно», и что «97 процентов нарушений были вызывает по элементам управления, простое или промежуточного.» Эти результаты могут быть напрямую связано часто уязвимость приводимые.  
  
### <a name="gaps-in-antivirus-and-antimalware-deployments"></a>Пробелы в антивирусных программ и развертываний для защиты от вредоносных программ  
*Законодательство номер восемь: сканер устаревших вредоносных программ — только ненамного лучше, чем сканер не совсем.* - [Десять постоянными законам безопасности (версии 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
Анализе развертываний антивирусные и антивредоносные организации часто показывает большинства рабочих станций, настроен с антивирусные и антивредоносные программы, который включен и текущей среды. Исключениями являются обычно рабочих станций, которые редко подключаются к корпоративной среде или сотрудник устройств, для защиты от вредоносных программ и антивирусных программ может быть трудно развертывания, настройки и обновления программного обеспечения.  
  
Заполнение сервера, обычно меньше согласованно защищенный во многих скомпрометированных средах. Как указано в отчете о [исследования взлома данных 2012](http://www.verizonbusiness.com/resources/reports/rp_data-breach-investigations-report-2012_en_xg.pdf), 94 процента всех данных компрометирующие вовлеченными серверами, которая отражает увеличение 18 процентов за предыдущий год и включены 69 процентов от атак вредоносных программ. В совокупности сервера не нередко что антивирусных программ и защиты от вредоносных программ несогласованно настроен, устаревшие, неправильно настроен или даже отключить. В некоторых случаях антивирусные и антивредоносные программы отключена по административного персонала, но в других случаях злоумышленники отключите программного обеспечения после нарушения серверу через другие уязвимости. При отключении антивирусные и антивредоносные программы злоумышленники затем растения вредоносных программ на сервере и сосредоточиться на распространение компромисс между заполнение сервера.  
  
Важно не только чтобы гарантировать защиту своих систем с актуальный защиты от вредоносных программ, но также для отслеживания системы для отключения или удаления антивирусных программ и защиты от вредоносного программного обеспечения и автоматически перезапустить защиту, когда она отключена вручную. Несмотря на то, что не антивирусные и антивредоносные программы может гарантировать Предотвращение и обнаружения всех вредоносных программ, правильно настроена и развернутые реализации антивирусных программ и защиты от вредоносных программ можно уменьшить вероятность заражения.  
  
### <a name="incomplete-patching"></a>Неполная исправления  
*Законодательство цифра три: Если не справляться с исправлений безопасности, вашей сети не будет ваш долго.* - [10 неизменяемых законов администрирования безопасности](https://technet.microsoft.com/library/cc722488.aspx)  
  
Корпорация Майкрософт выпускает бюллетенях по безопасности во второй вторник каждого месяца, несмотря на то, что в редких случаях выпуска обновлений безопасности ежемесячных обновлений для системы безопасности (они также называются обновлений «аппаратного») при уязвимость определяется срочной угрозы системы клиента. Малый бизнес настраивает его компьютерами Windows должны использовать Центр обновления Windows для управления системы и исправления приложения или крупная организация использует программное обеспечение для управления как System Center Configuration Manager (SCCM) для развертывания исправлений согласно подробных иерархических планы, многие клиенты исправление свою инфраструктуру Windows своевременно относительно.  
  
Однако несколько инфраструктур включают только компьютеры Windows и приложений Майкрософт, и в скомпрометированных средах часто, стратегию управления исправлениями организации содержит пробелы. Системы Windows, в таких средах несогласованно установлены исправления. Операционные системы Windows не установлено исправление в некоторых случаях, если вообще. Коммерческие готовых приложениях (COTS) содержат уязвимости, для которых существует исправления, но не были применены. Сетевые устройства часто настроены с использованием учетных данных по умолчанию не обновления и встроенного по лет после их установки. Часто хранятся приложений и операционных систем, которые больше не поддерживаются в своих поставщиков под управлением, несмотря на то, что они могут больше не устраняться от уязвимостей. Каждый из этих незакрытых систем представляет другой потенциальных точкой входа для злоумышленников.  
  
Ориентация ИТ имеет введенные дополнительных задач по этому сотруднику собственных устройств используются для доступа к корпоративным данным, принадлежащие и организации могут использовать практически не контролировать исправлений и конфигурации личных устройств сотрудников. Оборудования корпоративного уровня, обычно поставляется с параметры конфигурации для корпоративного использования и возможностей управления, за счет меньше выбора отдельных настройки и выбора устройств. Оборудование, ориентированном на сотрудников предлагает широкий ряд изготовителей, поставщики, аппаратные функции безопасности, функции безопасности программного обеспечения, возможности управления и параметры конфигурации и многие функции предприятия могут отсутствовать полностью.  
  
#### <a name="patch-and-vulnerability-management-software"></a>Программное обеспечение Уязвимость управления исправлениями и  
Если систему управления эффективных исправления в отношении системы Windows и приложений Майкрософт, были рассмотрены часть атак, создайте незакрытых уязвимостей. Тем не менее если другие операционные системы, приложения сторонних разработчиков, сетевой инфраструктуры и устройств сотрудников также поддерживаются в обновленном состоянии на исправлений и других исправлений, инфраструктура остается уязвимым. В некоторых случаях поставщик приложения может предложить возможности автоматического обновления; Иногда может быть необходимо разработать способ регулярно извлечения и применения исправлений и других исправлений.
  
### <a name="outdated-applications-and-operating-systems"></a>Устаревшие приложения и операционные системы  
*«Не ожидать шести лет операционной системы для защиты от атак на шести месяцев назад».* -Сведения безопасности с 10 лет опыт защита корпоративных установок  
  
Несмотря на то что «получить текущий, соблюдение условий» может показаться маркетинга фразу, устаревших операционных систем и приложений создать риск во многих организациях ИТ-инфраструктуры. Операционная система, которая была выпущена в Windows Server 2003 может по-прежнему поддерживается поставщика и, предоставляемых обновлениями уязвимостям адреса, но при этом операционная система может не содержать функций безопасности, добавленных в более новых версиях операционной системы. Устаревших систем даже может потребоваться ослабления определенные конфигурации безопасности AD DS для поддержки меньше возможностей этих компьютеров.  
  
Приложения, которые были написаны для использования протоколов проверки подлинности поставщиков, которые больше не поддерживаются приложения обычно не retooled для поддержки более надежные способы проверки подлинности. Тем не менее домен Active Directory организации могут по-прежнему настроены сохранять хэши LAN Manager или обратимого шифрования паролей для поддержки таких приложений. Приложения, написанные перед появлением более новые операционные системы могут не функционировать хорошо или вообще текущего операционных системах, требуя организации для поддержки старых и более старых систем и в некоторых случаях, полностью неподдерживаемого оборудования и программного обеспечения.  
  
Даже в том случае, в которых организаций обновили свои контроллеры домена Windows Server 2012, Windows Server 2008 R2 или Windows Server 2008, является типичным для того чтобы найти значительная часть члена заполнение сервера, чтобы работать под управлением Windows Server 2003 (это больше не в основной фазы поддержки) или Windows 2000 Server или Windows NT Server 4.0 (которая не полностью поддерживаются). Больше организации поддерживает время существования систем, более роста несоответствие между наборами функций и скорее всего, она становится производственных системах будут лишены поддержки. Кроме того, тем дольше леса Active Directory сохраняются, тем более мы наблюдать пропущенных устаревших систем и приложений в планы обновлений. Это может означать, что один компьютер под управлением одного приложения могут вызвать уязвимости домена или леса, так, как Active Directory настроена для поддержки его устаревших протоколов и механизмы проверки подлинности.  
  
Чтобы избежать устаревших систем и приложений, следует уделить об определении и каталогизации их, а затем в определения, следует ли обновлять или заменять приложения или узла. Несмотря на то, что он может быть трудно найти замену специализированной приложений, для которых нет поддержки ни алгоритм обновления, можно использовать концепция, называемая «creative уничтожения» для замены устаревшее приложение с помощью нового приложения, которое содержит необходимые функциональные возможности. [Планирование при компрометации](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Planning-for-Compromise.md) описано более подробно в «Планирование для компрометации» далее в этом документе.  
  
### <a name="misconfiguration"></a>Неправильной настройки  
*Законодательство цифра четыре: он не делает гораздо лучше Установка исправлений безопасности на компьютере, который никогда не защищен начинается с.* - [10 неизменяемых законов администрирования безопасности](https://technet.microsoft.com/library/cc722488.aspx)  
  
Даже в средах, где систем обычно хранятся текущих и программного обеспечения, установленного мы часто определить пробелы или неверные настройки в операционной системе, приложения, выполняющиеся на компьютерах и Active Directory. Некоторые неверные настройки предоставляют только на локальном компьютере для нарушения безопасности, но после компьютера» принадлежат», злоумышленники обычно сосредоточиться на дальнейшему распространению компрометации, в других системах, а затем публикуется в Active Directory. Ниже перечислены некоторые из основных областей, в которых мы определяем конфигурации, которые привнести определенные риски.  
  
#### <a name="in-active-directory"></a>В Active Directory  
Учетные записи в Active Directory, которые наиболее часто становятся целью злоумышленников, которые являются членами групп наиболее высоким уровнем привилегий, например членами группы администраторов домена (DA), администраторов предприятия (EA) или встроенной группы администраторов (BA) в Active Directory. Членство в этих группах следует уменьшить наименьшее количество возможных учетные записи, чтобы ограничен уязвимость этих групп. Можно даже исключения «постоянного» членства в этих привилегированных групп; то есть вы можете реализовать параметры, которые позволяют временно заполнение этих групп, только в том случае, когда требуются свои права уровня домена и леса. При использовании привилегированных учетных записей, они должны использоваться только в выделенном и безопасного системах, таких как контроллеры домена или безопасного администрирования узлов. Подробные сведения о реализации всех этих конфигураций предоставляется в [снижение уязвимостей Active Directory](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md).  
  
Когда мы оценивать членство наивысший привилегированных групп в Active Directory, обычно находим чрезмерного членства во всех трех групп большинство уровнем привилегий. В некоторых случаях организации могут десятков и даже сотен учетных записей в DA групп. В других случаях организациям Поместите учетные записи непосредственно в встроенной группы администраторов, думаю, что эта группа является «меньше привилегий» чем DAs группа. Нет. Мы часто найти небольшое количество постоянных членов группы EA в корневом домене леса, несмотря на то, что EA необходимы права редко и временно. Поиск ИТ повседневные административной учетной записи пользователя в всех трех групп — также частая, несмотря на то, что это эффективно избыточных конфигурация. Как описано в [снижение уязвимостей Active Directory](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md), является ли учетную запись постоянных членом одной из этих групп или все из них, учетная запись используется для компрометации и даже уничтожение среды AD DS и систем и управляемых ею учетных записей. Описаны рекомендации по безопасной конфигурации и использование привилегированных учетных записей в Active Directory в [снижение уязвимостей Active Directory](../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/../../../ad-ds/plan/security-best-practices/Reducing-the-Active-Directory-Attack-Surface.md).  
  
#### <a name="on-domain-controllers"></a>На контроллерах домена  
Когда мы оценить контроллеры домена, мы узнаем, часто найти их настраиваются и управляются точно так же рядовых серверах. Иногда контроллерах домена того же приложения и служебные программы, установленные на рядовых серверах, не так, как они будут необходимы на контроллерах домена, но так как приложения являются частью стандартной сборки. Эти приложения могут предоставляет минимальные функциональные возможности на контроллерах домена, но значительно увеличивает направлений атак, требуя параметр конфигурации, открыть порты, создания учетных записей служб с высоким уровнем привилегий или предоставить доступ к системе, пользователи, не должен подключаться к контроллеру домена в любых целях, отличных от проверки подлинности и применение групповой политики. В некоторых нарушений злоумышленники использовали средства, которые уже установлены на контроллерах домена не только получить доступ к контроллерам домена, но для изменения или повреждения базы данных AD DS.  
  
Когда мы извлечение параметров настройки Internet Explorer на контроллерах домена, мы узнаем, что пользователи вошли в систему с учетными записями, которые имеют высокий уровень привилегий в Active Directory и использовали учетные записи для доступа к Интернету и интрасети от контроллеров домена. В некоторых случаях учетные записи настроены параметры Internet Explorer на контроллерах домена, чтобы разрешить загрузку Интернет содержимому и бесплатные служебные программы были загружены с веб-сайтами и на контроллерах домена. Конфигурация усиленной безопасности Internet Explorer включена для пользователей и администраторов по умолчанию, но мы часто наблюдать, отключена для администраторов. При высокой привилегированной учетной записью подключен к Интернету и загружает содержимое на любом компьютере, этот компьютер является поставить под угрозу серьезной. Если компьютер является контроллером домена, на весь процесс установки AD DS поставить под угрозу.  
  
##### <a name="protecting-domain-controllers"></a>Защита контроллеров домена  
Контроллеры домена должны рассматривается как критически важные компоненты инфраструктуры, защищенным более строго и настроить более строго, чем файлов, печати и серверов приложений. Контроллеры домена не следует запускать программное обеспечение, которое не является обязательным для контроллера домена в функцию или не защищает от атак контроллера домена. Контроллеры домена не разрешается доступ к Интернету и параметры безопасности следует настроить и применяемые объекты групповой политики (GPO). Подробные рекомендации для безопасной установки, настройки и управления, контроллеров домена, входящих в состав [Защита контроллеров домена от атак](../../../ad-ds/plan/security-best-practices/Securing-Domain-Controllers-Against-Attack.md).  
  
#### <a name="within-the-operating-system"></a>В операционной системе  
*Законодательство номер два: если злоумышленник изменил операционной системы на компьютере, он больше не на компьютере.* - [Десять постоянными законам безопасности (версии 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
Несмотря на то, что в некоторых организациях создания базовых показателей конфигурации для серверов различных типов и разрешить только настройки операционной системы после установки, анализ скомпрометированных средах часто выявляются большое количество серверов в режиме ad hoc, а развернуты и настроены вручную независимо друг от друга. Конфигурации между двумя серверами, выполнив ту же функцию может быть совершенно другой, где ни один сервер настроен безопасно. И наоборот базовые показатели конфигурации сервера может быть постоянно принудительно, но также согласованно неправильно; то есть серверы настроены таким образом, что создает эту уязвимость на всех серверах данного типа. Неправильной настройки включают рекомендации, например отключения средств безопасности, предоставление чрезмерного права и разрешения для учетных записей (особенно учетных записей служб), использовать одинаковые учетные данные локального различных системах и разрешений установку неавторизованных приложений и программ, привести к возникновению уязвимостей собственные.  
  
##### <a name="disabling-security-features"></a>Отключение функции безопасности  
Организации иногда отключите брандмауэр Windows с повышенной безопасности (WFAS) из предположения, что сложно настроить WFAS или его установка требует трудоемких конфигурации. Однако начиная с Windows Server 2008, при любой роли или компонент устанавливается на сервере, он по умолчанию настроен с наименьшими привилегиями, необходимые для роли или компонента, функции и брандмауэр Windows автоматически настроен для поддержки роли или компонента. Отключение WFAS (и не используется другой брандмауэр на его месте) организациям повышает вероятность угроз безопасности всей среды Windows. Брандмауэры периметра обеспечить защиту от атак, которые ориентированы среде из Интернета, но они не защищает от атак, использующих других атак, таких как [скрытой загрузки](https://www.microsoft.com/security/sir/glossary/drive-by-download-sites.aspx) атак, атак с других раскрытия систем в интрасети.  
  
Параметры контроля Учетных записей пользователей иногда отключены на серверах, поскольку административного персонала найти запросы слишком высокий. Несмотря на то что [статья службы поддержки Майкрософт 2526083](https://support.microsoft.com/kb/2526083) описаны сценарии, в которых могут быть отключены контроля учетных Записей на сервере Windows Server, если сервер под управлением установки основных компонентов (где UAC преднамеренно отключено), не следует отключить контроль учетных Записей на серверах без тщательным и справочные материалы.  
  
В других случаях настроить параметры сервера к менее безопасным значения из-за организаций применяет параметры конфигурации сервера устаревшие новые операционные системы, такие как применение базовых планов для Windows Server 2003 на компьютерах под управлением Windows Server 2012, Windows Server 2008 R2 или Windows Server 2008, не меняя базовые показатели в соответствии с изменениями в операционной системе. Вместо того чтобы брать с собой старый сервер базовые показатели в новых операционных систем, при развертывании новой операционной системы, просмотрите изменения системы безопасности и параметры конфигурации, чтобы убедиться, что параметры реализации и применимых новой операционной системы.  
  
##### <a name="granting-excessive-privilege"></a>Предоставление чрезмерного привилегий  
В среде, практически все, мы оценки чрезмерного привилегий предоставляется локальные и доменные учетные записи в системах Windows. Предоставления пользователям права локального администратора на свои рабочие станции, рядовые серверы запуска службы, настроенные с правами за рамки, они должны работать и локальной группы администраторов на заполнение сервера содержат десятков или даже сотен локальной группы и учетные записи домена. Компрометация только один привилегированной учетной записью компьютера позволяет злоумышленники могут скомпрометировать учетные записи каждого пользователя и службы, которая входит в систему на компьютере и Урожай и использование учетных данных для распространения компрометации к другим системам.  
  
Несмотря на то, что pass--hash (PTH) и других атак кражи учетных данных присутствуют в настоящее время выполняется, поскольку бесплатно получить инструменты, который позволяет легко и легко извлечь учетные данные других привилегированных учетных записей, если злоумышленник получил доступ уровня администратора или системы на компьютере. Даже без инструментарий, который разрешает сбор учетных данных из сеансов входа в систему, злоумышленник, получивший привилегированный доступ к компьютеру так же легко, можно установить средства регистрации нажатия клавиш, включающие нажатий клавиш, снимки экрана и содержимое буфера обмена. Злоумышленник, получивший привилегированный доступ к компьютеру можно отключение защиты от вредоносных программ, установить пакеты программ rootkit, изменить защищенные файлы или установить вредоносную программу на компьютере, который автоматизирует атак или включает сервер в [скрытой загрузки](https://www.microsoft.com/security/sir/glossary/drive-by-download-sites.aspx) узла.  
  
Различаются методик, используется для расширения нарушение за рамки одного компьютера, но ключа для распространения компрометации приобретения высоким уровнем доступа к дополнительным системам. Уменьшить количество учетных записей с привилегированным доступом в любую систему, можно снизить вероятность атак не только с этого компьютера, но вероятность того, что злоумышленник сбор ценные учетные данные с компьютера.  
  
##### <a name="standardizing-local-administrator-credentials"></a>Стандартизация учетные данные локального администратора  
Существует давно спора среди специалистов по безопасности как для ли переименование учетных записей локального администратора на компьютерах Windows не имеет смысла. Фактически о учетные записи локального администратора важно ли они настроены одно и то же имя пользователя и пароль на нескольких компьютерах.  
  
Если с именем учетной записи локального администратора на то же значение между серверами и то же значение также настроенного пароля, назначенная данной учетной записи, злоумышленники можно извлечь учетные данные учетной записи пользователя на одном компьютере, на какие администратора или уровня системы был получен доступ. Злоумышленник имеет изначально взлома учетной записи администратора; они должны только компрометации учетной записи пользователя, который является членом локальной группы администраторов или учетной записи службы, которая настроена для запуска с учетной записью LocalSystem или с правами администратора. Злоумышленник может затем извлекают учетные данные для учетной записи администратора и эти учетные данные в при входе в сеть на другие компьютеры в сети с повторением пакетов.  
  
До тех пор, пока другой компьютер имеет локальной учетной записи с таким же именем пользователя и пароль (или хэш пароля) как предоставленных учетных данных учетной записи, каждой успешной попытки входа, и злоумышленник получает привилегированный доступ на целевой компьютер. В текущей версии Windows, является встроенной учетной записи администратора [отключено по умолчанию](https://technet.microsoft.com/library/cc753450.aspx), но в старых операционных системах, учетная запись включена по умолчанию.  
  
> [!NOTE]  
> В некоторых организациях намеренно настроены учетные записи локального администратора, следует включить в убеждении, что это обеспечивает «свойства», в случае блокировки всех других привилегированных учетных записей из системы. Тем не менее, даже если локальная учетная запись администратора отключена, и нет других учетных записей доступны, можно включить учетную запись или войдите в систему с правами администратора, системы можно использовать для загрузки в безопасном режиме и встроенной учетной записи локального администратора можно снова включить, как описано в [статья службы поддержки Майкрософт 814777](https://support.microsoft.com/kb/814777). Кроме того Если система по-прежнему успешно применяет объекты групповой политики, объект групповой Политики можно изменить, чтобы повторно включить учетную запись администратора (временно) или группы с ограниченным доступом можно настроить таким образом, чтобы добавить учетную запись на основе домена в локальную группу администраторов. Можно выполнить восстановление, и учетная запись администратора снова может быть отключено. Чтобы эффективно бокового компрометации, который использует встроенные локальные учетные данные администратора, уникальные имена и пароли должны быть настроены для локальных учетных записей администратора. Чтобы развернуть уникальные пароли для локальных учетных записей администратора через объект групповой Политики, см. [решение для управления пароль встроенной учетной записи администратора через объект групповой Политики](https://technet.microsoft.com/mt227395.aspx) на сайте technet.  
  
##### <a name="permitting-installation-of-unauthorized-applications"></a>Разрешение на использование установку неавторизованных приложений  
*Номер один закон: Если злоумышленник может убедить пользователя запустить его программу на компьютере, не только на компьютере больше.* - [Десять постоянными законам безопасности (версии 2.0)](https://technet.microsoft.com/security/hh278941.aspx)  
  
Организация развертывает согласованные основные параметры на серверах, установки приложений, которые не являются частью определенных ролей сервера не разрешается ли. Разрешив установку программного обеспечения, не является частью назначенного функциональности сервера, серверы имеют доступ к случайного или злонамеренного установки программного обеспечения, которое увеличивает площадь атаки на сервере, представляет уязвимости приложения или приводили к нестабильности системы.  
  
#### <a name="applications"></a>Приложения  
Как описано выше, приложения часто установлены и настроены на использование учетных записей, которые предоставляются дополнительные привилегий, чем приложение фактически требуется. В некоторых случаях документации приложения указывает, что учетные записи служб должны быть членами локальной группы администраторов сервера, или должен быть настроен для запуска в контексте учетной записи LocalSystem. Часто это не так, как приложение требует эти права, но поскольку определяет, какие права и разрешения необходимости учетных записей службы приложения требуется инвестиции в дополнительное время и усилия. Если приложение не была установлена с минимальные привилегии, необходимые для работы приложения и его настроенные компоненты, система уязвима для атак с использованием привилегии приложения без любых атак, от самой ОС.  
  
### <a name="lack-of-secure-application-development-practices"></a>Отсутствие рекомендаций по разработке безопасных приложений  
Существует инфраструктура для поддержки рабочих нагрузок предприятия. Там, где эти рабочие нагрузки, реализованных в пользовательские приложения, очень важно убедиться, что приложений, разработанных с использованием безопасного рекомендации. Основную причину анализе инцидентов корпоративный часто показывает, что компрометация начальной это относится через пользовательские приложения, особенно тех, которые Internet лицом. Большая часть эти типа выполняются через компрометации хорошо известных атак, такие как введение SQL (SQLi) и атаки с межсайтовыми сценариями (XSS).  
  
Внедрение SQL представляет уязвимости приложения, который позволяет вводить, определяемое пользователем, изменить инструкцию SQL, который передается в базу данных для выполнения. Эти входные данные предоставляются через поле в приложении, параметр (например, строки запроса или файл cookie) или другие методы. В результате этого внедрение является существенно отличаться от какие разработчик предназначен инструкции SQL для базы данных. Возьмем, например, общие запрос, используемый в оценку комбинации имя и пароль пользователя:  
  
`SELECT userID FROM users WHERE username = 'sUserName' AND password = 'sPassword'`  
  
При получении сервера базы данных, он указывает, что сервер, см. в таблице пользователей и возврата любой userID записи, в которых имя пользователя и пароль совпадают, предоставленные пользователя (предположительно с помощью какого-либо формы входа). Естественно разработчика в этом случае предполагается возвращает запись допустимым, только если правильные имя пользователя и пароль может быть предоставлено пользователю. В случае ошибки либо сервер базы данных будет не удалось найти соответствующую запись и возвращать пустой результат.  
  
Проблема возникает, когда злоумышленник присвоена Непредвиденная, например предоставление собственные SQL вместо допустимые данные. Поскольку интерпретированного на лету сервером базы данных SQL, введенный код будет обрабатываться как если разработчик поместить его в себе. Например, если он введен **администратора** для идентификатора пользователя и **xyz** или **1 = 1** в качестве пароля, будет результирующая инструкция обрабатываемых базы данных:  
  
`SELECT userID FROM users WHERE username = 'administrator' AND password = 'xyz' OR 1=1`  
  
Когда этот запрос обрабатывается сервером базы данных, все строки в таблице будут возвращены в запросе поскольку 1 = 1 будут всегда иметь значение True, таким образом, не имеет значения, если известен или предоставляются правильные имя пользователя и пароль. В результате в большинстве случаев, что пользователь будет войти в систему первого пользователя в базе данных пользователя; в большинстве случаев это будет пользователь с правами администратора.  
  
Помимо просто входа в систему сформированные инструкции SQL такие, как это можно использовать для добавления, удаления, изменения данных или даже удаления всей таблицы (Удалить) из базы данных. В самых крайних случаях, где SQLi используется в сочетании с чрезмерного привилегий возможность создания новых пользователей, для загрузки инструменты атаки или выполнить другие действия злоумышленников Выбор можно запустить команд операционной системы.  
  
В сценариях, уязвимость впервые появился в выходных данных приложения. Атака начинается с злоумышленник неверно сформированные данные приложения, однако в этом случае неверно сформированные данные в виде код сценария (например, JavaScript), выполнения жертвы браузере. Воспользоваться XSS уязвимость может позволить злоумышленнику выполнить какие-либо функции целевого приложения в контексте пользователя, запуске браузера. Атаки XSS обычно инициируется по электронной почте фишинга, поощрение пользователя нажать ссылку, которая подключается к приложению и выполняет код атаки.  
  
XSS часто использована в Интернет-банкинга и сценарии электронной коммерции, где злоумышленник может совершать покупки или перевод денег в контексте пользователя. В случае целевых атак на настраиваемое удостоверение веб-приложения управления она позволяет создавать собственные идентификаторы, изменить разрешения и права и привести к компрометации систематического злоумышленником.  
  
Несмотря на то, что полное описание межузловых сценариев и внедрение кода SQL выходит за рамки данного документа [открытым веб приложения безопасности проекта (OWASP)](https://www.owasp.org/index.php/Main_Page) публикует список первых 10 с помощью подробного рассмотрения уязвимостей и меры противодействия.  
  
Независимо от инвестиций в инфраструктуру безопасности Если плохо разработан и письменное приложения развертываются в рамках этой инфраструктуры среде выполняется уязвимым для атак. Даже хорошо защищены инфраструктур часто не может предоставить эффективные контрмеры в случае подобных атак приложения. Комбинирование проблему, неправильно составленный приложений может потребоваться, что учетные записи служб разрешение чрезмерного для функции приложения.  
  
Microsoft Security Development Lifecycle (SDL) — это набор процесса структурных элементов управления, которые работают для повышения безопасности начало в начале требования сбора и расширение в течение жизненного цикла приложения, пока в случае вывода из эксплуатации. Такая интеграция эффективной элементы управления не только является критически важным с точки зрения безопасности, важно убедиться, что приложение безопасности затрат и планирования эффективной. Оценка приложения для обеспечения безопасности при эффективно полный код требует, чтобы принять решение о безопасности приложения до, или даже после развертывания приложения организации. Организация может выбрать для устранения бреши приложения перед развертыванием приложения в рабочей среде, требуя затраты и задержки, или приложение можно развернуть в рабочей среде с известной уязвимости, предоставление организации для нарушения безопасности.  
  
В некоторых организациях поместите полной стоимости устранить неполадку безопасности в рабочем коде выше $ 10 000 на проблему, и приложения, разработанные без действующих SDL может среднее время обращения к более десяти высокого уровня серьезности проблемы на 100 000 строк кода. В больших приложений быстро передавать затраты. Напротив во многих компаниях задать тестирования менее одной проблемы на 100 000 строк кода на этапе проверки окончательный код SDL и искать ноль проблем в рискованных приложений в рабочей среде.  
  
Реализация SDL повышает уровень безопасности, включая требования к безопасности в начале сбора требований и разработки приложения предоставляет угроз моделирования рискованных приложений; требует эффективных обучение и наблюдение за разработчиков; и требует clear, согласованность кода стандарты и методики. Результирующий эффект SDL является значительные улучшения безопасности приложения снижением затрат для разработки, развертывания, поддержки и списать приложения. Несмотря на то, что подробный рассказ проектирования и реализации SDL выходит за рамки данного документа, обратитесь к [Microsoft Security Development Lifecycle](https://www.microsoft.com/security/sdl/default.aspx) подробные инструкции и сведения.  
  


