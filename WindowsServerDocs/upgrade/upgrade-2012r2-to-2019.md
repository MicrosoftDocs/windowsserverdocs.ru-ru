---
title: Обновление Windows Server 2012 R2 до Windows Server 2019 | Документация Майкрософт
description: Узнайте, как выполнить обновление на месте, чтобы перейти с Windows Server 2012 R2 на Windows Server 2019.
ms.prod: windows server
ms.technology: server-general
ms.topic: upgrade
author: RobHindman
ms.author: robhind
ms.date: 09/16/2019
ms.openlocfilehash: 173e066e6e68322d279561aca07b29ed0b9cbd9d
ms.sourcegitcommit: 27f0caf74e88781054250455c3c1adf06deb6234
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/19/2019
ms.locfileid: "71125064"
---
# <a name="upgrade-windows-server-2012-r2-to-windows-server-2019"></a>Обновление Windows Server 2012 R2 до Windows Server 2019

Если вы хотите использовать одно и то же оборудование и все роли сервера, которые уже настроены без спрямления сервера, необходимо выполнить обновление на месте. Обновление на месте позволяет перейти с более старой версии операционной системы на более новую, сохранив параметры, роли сервера и данные. Эта статья поможет вам перейти с Windows Server 2012 R2 на Windows Server 2019.

## <a name="before-you-begin-your-in-place-upgrade"></a>Перед началом обновления на месте

Перед началом обновления Windows Server рекомендуется выполнить сбор данных с устройств для диагностики и устранения неполадок. Так как эти сведения предназначены для использования только в случае сбоя обновления, необходимо убедиться в том, что информация хранится в месте, которое можно получить с устройства.

### <a name="to-collect-your-info"></a>Получение сведений

1. Откройте командную строку, перейдите к `c:\Windows\system32`и введите **systemInfo. exe**.

2. Скопируйте, вставьте и сохраните полученные сведения о системе в любом месте на устройстве.

3. Введите **ipconfig/all** в командной строке, а затем скопируйте и вставьте полученные сведения о конфигурации в то же расположение, как описано выше.

4. Откройте редактор реестра, перейдите к кусту HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\WindowsNT\CurrentVersion, а затем скопируйте и вставьте Windows Server **буилдлабекс** (Version) и **EditionID** (Edition) в то же расположение, что и ранее.

После сбора всех данных, относящихся к Windows Server, настоятельно рекомендуется создать резервную копию операционной системы, приложений и виртуальных машин. Кроме того, необходимо **завершить работу**, выполнить **быструю миграцию**или **выполнить миграцию** всех виртуальных машин, запущенных в данный момент на сервере. Во время обновления на месте не могут выполняться виртуальные машины.

## <a name="to-perform-the-upgrade"></a>Выполнение обновления

1. Убедитесь, что значение **буилдлабекс** говорит о том, что используется Windows Server 2012 R2.

2. Найдите установочный носитель Windows Server 2019 и выберите **файл Setup. exe**.

    ![Проводник, отображающий файл Setup. exe](media/upgrade-2012r2-2019/setup-2019.png)

3. Выберите **Да** , чтобы начать процесс установки.

    ![Контроль учетных записей пользователей, запрашивающий разрешение на запуск программы установки](media/upgrade-2012r2-2019/start-setup-uac-box.png)

4. Для устройств, подключенных к Интернету, выберите параметр **скачать обновления, драйверы и дополнительные компоненты (рекомендуется)** , а затем нажмите кнопку **Далее**.

    ![Страница для перехода в Интернет для получения важных обновлений Windows](media/upgrade-2012r2-2019/online-updates-win-setup.png)

5. Программа установки проверяет конфигурацию устройства, необходимо дождаться ее завершения, а затем нажать кнопку **Далее**.

6. В зависимости от канала распространения, из которого был получен носитель Windows Server (розничная, Корпоративная лицензия, OEM, ОДМ и т. д.) и лицензия на сервер, может быть предложено ввести лицензионный ключ для продолжения.

7. Выберите выпуск Windows Server 2019, который требуется установить, и нажмите кнопку **Далее**.

    ![Экран для выбора устанавливаемого выпуска Windows Server 2012 R2](media/upgrade-2012r2-2019/select-os-edition.png)

8. Выберите **принять** , чтобы принять условия лицензионного соглашения, в зависимости от вашего канала распространения (например, розничная, Корпоративная лицензия, OEM, ОДМ и т. д.).

    ![Экран для принятия лицензионного соглашения](media/upgrade-2012r2-2019/license-terms.png)

9. Программа установки рекомендует удалить Microsoft Endpoint Protection с помощью компонента " **Установка и удаление программ**".

    Эта функция несовместима с Windows Server 2019.

10. Установите флажок не использовать **личные файлы и приложения** , чтобы выполнить обновление на месте, а затем нажмите кнопку **Далее**.

    ![Выбор типа установки](media/upgrade-2012r2-2019/choose-install-upgrade.png)

11. После анализа устройства программа установки предложит перейти к обновлению, нажав кнопку **установить**.

    ![Экран готов начать обновление](media/upgrade-2012r2-2019/ready-to-install.png)

    Начинается обновление на месте, в котором отображается экран **обновления Windows** с ходом выполнения. После завершения обновления сервер перезапустится.

    ![Экран, отображающий ход выполнения обновления](media/upgrade-2012r2-2019/upgrading-windows-with-progress.png)

## <a name="after-your-upgrade-is-done"></a>После завершения обновления

После завершения обновления необходимо убедиться, что обновление до Windows Server 2019 прошло успешно.

### <a name="to-make-sure-your-upgrade-was-successful"></a>Чтобы проверить успешность обновления

1. Откройте редактор реестра, перейдите к кусту HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\WindowsNT\CurrentVersion и просмотрите поле **ProductName**. Вы должны увидеть ваш выпуск Windows Server 2019, например **Windows server 2019 Datacenter**.

2. Убедитесь, что все приложения работают и что клиентские подключения к приложениям выполнены успешно.

Если вы считаете, что во время обновления возникли проблемы, скопируйте и заархивировать каталог `C:\Windows\Panther`(обычно) и обратитесь в `%SystemRoot%\Panther` службу поддержки Майкрософт.

## <a name="related-articles"></a>Связанные статьи

- Дополнительные сведения и сведения о Windows Server 2019 см. в статье Начало [работы с Windows server 2019](https://docs.microsoft.com/windows-server/get-started-19/get-started-19).