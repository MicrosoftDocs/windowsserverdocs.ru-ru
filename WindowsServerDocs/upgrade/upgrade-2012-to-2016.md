---
title: Обновление Windows Server 2012 до Windows Server 2016 | Документация Майкрософт
description: Узнайте, как выполнить обновление на месте для перехода с Windows Server 2012 на Windows Server 2016.
ms.prod: windows server
ms.technology: server-general
ms.topic: upgrade
author: RobHindman
ms.author: robhind
ms.date: 09/16/2019
ms.openlocfilehash: 09c5a95e2ccd065f3ebbe551404064c39f803f2a
ms.sourcegitcommit: 27f0caf74e88781054250455c3c1adf06deb6234
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/19/2019
ms.locfileid: "71124724"
---
# <a name="upgrade-windows-server-2012-to-windows-server-2016"></a>Обновление Windows Server 2012 до Windows Server 2016

Если вы хотите сохранить существующее оборудование и все роли сервера, которые вы настроили, без сжатия сервера, необходимо выполнить обновление на месте. При обновлении на месте вы переходите с более старой версии операционной системы на более новую, сохраняя свои параметры, роли сервера и данные. Эта статья поможет вам перейти с Windows Server 2012 на Windows Server 2016.

Чтобы выполнить обновление до Windows Server 2019, сначала используйте сведения из этой статьи, чтобы выполнить обновление до Windows Server 2016, а затем выполните [обновление с Windows Server 2016 до Windows Server 2019](upgrade-2016-to-2019.md).

## <a name="before-you-begin-your-in-place-upgrade"></a>Подготовка к обновлению на месте

Перед началом обновления Windows Server рекомендуется выполнить сбор данных с устройств для диагностики и устранения неполадок. Так как эти сведения предназначены для использования только в случае сбоя обновления, необходимо убедиться в том, что вы храните информацию в расположении, доступ к которому можно получить с вашего устройства.

### <a name="to-collect-your-info"></a>Сбор данных

1. Откройте командную строку, перейдите в `c:\Windows\system32`, а затем введите **systeminfo.exe**.

2. Скопируйте, вставьте и сохраните полученные сведения о системе в любом расположении на устройстве.

3. Введите **ipconfig /all** в командной строке, а затем скопируйте и вставьте полученные сведения о конфигурации в то же расположение, что и ранее.

4. Откройте редактор реестра, перейдите в куст HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\WindowsNT\CurrentVersion, а затем скопируйте и вставьте значения **BuildLabEx** (версия) и **EditionID** (выпуск) для Windows Server в то же расположение, что и выше.

После получения всех данных, относящихся к Windows Server, мы настоятельно рекомендуем создать резервную копию операционной системы, приложений и виртуальных машин. Кроме того, необходимо **завершить работу**, выполнить **быструю миграцию** или **динамическую миграцию** всех виртуальных машин, выполняющихся в данный момент на сервере. Во время обновления на месте виртуальные машины не могут работать.

## <a name="to-perform-the-upgrade"></a>Выполнение обновления

1. Убедитесь, что значение **BuildLabEx** соответствует версии Windows Server 2012.

2. Найдите установочный носитель Windows Server 2016 и выберите **setup.exe**.

    ![Проводник, отображающий файл setup.exe](media/upgrade-2012-2016/setup-2016.png)

3. Выберите **Да**, чтобы начать процесс установки.

    ![Контроль учетных записей пользователей, запрашивающий разрешение на запуск программы установки](media/upgrade-2012-2016/start-setup-uac-box.png)

4. На экране Windows Server 2016 выберите **Установить сейчас**.

5. Для устройств, подключенных к Интернету, выберите **Загрузить и установить обновления (рекомендуется)** .

    ![Страница перехода в сетевой режим для получения важных обновлений Windows](media/upgrade-2012-2016/imp-updates-win-setup.png)

6. Программа установки проверяет конфигурацию устройства. Дождитесь ее завершения и щелкните **Далее**.

7. В зависимости от канала распространения, из которого был получен носитель Windows Server (розничная, корпоративная, OEM, ODM и т. д.) и лицензия на сервер, может появиться запрос на ввод лицензионного ключа для продолжения.

    ![Экран для ввода ключа продукта.](media/upgrade-2012-2016/enter-product-key.png)

8. Выберите выпуск Windows Server 2016, который вы хотите установить, а затем щелкните **Далее**.

    ![Экран для выбора устанавливаемого выпуска Windows Server 2016](media/upgrade-2012-2016/select-os-edition.png)

9. Выберите **Принимаю**, чтобы подтвердить условия лицензионного соглашения, исходя из вашего канала распространения (например, розничная, корпоративная, OEM, ODM версия и т. д.).

    ![Экран для принятия лицензионного соглашения](media/upgrade-2012-2016/license-terms.png)

10. Выберите **Сохранить личные файлы и приложения**, чтобы выполнить обновление на месте, а затем щелкните **Далее**.

    ![Экран для выбора типа установки](media/upgrade-2012-2016/choose-install-upgrade.png)

11. Если отображается страница с уведомлением о том, что обновление не рекомендуется, можно проигнорировать его и нажать кнопку **Подтвердить**. Она предназначена для того, чтобы предлагать чистую установку, но это не обязательно.

    ![Экран с кнопкой для подтверждения того, что вы хотите выполнить обновление](media/upgrade-2012-2016/confirm-upgrade-process.png)

12. Программа установки сообщит вам о необходимости удалить модуль Microsoft Endpoint Protection через оснастку **Установка и удаление программ**.

    Эта функция несовместима с Windows 10.

13. Когда программа установки завершит анализ устройства, она предложит перейти к обновлению, выбрав действие **Установить**.

    ![Экран для подтверждения готовности начать обновление](media/upgrade-2012-2016/ready-to-install.png)

    Начнется обновление на месте, в котором отображается окно **Обновление Windows** с информацией о ходе выполнения. После завершения обновления сервер перезапустится.

    ![Снимок экрана, отображающий ход выполнения обновления](media/upgrade-2012-2016/upgrading-windows-with-progress.png)

## <a name="after-your-upgrade-is-done"></a>Действия по завершении обновления

После завершения обновления необходимо убедиться, что обновление до Windows Server 2016 прошло успешно.

### <a name="to-make-sure-your-upgrade-was-successful"></a>Проверка успешности обновления

1. Откройте редактор реестра, перейдите в куст HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\WindowsNT\CurrentVersion и просмотрите запись **ProductName**. Вы должны увидеть здесь выпуск Windows Server 2016, например **Windows Server 2016 Datacenter**.

2. Убедитесь, что все приложения работают, и что подключения клиентов к приложениям выполняются успешно.

Если вы считаете, что во время обновления возникли проблемы, скопируйте и создайте архив каталога `%SystemRoot%\Panther` (обычно `C:\Windows\Panther`) и обратитесь в службу поддержки Майкрософт.

## <a name="next-steps"></a>Дальнейшие действия

Вы можете выполнить обновление на месте для перехода с версии Windows Server 2016 на Windows Server 2019. Подробные инструкции см. в статье [Upgrade Windows Server 2016 to Windows Server 2019](upgrade-2016-to-2019.md) (Обновление Windows Server 2016 до Windows Server 2019).

## <a name="related-articles"></a>Похожие статьи

- Дополнительные сведения о начале работы с Windows Server 2016 см. [здесь](https://docs.microsoft.com/windows-server/get-started/server-basics).