---
title: Службы удаленных рабочих столов. Какие технологии виртуализации данных подходят вам?
description: Сведения о планировании, помогающие выбрать правильное графическое содержимое параметра виртуализации для развертывания служб удаленных рабочих столов.
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: remote-desktop-services
ms.author: elizapo
ms.date: 03/16/2017
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: d6ff5b22-7695-4fee-b1bd-6c9dce5bd0e8
author: lizap
manager: scottman
ms.openlocfilehash: ce10575d38bccc0b22dadf55bd89156c6ce5ea7b
ms.sourcegitcommit: f6490192d686f0a1e0c2ebe471f98e30105c0844
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/10/2019
ms.locfileid: "70871047"
---
# <a name="which-graphics-virtualization-technology-is-right-for-you"></a>Какие технологии виртуализации данных подходят вам?

У вас есть несколько вариантов выбора, когда вы включаете отрисовку графики в службах удаленных рабочих столов. Следующие рекомендации определяют, какую технологию визуализации графики вы выберете при планировании среды виртуализации.

![Рекомендации прорисовки графики — это сравнение масштабов пользователя и требования графического процессора, чтобы определить лучшую технологию графического процессора для вашей среды.](media/rds-gpu.png)

В Windows Server 2016 у вас есть две технологии виртуализации графики. Они доступны с помощью технологии Hyper-V, которая позволяет использовать ресурсы графического процессора.

- [Дискретное назначение устройств (DDA)](#discrete-device-assignment). Для достижения максимальной производительности используйте один или несколько графических процессоров, выделенных для виртуальной машины, которая обеспечивает поддержку встроенного драйвера графического процессора внутри виртуальной машины. Плотность низкая, так как она ограничена рамками количества физически доступных графических процессоров на сервере. 
- [RemoteFX vGPU](#remotefx-vgpu) используется для информационного работника и сценариев высокой разбивки графического процессора, где в нескольких виртуальных машинах используется один или несколько графических процессоров через паравиртуализацию. Это решение обеспечивает более высокую плотность пользователей на каждом сервере.

Ниже показаны графики параметров виртуализации в Windows Server 2016.

![Параметры виртуализации графики в Windows Server 2016 со службами удаленных рабочих столов отображают три доступных технологии и как они отличаются по масштабу и производительности.](media/rds-graphics-virtualization.png)

## <a name="discrete-device-assignment"></a>Дискретное назначение устройств
Дискретные назначения устройств (DDA) — это аппаратное сквозное решение, которое обеспечивает лучшую производительность, учитывая, что виртуальная машина имеет полный доступ к графическому процессору, используя собственный драйвер. Пользователь вашей виртуальной машины может получить доступ ко всем возможностям своего устройства, а также к собственному драйверу устройства. Это означает, что функции и возможности работы устройства под управлением зеркала виртуальной машины управляются тем же устройством на компьютере без операционной системы.

Узнать больше о DDA можно в статье [План развертывания дискретного назначения устройств](../../virtualization/hyper-v/plan/plan-for-deploying-devices-using-discrete-device-assignment.md).

## <a name="remotefx-vgpu"></a>RemoteFX vGPU 
RemoteFX vGPU — это технология виртуализации графики, которая позволяет разделять вычислительную мощность графического процессора на различные гостевые операционные системы для включения знаний рабочих сценариев (см. первый график выше). Усовершенствования в Windows Server 2016 позволяют дополнительные параметры улучшения для пакетов сценариев графического процессора, например для конструктора приложений и визуализации данных. Другие улучшения функции состоят из:

- Поддержка для поколения 2 гостевых виртуальных машин Windows Server 2016 и узел Hyper-V Windows Client.
  >[!NOTE] 
  > Узел сеансов удаленных рабочих столов не поддерживается в Windows Server 2016 гостевой виртуальной машиной. Только один сеанс может размещаться на гостевой виртуальной машине в Windows Server 2016.

- Улучшена совместимость и стабильность приложений.
- Виртуальная машина переходит в режим расширенного сеанса, позволяя выполнять USB и перенаправление буфера обмена путем подключения к виртуальной Машине, в которой предусмотрена поддержка RemoteFX vGPU.

Узнайте больше о [Установка и настройка RemoteFX vGPU для служб удаленных рабочих столов](rds-remotefx-vgpu.md).

## <a name="which-should-you-use"></a>Вы можете использовать.

Основные рекомендации относительно того, какая технология виртуализации может зависеть от технических характеристик оборудования или требований приложений в вашей среде. Ниже приведена короткая таблица, в которой описаны возможности DDA и RemoteFX vGPU.

| Функция               | RemoteFX vGPU                                                                       | Дискретное назначение устройств                                             |
|-----------------------|-------------------------------------------------------------------------------------|------------------------------------------------------------------------|
| Назначение устройств графического процессора | Паравиртуализация (множество виртуальных машин для одного или нескольких графических процессоров)                                     | Один или более графический процессор для одной виртуальной Машины.                                                  |
| Масштаб                 | Оптимальное состояние / один графический процессор для нескольких виртуальных машин.                                                      | Худшее состояние / один или несколько графических процессоров для одной виртуальной машины.                                     |
| Совместимость приложений     | DX 11.1, OpenGL 4.4, OpenCL 1.1                                                     | Все возможности графического процессора, предоставляемое поставщиком (12 DX, OpenGL, CUDA).          |
| AVC444                | Включено по умолчанию (Windows 10 и Windows Server 2016)                             | Доступные с помощью групповой политики (Windows 10 и Windows Server 2016)    |
| Видеопамять графического процессора.              | До 1 ГБ выделенной видеопамяти                                                           | К видеопамяти, поддерживаемой графическим процессором.                                        |
| Частота кадров            | До 30 кадров в секунду.                                                                         | До 60 кадров в секунду.                                                            |
| Драйвер графического процессора в гостевом режиме.   | Драйвер 3D-видеоадаптера RemoteFX (Майкрософт)                                      | Драйвера графического процессора стороннего поставщика (Nvidia, AMD, Intel)                                 |
| Поддержка гостевых операционных систем      |  Windows Server 2012 R2  Windows Server 2016  Windows 7 SP1  Windows 8.1 Windows 10 |  Windows Server 2012, Windows Server 2016 R2, Windows Server 10         |
| Низкоуровневая оболочка            | Microsoft Hyper-V                                                                   | Microsoft Hyper-V                                                      |
| Доступность узла операционной системы  |  Windows Server 2012 R2  Windows Server 2016 Windows 10                             | Windows Server 2016                                                    |
| Оборудование графического процессора          | Графические процессоры корпоративного класса (например, Nvidia Quadro/GRID или AMD FirePro)                         | Графические процессоры корпоративного класса (например, Nvidia Quadro/GRID или AMD FirePro)            |
| Настройка серверного оборудования.       | Никаких особых требований                                                             | Современный сервер предоставляет IOMMU для операционной системы (обычно соответствующее оборудование SR-IOV) |

Общепринято использовать DDA для обеспечения лучшей совместимости приложений, так как виртуальная машина будет иметь прямой доступ к графическому процессору. Если приложения или рабочие нагрузки не имеют строгих требований к графическому процессору и вы хотите обслуживать более широкую базу пользователей, RemoteFX vGPU может подойти вам лучше всего.