---
title: Общие сведения о общий доступ к файлам с помощью протокола SMB 3 в Windows Server
description: Сведения об использовании протокол SMB 3 для общих файлов и файлов работает с Windows Server.
ms.prod: windows-server-threshold
ms.topic: article
author: JasonGerend
ms.author: jgerend
ms.technology: storage
ms.date: 07/09/2018
ms.localizationpriority: medium
ms.openlocfilehash: fc4c8b341ee78db80f862ee412400f0a930fe810
ms.sourcegitcommit: 375e94dc70c76e7aa5679c32f0f4dbc26cf7dd83
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/10/2018
ms.locfileid: "2233490"
---
# <a name="overview-of-file-sharing-using-the-smb-3-protocol-in-windows-server"></a>Общие сведения о общий доступ к файлам с помощью протокола SMB 3 в Windows Server

>Применимо к: Windows Server 2012 R2, Windows Server 2012, Windows Server 2016

В этом разделе описываются функции SMB 3.0 в Windows Server® 2012, Windows Server 2012 R2 и Windows Server 2016 — практические использует новые функции, наиболее важные или обновленные функции в этой версии по сравнению с предыдущими версиями и оборудование требования к.

## <a name="feature-description"></a>Описание компонента

Протокол SMB — это сетевой протокол для общего доступа к файлам, который позволяет приложениям компьютера читать и записывать файлы, а также запрашивать службы серверных программ в компьютерной сети. Протокол SMB может использоваться поверх протокола TCP/IP или других сетевых протоколов. С помощью протокола SMB приложение (или использующий его пользователь) может получать доступ к файлам и другим ресурсам удаленного сервера. Это позволяет приложениям читать, создавать и обновлять файлы на удаленном сервере. Этот протокол может также обмениваться данными с любой серверной программой, которая настроена на получение клиентских запросов SMB. Windows Server 2012 представляется новой версии 3.0 протокол SMB.

## <a name="practical-applications"></a>Практическое применение

В этом разделе рассматриваются некоторые новые практические способы использования новый протокол SMB 3.0.

* **Хранение файлов для виртуализации (Hyper-V™ по SMB)**. Hyper-V можно хранить файлы виртуальной машины, такие как конфигурации, файлы жесткого диска (VHD) виртуальной и моментальные снимки, в общих папках через протокол SMB 3.0. Это можно использовать для автономного файловые серверы и кластерные файловые серверы, использующие Hyper-V вместе с хранение общих файлов для кластера.
* **Microsoft SQL Server по SMB**. SQL Server может хранить файлы базы данных пользователей на файловых ресурсов SMB. На данный момент это поддерживается в SQL Server 2008 R2 для изолированного сервера SQL. Будущих версий SQL Server добавит поддержка кластерные серверы SQL Server и системные базы данных.
* **Традиционные хранилища данных конечных пользователей**. Протокол SMB 3.0 обеспечивает улучшения для информационных работников (или клиента) рабочих нагрузок. Ниже перечислены эти усовершенствования Уменьшение задержки приложения, из-за branch office пользователей при атак, доступ к данным по глобальной сети (WAN) и защита данных от подслушивания.

## <a name="new-and-changed-functionality"></a>Новые и измененные функции

Сведения о новых и измененных функций в Windows Server 2012 R2 изучите статью [новые в SMB в Windows Server](<https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/hh831474(v%3dws.11)>).

SMB в Windows Server 2012 и Windows Server 2016 включает в себя новый протокол SMB 3.0 и многие новые усовершенствования, описываются в следующей таблице.

<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Компонент или функция</p></th>
<th><p>Новинка или обновление</p></th>
<th><p>Краткий обзор</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>SMB Transparent Failover</p></td>
<td><p>Новый</p></td>
<td><p>Позволяет администраторам выполнять обслуживание оборудования или программного обеспечения узлов в кластеризованных файлового сервера, не прерывая серверных приложений, хранение данных в этих общих папках. Кроме того в случае сбоя оборудования или программного обеспечения на узле кластера клиентов SMB прозрачно повторное подключение на другой узел кластера, не прерывая серверных приложений, которые данные хранятся в этих общих папках.</p></td>
</tr>
<tr class="even">
<td><p>SMB горизонтальное масштабирование</p></td>
<td><p>Новый</p></td>
<td><p>Использование кластера общих томах (CSV) версии 2, администраторы могут создавать файловые ресурсы, которые обеспечивают одновременный доступ к файлам данных с помощью прямого ввода-вывода, через все узлы кластера серверов файла. Это обеспечивает лучшее использование пропускной способности сети и балансировку нагрузки на клиентов сервера файл и оптимизация производительности для серверов приложений.</p></td>
</tr>
<tr class="odd">
<td><p>SMB multichannel</p></td>
<td><p>Новый</p></td>
<td><p>Включает объединение пропускная способность сети и отказоустойчивость сети при наличии нескольких путей между клиентом SMB 3.0 и сервер SMB 3.0. Это позволяет пользоваться всеми преимуществами всех имеющаяся пропускная способность сети и к сбой сети сервера приложений.</p></td>
</tr>
<tr class="even">
<td><p>SMB Direct</p></td>
<td><p>Новый</p></td>
<td><p>Поддерживает использование сетевых адаптеров, которые имеют возможность RDMA и может работать с максимальной скоростью с очень низкой задержке при работе с очень маленьким ЦП. Для рабочих нагрузок, такие как Hyper-V или Microsoft SQL Server это позволит серверу удаленного файла напоминать локального хранилища.</p></td>
</tr>
<tr class="odd">
<td><p>Счетчики производительности для сервера приложений</p></td>
<td><p>Новый</p></td>
<td><p>Новые SMB производительности, предоставляемых счетчики подробное описание, каждого общего ресурса сведения о пропускной способности, задержке и операций ввода-вывода в секунду (IOPS), позволяя администраторам анализа производительности SMB 3.0 Общие файловые ресурсы хранения данных. Эти счетчики специально для серверных приложений, таких как Hyper-V и SQL Server, которые хранятся файлы в удаленных общих папках.</p></td>
</tr>
<tr class="even">
<td><p>Оптимизация производительности</p></td>
<td><p>Обновленный</p></td>
<td><p>SMB 3.0 сервера и клиента SMB 3.0 оптимизированные для ввода-вывода небольшой произвольного чтения и записи, которая обычно используется для серверных приложений, таких как SQL Server OLTP. Кроме того большой максимальный данных (MTU) включена по умолчанию, что значительно повышает производительность в большой последовательной передачи данных, например хранилища данных SQL Server, резервную копию базы данных или восстановление, развертывание и копирование виртуальные жесткие диски.</p></td>
</tr>
<tr class="odd">
<td><p>SMB командлетов Windows PowerShell</p></td>
<td><p>Новый</p></td>
<td><p>С помощью командлетов Windows PowerShell для SMB администратор может управлять общие папки на файловом сервере сквозного, с помощью командной строки.</p></td>
</tr>
<tr class="even">
<td><p>SMB Encryption</p></td>
<td><p>Новый</p></td>
<td><p>Предоставляет начала до конца шифрование данных SMB и защищает данные от подслушивания вхождений в ненадежных сетях. Требуется нет новых затраты на развертывание и не требуется выполнять протокола Интернета протокола IPSec, специального оборудования или ускорители глобальной сети. Можно настроить на основе каждой папки или для всей файлового сервера и может быть включена поддержка различных сценариях, где данные проходят через ненадежных сетей.</p></td>
</tr>
<tr class="odd">
<td><p>SMB Directory leasing</p></td>
<td><p>Новый</p></td>
<td><p>Улучшает время отклика приложения в офисах филиалов. С помощью каталога аренды, уменьшается обращений от клиента на сервер с момента метаданных извлекается из более профессионально каталог кэша. Согласование кэш-памяти сохраняется, так как клиенты уведомления, когда изменяется каталог сведений на сервере. Работа с сценарии для <em>HomeFolder</em> (чтение/запись без использования общих) и <em>публикации</em> (только для чтения с помощью общего доступа).</p></td>
</tr>
</tbody>
</table>

## <a name="hardware-requirements"></a>Требования к оборудованию

SMB Transparent Failover, применяются следующие требования:

* Отказоустойчивый кластер под управлением Windows Server 2012 или Windows Server 2016 с по крайней мере два узла, настроенных. Кластер должен пройти тесты проверки кластера, включенные в мастере проверки.
* Общие файловые ресурсы должны создаваться с помощью свойства непрерывной доступности (ЦС), по умолчанию.
* Общие файловые ресурсы должны быть созданы на пути тома CSV для достижения SMB горизонтального масштабирования.
* Клиентских компьютеров должна быть запущена Windows® 8 или Windows Server 2012, которые включают обновленный клиент SMB, поддерживающего непрерывной доступности.

>[!NOTE]
>Нижнего уровня клиенты могут подключаться к общим ресурсам, которые имеют свойства центра сертификации, но не будут поддерживаться transparent failover; для этих клиентов.

SMB multichannel; применяются следующие требования:

* Необходимы по крайней мере два компьютера под управлением Windows Server 2012. Нет дополнительных функций необходимо установить — технологии включено по умолчанию.
* Сведения о конфигурациях рекомендуемые сети обратитесь к разделу см в конце этой обзорной теме.

Прямое SMB, применяются следующие требования:

* Необходимы по крайней мере два компьютера под управлением Windows Server 2012. Нет дополнительных функций необходимо установить — технологии включено по умолчанию.
* Сетевые адаптеры с возможностью RDMA являются обязательными. На данный момент доступны эти адаптеры в три различных типа: iWARP Infiniband или RoCE (RDMA через Ethernet специализирующимся).

## <a name="more-information"></a>Дополнительные сведения

В следующем списке приведены дополнительные ресурсы о SMB и связанных технологиях в Windows Server 2012 R2, Windows Server 2012 и Windows Server 2016 в Интернете.

* [Хранилище в Windows Server](../storage.md)
* [Горизонтального масштабирования файлового сервера для данных приложения](../../failover-clustering/sofs-overview.md)
* [Улучшить производительность файлового сервера с SMB Direct](smb-direct.md)
* [Развертывание Hyper-V при SMB](<https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/jj134187(v%3dws.11)>)
* [Развертывание SMB multichannel](<https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/dn610980(v%3dws.11)>)
* [Развертывание быстрее и эффективнее файловые серверы для сервера приложений](<https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/hh831723(v%3dws.11)>)
* [SMB: Руководство по диагностике](<https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/dn659439(v%3dws.11)>)