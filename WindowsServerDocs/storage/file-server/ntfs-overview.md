---
title: Обзор NTFS
description: Описание новые возможности NTFS.
ms.prod: windows-server-threshold
ms.topic: article
author: JasonGerend
ms.author: jgerend
ms.technology: storage
ms.date: 09/06/2018
ms.localizationpriority: medium
ms.openlocfilehash: 556110fe7bed1aed002ef6d985324ff5171e770e
ms.sourcegitcommit: 5ed023a2ef3a9002daf41c7717feb1df186d2a14
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/02/2019
ms.locfileid: "9122107"
---
# Обзор NTFS

>Область применения: Windows 10, Windows Server 2016, Windows Server 2012 R2, Windows Server 2012, Windows Server 2008 R2, Windows Server 2008

NTFS — основная файловая система в последних версиях Windows и Windows Server — предоставляет полный набор возможностей, включая дескрипторы безопасности, шифрование, дисковые квоты и расширенные метаданные и может использоваться с томами общего кластера (CSV) для предоставления постоянно доступные тома, к которым можно осуществлять одновременно с нескольких узлов отказоустойчивого кластера.

Дополнительные сведения о новых и измененных функциях в файловой системе NTFS в Windows Server 2012 R2, см. в разделе [новые возможности в NTFS](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/dn466520(v%3dws.11)). Сведения о дополнительных компонентов см. в разделе разделе [Дополнительная информация](#additional-information) в этом разделе. Дополнительные сведения о новой Resilient File System (ReFS), см. в разделе [Обзор Resilient File System (ReFS)](../refs/refs-overview.md).

## Практическое применение

### Повышенная надежность

NTFS использует свои сведения о журнале файла и контрольную точку для восстановления целостности файловой системы при перезапуске компьютера после сбоя системы. После ошибку поврежденного сектора NTFS динамически указывает кластере, который содержит поверженных секторов, выделяет новый кластер для данных, помечает исходному кластеру как поврежденные и больше не используется старый кластер. Например после сбоя сервера NTFS можно восстановить данные, воспроизведение файлы журналов.

NTFS непрерывно следит за и устраняет проблемы промежуточный повреждения в фоновом режиме без учета тома в автономный режим (эта возможность называется [устраняются без вмешательства пользователя NTFS](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc771388(v=ws.10)), появившихся в Windows Server 2008). Для более крупных проблем повреждения служебную программу Chkdsk, в Windows Server 2012 и более поздних версиях, сканирование и анализирует диска, а том подключен, ограничения времени автономный время, необходимое для восстановления целостности данных в томе. При использовании NTFS с общими томами кластера без простоев и не требуется. Дополнительные сведения см. в разделе [NTFS работоспособности и Chkdsk](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/hh831536(v%3dws.11)).

### Повышенной безопасности

- **Безопасность на основе списка Управления доступом к файлам и папкам**— NTFS позволяет задать разрешения для файла или папки, укажите групп и пользователей, которых вы хотите ограничить или разрешить доступ и выберите тип доступа.

- **Поддержка шифрования диска BitLocker**, шифрование диска BitLocker обеспечивает дополнительную защиту для системная информация и другие данные, хранящиеся в файловой системе NTFS. Начиная с Windows Server 2012 R2 и Windows 8.1, BitLocker обеспечивает поддержку шифрования устройства в x86 и x64-разрядных компьютеров с доверенным платформенным модулем (TPM) подключенное поддерживает ждущий (ранее доступно только на устройствах Windows RT). Шифрование устройств помогает защитить данные на компьютерах под управлением Windows, и помогает блокировать злонамеренных пользователей, доступ к файлам системы, они используют для обнаружения пароль пользователя, или получить доступ к диска, физически удалить его из компьютера и установив ее на другое имя. Дополнительные сведения см. в разделе [новые возможности BitLocker](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/dn306081(v%3dws.11)).

- **Поддержка больших томов**— NTFS может поддерживать тома размером 256 терабайтов. Поддерживаемые размеры влияет размер кластера и число кластеров тома. С помощью (2<sup>32</sup> – 1) поддерживаются кластеры (максимальное количество кластеров, поддерживаемых файловой системой NTFS), следующие тома и размеры файлов.

  |Размер кластера|Том максимально|Самый большой из файлов|
  |---|---|---|
  |4 КБ (размер по умолчанию)|16 ТБ|16 ТБ|
  |8 КБ|32 ТБ|32 ТБ|
  |16 КБ|64 ТБ|64 ТБ|
  |32 КБ|128 ТБ|128 ТБ|
  |64 КБ (максимальный размер)|256 ТБ|256 ТБ|

>[!IMPORTANT]
>Служб и приложений может установить дополнительные ограничение на размер файла и тома. Например ограничение на размер тома является 64 ТБ, если вы используете средство предыдущих версий или резервного копирования приложение, которое позволяет использовать моментальные снимки службы теневого копирования томов (VSS) (и вы не используете SAN или RAID корпусу). Тем не менее необходимо использовать меньшего размера тома в зависимости от рабочей нагрузки и производительность хранилища.

### Форматирование требования для больших файлов

Чтобы обеспечить правильное расширение большой vhdx-файлы, существует новые рекомендации для форматирования тома. При форматировании томов, которые будут использоваться с дедупликации данных или будут размещены очень больших файлов, например vhdx-файлы размером более 1 ТБ, этот командлет **Форматирование тома** в Windows PowerShell со следующими параметрами.

|Параметр|Описание|
|---|---|
|-AllocationUnitSize 64 КБ|Задает 64 КБ NTFS размер кластера.|
|-UseLargeFRS|Включает поддержку сегменты записи больших файлов (FRS). Это необходимо, чтобы увеличить количество размеры, разрешенные для файла на томе. Для больших записей FRS ограничение увеличивается с 1,5 миллиона размеры около 6 миллионов размеры.|

Например следующие форматы командлет диск D как том NTFS, FRS включен и размер кластера 64 КБ.

```PowerShell
Format-Volume -DriveLetter D -FileSystem NTFS -AllocationUnitSize 64KB -UseLargeFRS
```

Также можно использовать команду **Формат** . В командной строке системы введите следующую команду, **где/l** форматирует большими объемами FRS и **/A:64 k** задает размером 64 КБ.

```PowerShell
format /L /A:64k
```

### Максимальное имя и путь

Файловая система NTFS поддерживает длинные имена файлов и расширенные длины пути, со следующими значениями максимальное:

- **Поддержка длинными именами файлов с обратной совместимостью**— NTFS позволяет длинные имена файлов, хранение 8.3 псевдоним на диске (в Юникода) для обеспечения совместимости с файловыми системами, которые определяют 8.3 увеличена имена файлов и расширения. При необходимости (для повышения производительности), вы можете отключить выборочно 8.3 искажения для отдельных томов NTFS в Windows Server 2008 R2, Windows 8 и более поздних версиях операционной системы Windows.
  В Windows Server 2008 R2 и более поздних версиях систем короткие имена будут отключены по умолчанию при форматировании тома с помощью операционной системы. Для обеспечения совместимости приложений короткие имена по-прежнему включены на системном томе.

- **Поддержка для расширенного длины пути**, многие API-функции Windows имеют разрешить расширенный длины пути приблизительно 32 767 символов Юникода версии — за пределы ограничение путь 260 символов, определенное параметром MAX\_PATH. Подробные имя файла и требования к формату пути и рекомендации по реализации расширенного длины пути см. в разделе [имена файлов, путей и пространств имен](https://msdn.microsoft.com/library/windows/desktop/aa365247).

- **Кластерный хранилища**— при использовании в отказоустойчивых кластерах, файловая система NTFS поддерживает томов непрерывной доступности, которые может осуществляться из нескольких узлов кластера одновременно при использовании в сочетании с общими томами кластера (CSV) файловой системы. Дополнительные сведения см. в разделе [Использование общих томов кластера в отказоустойчивом кластере](../../failover-clustering/failover-cluster-csvs.md).

### Гибкие выделение емкости

Если ограничено место в томе NTFS предоставляет следующие возможности для работы с емкость сервера:

- Дисковые квоты используются для отслеживания и контроля использования дискового пространства в файловой системе NTFS для отдельных пользователей.
- Используйте сжатие файловой системы, чтобы максимально увеличить объем данных, которые могут быть сохранены.
- Увеличьте размер тома NTFS, добавив нераспределенного пространства на том же диске или на другой диск.
- Подключите том к пустой папке на локальном томе NTFS, если одинарной буквы дисков или необходимо создать дополнительное пространство, доступное с существующей папки.

## Дополнительные сведения

|Тип содержимого|Ссылки|
|---|---|
|Оценка|- [Новые возможности NTFS](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/dn466520(v%3dws.11)) (Windows Server 2012 R2)<br>- [Новые возможности NTFS](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/ff383236(v=ws.10)) (Windows Server 2008 R2, Windows 7)<br>- [NTFS работоспособности и Chkdsk](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/hh831536(v%3dws.11))<br>- [Устраняются без вмешательства пользователя NTFS](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc771388(v=ws.10)) (впервые появилась в Windows Server 2008)<br>- [Пока не закроете NTFS](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2008-r2-and-2008/cc730726(v%3dws.10)) (впервые появилась в Windows Server 2008)|
|Ресурсы сообщества|- [Блог группы хранилища Windows](https://blogs.msdn.microsoft.com/san/)|
|Связанные технологии|- [Хранилище в Windows Server](../storage.md)<br>- [Использование общих томов в отказоустойчивом кластере кластера](../../failover-clustering/failover-cluster-csvs.md)<br>-В [Общие тома кластера](<https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/hh831630(v%3dws.11)#cluster-shared-volumes>) и [Проектирования локальных](<https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/hh831630(v%3dws.11)#storage-design>) разделах [Проектирование](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/hh831630(v%3dws.11)) инфраструктуры облака <br>- [Дисковые пространства](../storage-spaces/overview.md)<br>- [Обзор файловой системы (ReFS)](../refs/refs-overview.md)
