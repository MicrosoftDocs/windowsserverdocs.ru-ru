---
title: Обзор пространств имен DFS
ms.prod: windows-server-threshold
ms.author: jgerend
ms.manager: brianlic
ms.technology: storage
ms.topic: article
author: jasongerend
ms.date: 10/15/2018
description: В этом разделе описываются пространства имен DFS — служба роли в Windows Server, которая позволяет объединять общие папки, находящиеся на разных серверах, в одно или несколько логически структурированных пространств имен.
ms.openlocfilehash: 0f80e5a25254513702c25ce895a28c4cb1e0f2b4
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59844255"
---
# <a name="dfs-namespaces-overview"></a>Обзор пространств имен DFS

> Относится к: Windows Server 2019, Windows Server (полугодовой канал), Windows Server 2016, Windows Server 2012 R2, Windows Server 2012, Windows Server 2008 R2, Windows Server 2008

Пространства имен DFS — это служба роли в Windows Server, которая предоставляет возможность объединения общих папок, находящихся на разных серверах, в одно или несколько логически структурированных пространств имен. Это делает возможным предоставлять пользователям виртуальное представление общих папок, где один путь ведет к файлам, расположенным на нескольких серверах, как показано на следующем рисунке.

![Элементы технологии пространства имен DFS](media/dfs-overview.png)

Далее приведено описание элементов, из которых состоит пространство имен DFS:

- **Сервер пространства имен**. Сервер пространства имен, содержащий пространство имен. Сервер пространства имен может быть рядовым сервером или контроллером домена.
- **Корень пространства имен**. Корень пространства имен является отправной точкой пространства имен. На предыдущем рисунке, имя корня является открытым и пути к пространству имен является \\ \\Contoso\\открытый. Этот тип пространства имен является доменного пространства имен, поскольку он начинается с имени домена (например, Contoso), а его метаданные хранятся в доменных службах Active Directory (AD DS). Несмотря на то что на предыдущем рисунке показан один сервер пространства имен, доменное пространство имен можно размещать на нескольких серверах пространства имен, чтобы повысить доступность пространства имен.
- **Папка**. Папки без конечных объектов-папок образуют структуру и иерархию в пространстве имен, а папки с целевыми объектами-папками предоставляют пользователям фактическое содержимое. Когда пользователи просматривают папку, содержащую конечные объекты-папки в пространстве имен, клиентский компьютер получает направление, которое прозрачно перенаправляет клиентский компьютер к одному из конечных объектов папки.
- **Конечные объекты-папки** Конечный объект-папка — это путь UNC к общей папке или к другому пространству имен, которое связано с папкой в пространстве имен. Конечный объект-папка — это место, в котором хранятся данные и содержимое. На предыдущем рисунке у папки с именем Tools есть два конечных объекта-папки — в Лондоне и в Нью-Йорке — а папка с именем Training Guides имеет один конечный объект-папку в Нью-Йорке. Пользователь, просматривающий \\ \\Contoso\\открытый\\программного обеспечения\\средства прозрачно перенаправляется к общей папке \\ \\LDN-SVR-01\\средства или \\ \\Нью-ЙОРКА-SVR-01\\средств, в зависимости от того, какой узел пользователь в настоящее время находятся в.

Данный раздел описывает, как установить DFS, что в ней нового и где найти сведения об оценке и развертывании.

Пространства имен можно администрировать с помощью управления DFS [командлетов пространства имен DFS (DFSN) в Windows PowerShell](https://docs.microsoft.com/powershell/module/dfsn/?view=win10-ps), команды **DfsUtil** или сценариев под названием WMI.

## <a name="server-requirements-and-limits"></a>Требования к серверу и ограничения

Дополнительные требования к оборудованию или программному обеспечению для выполнения управления DFS или использования пространств имен DFS отсутствуют.

Сервер пространства имен — это контроллер домена или рядовой сервер, на котором размещается пространство имен. Количество пространств имен, которые могут размещаться на сервере, определяется операционной системой на сервере пространства имен.

На серверах под управлением следующих операционных систем может размещаться по несколько доменных пространств имен в дополнение к одному изолированному пространству имен: 

- Windows Server (Semi-Annual Channel)
- Windows Server 2016
- Windows Server 2012 R2
- Windows Server 2012
- Windows Server 2008 R2 Datacenter и Enterprise

На серверах под управлением следующих операционных систем может размещаться одно изолированное пространство имен:

- Windows Server 2008 R2 Standard

В следующей таблице приведены дополнительные факторы, которые следует учитывать при выборе серверов для размещения пространства имен.

|Сервер, на котором размещаются изолированные пространства имен|Сервер, на котором размещаются доменные пространства имен|
|---|---|
|Должен содержать том NTFS для размещения пространства имен.|Должен содержать том NTFS для размещения пространства имен.|
|Может быть рядовым сервером или контроллером домена.|Должен быть рядовым сервером или контроллером домена в домене, в котором настроено пространство имен. (Это требование относится к каждому серверу пространства имен, на котором размещено конкретное доменное пространство имен.)|
|Может размещаться на отказоустойчивом кластере для повышения доступности пространства имен.|Пространство имен не может быть кластерным ресурсом в отказоустойчивом кластере. Тем не менее пространство имен можно разместить на сервере, который также выполняет функции узла в отказоустойчивом кластере, если вы настроите пространство имен для использования только локальных ресурсов на этом сервере.|

## <a name="installing-dfs-namespaces"></a>Установка пространств имен DFS

Пространства имен DFS и репликация DFS являются частью роли "Файловые службы и службы хранения". Средства управления для DFS ("Управление DFS", модуль пространств имен DFS для Windows PowerShell, а также средства командной строки) устанавливаются отдельно в рамках средств администрирования удаленного сервера.

Установка пространств имен DFS с помощью [Windows Admin Center](../../manage/windows-admin-center/understand/windows-admin-center.md), диспетчер серверов или PowerShell, как описано в следующих разделах.

### <a name="to-install-dfs-by-using-server-manager"></a>Чтобы установить DFS с помощью диспетчера серверов

1. Откройте диспетчер серверов, щелкните **Управление**, а затем нажмите кнопку **Добавить роли и компоненты**. Откроется мастер добавления ролей и компонентов.

2. На странице **Выбор сервера** выберите сервер или виртуальный жесткий диск автономной виртуальной машины, на который требуется установить DFS.

3. Выберите службы ролей и компоненты, которые следует установить.

    - Чтобы установить службу пространств имен DFS, на странице **Роли сервера** выберите **Пространства имен DFS**.

    - Чтобы установить только средства управления DFS, на странице **Компоненты** разверните узлы **Средства администрирования удаленного сервера**, **Средства администрирования ролей**, **Средства файловых служб**, а затем выберите **Средства управления DFS**.

         Компонент**Средства управления DFS** устанавливает оснастку "Управление DFS", модуль "Пространства имен DFS" для Windows PowerShell и средства командной строки, но не устанавливает на сервер никаких служб DFS.

### <a name="to-install-dfs-by-using-windows-powershell"></a>Установка DFS с помощью Windows PowerShell

Откройте сеанс Windows PowerShell с повышенными правами и введите следующую команду, где < имя\> — это служба роли или компонент, который вы хотите установить (см. ниже таблицу со списком соответствующих имен служб ролей или компонентов):

```PowerShell
Install-WindowsFeature <name>
```

|Служба роли или компонент|Имя|
|---|---|
|Пространства имен DFS|`FS-DFS-Namespace`|
|Средства управления DFS|`RSAT-DFS-Mgmt-Con`|

Например, для установки средств распределенной файловой системы, включенных в компонент средств удаленного администрирования сервера, введите:

```PowerShell
Install-WindowsFeature "RSAT-DFS-Mgmt-Con"
```

Для установки таких частей компонента средств удаленного администрирования сервера, как "Пространства имен DFS" и "Средства распределенной файловой системы", введите:

```PowerShell
Install-WindowsFeature "FS-DFS-Namespace", "RSAT-DFS-Mgmt-Con"
```

## <a name="interoperability-with-azure-virtual-machines"></a>Взаимодействие с виртуальными машинами Azure

Использование пространств имен DFS на виртуальной машине в Microsoft Azure было протестировано; однако существуют некоторые ограничения и требования, которые необходимо выполнить.

- Нельзя кластеризовать автономные пространства имен в виртуальных машинах Azure.

- Вы можете разместить доменных пространств имен в виртуальных машинах, включая среды с Azure Active Directory.

Дополнительные сведения о начале работы с виртуальными машинами Azure см. в [документации по виртуальным машинам Azure](https://docs.microsoft.com/azure/virtual-machines/).

## <a name="see-also"></a>См. также

Дополнительные сведения по данной теме см. на следующих ресурсах.

|Тип содержимого|Ссылок|
|------------------|----------------|
|**Оценка продукта**|[Новые возможности пространств имен DFS и репликации DFS в Windows Server](https://technet.microsoft.com/library/dn281957(v=ws.11).aspx)|
|**Развертывание**|[Вопросы масштабируемости пространства имен DFS](http://blogs.technet.com/b/filecab/archive/2012/08/26/dfs-namespace-scalability-considerations.aspx)|
|**Операции**|[Пространства имен DFS: Часто задаваемые вопросы](https://technet.microsoft.com/library/ee404780.aspx)|
|**Ресурсы сообщества**|[Файловые службы и форум TechNet хранилища](https://social.technet.microsoft.com/forums/winserverfiles/threads/)|
|**Протоколы**|[Файловых служб протоколов в Windows Server](https://msdn.microsoft.com/en-us/library/cc239318.aspx) (устаревшая версия)|
|**Связанные технологии**| [Отказоустойчивая кластеризация](../../failover-clustering/failover-clustering-overview.md)|
|**Поддержка**|[Windows ИТ-специалистов поддержки](https://www.microsoft.com/itpro/windows/support)|
