---
ms.assetid: c91c7196-ee0d-4856-8cfb-4c38494ccf1f
title: Обзор рабочих папок
ms.prod: windows-server
ms.technology: storage-work-folders
ms.topic: article
author: JasonGerend
manager: dougkim
ms.author: jgerend
ms.date: 06/15/2020
description: Обзор рабочих папок — роли сервера в Windows Server, которая предоставляет пользователям согласованный способ доступа к рабочим файлам с компьютеров и других устройств.
ms.openlocfilehash: f48c03d97cab94f836ef6fafa77fccf07a04331b
ms.sourcegitcommit: 44a96d505b5c96da62937f5dd2d724342ee9d835
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/22/2020
ms.locfileid: "85141033"
---
# <a name="work-folders-overview"></a>Обзор рабочих папок

>Область применения: Windows Server (половина ежегодного канала), Windows Server 2019, Windows Server 2016, Windows Server 2012 R2, Windows 10, Windows 8.1, Windows 7

В этой статье рассматриваются рабочие папки — служба роли для файловых серверах под управлением Windows Server, которая реализует согласованный способ предоставления пользователям доступа к рабочим файлам на их компьютерах и устройствах.  
  
Если вы хотите скачать или использовать рабочие папки на устройствах с Windows 10, Windows 7 или Android или iOS, см. следующие сведения:

- [Рабочие папки для Windows 10](https://support.microsoft.com/help/12370/windows-10-work-folders)
- [Рабочие папки для Windows 7 (загрузить 64-разрядную версию)](https://www.microsoft.com/download/details.aspx?id=42558)
- [Рабочие папки для Windows 7 (загрузить 32-разрядную версию)](https://www.microsoft.com/download/details.aspx?id=42559)
- [Рабочие папки для iOS](https://itunes.apple.com/app/work-folders/id950878067)
- [Рабочие папки для Android](https://play.google.com/store/apps/details?id=com.microsoft.workfolders)

## <a name="role-description"></a>Описание роли

 Благодаря рабочим папкам пользователи могут хранить рабочие файлы и получать к ним доступ не только на компьютерах предприятия, но и на личных компьютерах и устройствах в рамках концепции "Принеси свое устройство" (BYOD). Пользователи получают удобное место для хранения рабочих файлов и доступа к ним из любого места. Организации контролируют корпоративные данные, храня файлы на централизованно управляемых файловых серверах и при необходимости задавая политики устройств пользователей (такие как шифрование и пароли блокировки экрана).  
  
 Рабочие папки можно развернуть в существующих развертываниях перенаправления папок, автономных файлов и домашних папок. При использовании рабочих папок файлы пользователей хранятся в папке на сервере, которая называется *общим ресурсом синхронизации*. Вы можете указать папку, которая уже содержит данные пользователей, что позволит использовать рабочие папки без переноса данных и серверов или немедленного вывода существующего решения из эксплуатации.  
  
## <a name="practical-applications"></a>Практическое применение

 Администраторы могут использовать рабочие папки, чтобы предоставлять пользователям доступ к рабочим файлам, сохранив при этом возможности централизованного хранения данных организации и управления ими. Вот некоторые примеры применения рабочих папок:  
  
-   единая точка доступа к рабочим файлам на рабочих и персональных компьютерах и устройствах пользователей;  
  
-   доступ к рабочим файлам в автономном режиме и синхронизация с центральным файловым сервером, если компьютер или устройство подключены к Интернету или интрасети;  
  
-   развертывание с существующими развертываниями перенаправления папок, автономных файлов и домашних папок;  
  
-   использование имеющихся технологий управления файловыми серверами, таких как классификация файлов и квоты папок, для управления данными пользователей;  
  
-   настройка политик безопасности для шифрования рабочих папок и применения пароля на экране блокировки на компьютерах и устройствах пользователей;  
  
-   использование отказоустойчивого кластера с рабочими папками для обеспечения высокой доступности.  
  
## <a name="important-functionality"></a>Важные функции

 Ниже перечислены некоторые важные функции рабочих папок.  
  
| Функциональность | Доступность | Описание |  
| ------------------- | ------------------ | ----------------- |  
| Служба роли рабочих папок в диспетчере серверов | Windows Server 2019, Windows Server 2016 или Windows Server 2012 R2 | Службы файлов и хранилищ позволяют настроить общие ресурсы синхронизации (папки, в которых хранятся рабочие файлы пользователей), отслеживают рабочие папки и общими ресурсами синхронизации и доступом пользователей |
| Командлеты рабочих папок | Windows Server 2019, Windows Server 2016 или Windows Server 2012 R2 | Модуль Windows PowerShell, который содержит полный набор командлетов для управления серверами рабочих папок |  
| Интеграция рабочих папок с Windows | Windows 10<p> Windows 8.1<p> Windows RT 8.1<p> Windows 7 (требуется скачивание) | Рабочие папки предоставляет следующие функции на компьютерах с Windows:<p> - элемент панели управления для настройки и мониторинга рабочих папок;<br />- интеграция проводника для удобного доступа к файлам в рабочих папках;<br />- механизм синхронизации, который передает файлы на центрального файловый сервер и с него, а также повышает время работы от батареи и производительность системы. |
| Приложение «Рабочие папки» для устройств | Android<p> Apple iPhone и iPad® | Приложение, которое предоставляет доступ к файлам в рабочих папках на популярных устройствах |  
  
## <a name="new-and-changed-functionality"></a>Новые и измененные функции
  
В следующей таблице приведены некоторые важные изменения в рабочих папках.  
  
| Компонент или функция | Новый или обновленный компонент | Описание |
| ---------------------------- | --------------------- | ----------------- |
| Улучшенное ведение журнала. | Новые в Windows Server 2019 | Журналы событий на сервере рабочих папок можно использовать для отслеживания действий синхронизации и для обнаружения пользователей, которые не прошли сеансы синхронизации. Используйте событие с ИДЕНТИФИКАТОРом 4020 в журнале событий Microsoft-Windows-Синкшаре/операцион, чтобы узнать, какие пользователи не прошли синхронизацию. Используйте событие с ИДЕНТИФИКАТОРом 7000 и ИДЕНТИФИКАТОРом 7001 в журнале событий Microsoft-Windows-Синкшаре/Reporting, чтобы отслеживать пользователей, которые успешно завершают передачу и скачивание сеансов синхронизации. |
| Счетчики производительности | Новые в Windows Server 2019 | Были добавлены следующие счетчики производительности: скачано байт/с, Отправлено байт/с, подключенных пользователей, загруженных файлов/с, отправленных файлов/с, пользователей с обнаружением изменений, входящих запросов/с и необработанных запросов. |
| Повышение производительности сервера | Обновлено в Windows Server 2019 | Для обслуживания большего числа пользователей на сервер были внесены улучшения в производительности. Ограничение на сервер зависит от количества файлов и обновлений файлов. Чтобы определить ограничение на сервер, пользователи должны добавляться на сервер поэтапно. |
| Доступ к файлам по требованию | Добавлено в Windows 10 версии 1803 | Позволяет просматривать все файлы и получать к ним доступ. Вы управляете тем, какие файлы хранятся на компьютере и доступны в автономном режиме. Остальные файлы всегда видимы и не занимают место на компьютере, но для доступа к ним требуется подключение к файловому серверу рабочих папок. |
| Поддержка прокси-сервера приложений Azure AD | Добавлено в Windows 10 версии 1703, Android, iOS | Удаленные пользователи могут безопасно обращаться к своим файлам на сервере рабочих папок с помощью прокси-сервера приложения Azure AD. |
| Ускоренная репликация изменений | Обновлено в Windows 10 и Windows Server 2016 | При использовании Windows Server 2012 R2, если изменения файлов синхронизируются с сервером рабочих папок, клиенты не получают уведомления об изменениях и ожидают обновления 10 минут. При использовании Windows Server 2016 сервер рабочих папок немедленно уведомляет клиентов Windows 10, и изменения файла синхронизируются немедленно. Эта возможность появилась в Windows Server 2016, для ее использования требуется клиент Windows 10. Если вы используете клиент более ранней версии или сервер рабочих папок с ОС Windows Server 2012 R2, клиент будет по-прежнему производить опрос для проверки наличия изменений каждые десять минут. |  
| Интеграция с Windows Information Protection (WIP) | Добавлено в Windows 10 версии 1607 | Если администратор развертывает WIP, рабочие папки позволяют принудительно включить защиту данных за счет их шифрования на компьютере. Для шифрования используется ключ, связанный с идентификатором организации, который можно стереть удаленно с помощью пакета управления поддерживаемых мобильных устройств, например Microsoft Intune. | 
  
## <a name="software-requirements"></a>Требования к программному обеспечению

Рабочие папки предъявляют следующие требования к программному обеспечению файловых серверов и сетевой инфраструктуры:  
  
-   Сервер под Windows Server 2019, Windows Server 2016 или Windows Server 2012 R2 для размещения общих папок синхронизации с файлами пользователей  
  
-   Том, отформатированный в файловой системе NTFS, для хранения пользовательских файлов.  
  
-   Для принудительного применения политики паролей на ПК под управлением Windows 7 необходимо использовать групповые политики паролей. Также следует исключить компьютеры под управлением Windows 7 из политик пароля рабочих папок (если они используются).

-   Сертификат сервера для каждого файлового сервера, на котором будут размещаться рабочие папки. Эти сертификаты должны быть выданы центром сертификации (ЦС), которому доверяют пользователи — в идеале общедоступным ЦС;

-   Используемых Лес служб домен Active Directory с расширениями схемы в Windows Server 2012 R2 для поддержки автоматического обращения компьютеров и устройств к правильному файловому серверу при использовании нескольких файловых серверов.  
  
Чтобы обеспечить пользователям возможность синхронизации через Интернет, необходимо выполнить дополнительные требования:  
  
-   возможность предоставить доступ к серверу через Интернет путем создания правил публикации на обратном прокси-сервере организации или сетевом шлюзе;  
  
-   (необязательно) открыто зарегистрированное доменное имя и возможность создать дополнительные общедоступные записи DNS для домена;  
  
-   (Необязательно) Инфраструктура служб федерации Active Directory (AD FS) при использовании проверки подлинности AD FS.  
  
Рабочие папки предъявляют следующие требования к программному обеспечению клиентских компьютеров:  
  
-   Компьютеры и устройства должны работать под управлением одной из следующих ОС:  
  
    -   Windows 10  
  
    -   Windows 8.1  
  
    -   Windows RT 8.1  
  
    -   Windows 7  
  
    -   Android 4.4 KitKat и более поздние версии;  
  
    -   iOS 10.2 и более поздних версий.  
  
-   На ПК под управлением Windows 7 должна быть установлена одна из следующих версий Windows:  
  
    -   Windows 7 Профессиональная  
  
    -   Windows 7 Максимальная  
  
    -   Windows 7 Корпоративная  
  
-   Компьютеры с Windows 7 должны быть присоединены к домену организации (их нельзя присоединить к рабочей группе).  
  
-   Достаточное свободное пространство на локальном диске, отформатированном в NTFS, для хранения всех пользовательских файлов в рабочих папках, а также 6 ГБ дополнительного свободного пространства, если рабочие папки размещаются на системном диске (по умолчанию). По умолчанию расположение рабочих папок следующее: **%USERPROFILE%\Work Folders**  
  
     Однако пользователи могут изменить это расположение во время установки (поддерживается размещение на картах microSD и USB-накопителях, отформатированных в файловой системе NTFS, хотя в случае удаления накопителей синхронизация будет прекращена).  
  
     Максимальный размер отдельного файла по умолчанию составляет 10 ГБ. Размер хранилища на пользователя не ограничен, но администраторы могут установить квоты при помощи функции диспетчера ресурсов файлового сервера.  
  
-   Рабочие папки не поддерживают откат состояния клиентских виртуальных машин. Вместо этого операции архивации и восстановления выполняются на клиентских виртуальных машинах с помощью компонента "Резервная копия образа системы" или другого приложения для архивации.  
  
## <a name="work-folders-compared-to-other-sync-technologies"></a>Рабочие папки по сравнению с другими технологиями синхронизации  

В следующей таблице приведены возможности различных технологий синхронизации Майкрософт и примеры сценариев их использования.  
  
| | рабочие папки | Автономные файлы | OneDrive для бизнеса | OneDrive |
| - | ------------------ | ------------------- | -------------------------- | -------------- |
| **Сводная информация о технологии** | Синхронизирует файлы, которые хранятся на файловом сервере, с компьютерами и устройствами | Синхронизирует файлы, которые хранятся на файловом сервере, с компьютерами с доступом к корпоративной сети (можно заменить на рабочие папки) | Синхронизирует файлы, которые хранятся в Office 365 или SharePoint, с компьютерами и устройствами внутри корпоративной сети и за ее пределами, а также предоставляет возможности для совместной работы с документами | Синхронизирует личные файлы, сохраненные в OneDrive, с ПК, Mac и другими устройствами |
| **Предназначено для предоставления пользователям доступа к рабочим файлам** | Да | Да | Да | Нет |
| **облачная служба** | Отсутствуют | Отсутствуют | Office 365 | Microsoft OneDrive |
| **Внутренние сетевые серверы** | Файловые серверы под Windows Server 2012 R2, Windows Server 2016 и Windows Server 2019 | Файловые серверы | Сервер SharePoint (необязательно) | Отсутствуют |
| **Поддерживаемые клиенты** | ПК, iOS, Android | ПК в корпоративной сети или ПК, подключенные через DirectAccess, VPN и другие технологии удаленного доступа | ПК, iOS, Android, Windows Phone | ПК, Mac, Windows Phone, iOS, Android |
  
> [!NOTE]
>  Помимо технологий синхронизации, перечисленных в предыдущей таблице, корпорация Майкрософт предлагает другие технологии репликации, в том числе репликацию DFS, которая разработана для репликации между серверами, и технологию BranchCache, которая предназначена для ускорения глобальной сети удаленных офисов. Дополнительные сведения см. в разделе [Пространства имен DFS и репликация DFS](https://technet.microsoft.com/library/jj127250(v=ws.11).aspx) и [Обзор BranchCache](https://technet.microsoft.com/library/hh831696(v=ws.11).aspx). 
  
## <a name="server-manager-information"></a>Сведения о диспетчере сервера  

Рабочие папки — это часть роли служб файлов и хранилищ. Рабочие папки можно установить с помощью функции мастера добавления ролей и компонентов или командлета `Install-WindowsFeature`. Оба метода позволяют выполнить следующие задачи:  
  
-   добавить страницу **Рабочие папки** в раздел **Файловые службы и службы хранилища** в диспетчере серверов;  
  
-   установить службу общих ресурсов синхронизации Windows, которую Windows Server использует для размещения общих ресурсов синхронизации;  
  
-   установить модуль SyncShare Windows PowerShell для управления рабочими папками на сервере.  
  
## <a name="interoperability-with-windows-azure-virtual-machines"></a>Взаимодействие с виртуальными машинами Microsoft Azure

 Можно запустить эту службу роли Windows Server на виртуальной машине в Microsoft Azure. Этот сценарий был протестирован с Windows Server 2012 R2, Windows Server 2016 и Windows Server 2019.  
  
Дополнительные сведения о начале работы с виртуальными машинами Microsoft Azure см. на [веб-сайте Microsoft Azure](http://www.windowsazure.com/documentation/services/virtual-machines).  
  
## <a name="see-also"></a>См. также

 Дополнительные сведения по данной теме см. на следующих ресурсах.  
  
| Тип содержимого | Ссылки |
| ------------------ | ---------------- |
| **Оценка продукта** | -   [Рабочие папки для Android — выпущено](https://blogs.technet.microsoft.com/filecab/2016/03/16/work-folders-for-android-released) (запись в блоге)<br />-   [Рабочие папки для iOS — выпуск приложений iPad](https://blogs.technet.com/b/filecab/archive/2015/01/16/work-folders-for-ios-ipad-app-release.aspx) (запись блога)<br />-   [Знакомство с рабочими папками в Windows Server 2012 R2](https://blogs.technet.com/b/filecab/archive/2013/07/09/introducing-work-folders-on-windows-server-2012-r2.aspx) (запись блога)<br />-   [Введение в рабочие папки](https://channel9.msdn.com/posts/Introduction-to-Work-Folders) (видео Channel 9)<br />-   [Развертывание тестовой лаборатории рабочих папок](https://blogs.technet.com/b/filecab/archive/2013/07/10/work-folders-test-lab-deployment.aspx) (запись блога)<br />-   [Рабочие папки для Windows 7](https://blogs.technet.com/b/filecab/archive/2014/04/24/work-folders-for-windows-7.aspx) (запись блога) |
| **Deployment** | -   [Разработка реализации рабочих папок](plan-work-folders.md)<br />-   [Развертывание рабочих папок](deploy-work-folders.md)<br />-   [Развертывание рабочих папок с помощью AD FS и прокси веб-приложения (WAP)](deploy-work-folders-adfs-overview.md)<br />-   [Развертывание рабочих папок с помощью прокси-сервера приложения Azure AD](https://blogs.technet.microsoft.com/filecab/2017/05/31/enable-remote-access-to-work-folders-using-azure-active-directory-application-proxy/)<br />- [Использование автономные файлы (CSC) с руководством по миграции рабочих папок](https://blogs.technet.microsoft.com/filecab/2016/08/12/offline-files-csc-to-work-folders-migration-guide/)<br />-   [Рекомендации по производительности при развертывании рабочих папок](https://blogs.technet.com/b/filecab/archive/2013/11/01/performance-considerations-for-large-scale-work-folders-deployments.aspx)<br />-   [Рабочие папки для Windows 7 (Загрузка 64-бит)](https://www.microsoft.com/download/details.aspx?id=42558)<br />-   [Рабочие папки для Windows 7 (Загрузка 32-бит)](https://www.microsoft.com/download/details.aspx?id=42559) |
| **Операции** | -   [Приложение для работы с рабочими папками для iPad: вопросы и ответы](https://windows.microsoft.com/windows/work-folders-ipad-faq) (для пользователей)<br />-   [Управление сертификатами рабочих папок](https://blogs.technet.com/b/filecab/archive/2013/08/09/work-folders-certificate-management.aspx) (запись блога)<br />-   [Мониторинг развертываний рабочих папок Windows Server 2012 R2](https://blogs.technet.com/b/filecab/archive/2013/10/15/monitoring-windows-server-2012-r2-work-folders-deployments.aspx) (запись блога)<br />-   [Командлеты Синкшаре (рабочие папки) в Windows PowerShell](https://docs.microsoft.com/powershell/module/syncshare/?view=win10-ps)<br />-   [Краткий справочник по командлетам службы хранилища и файловых служб PowerShell для Windows Server 2012 R2 Preview Edition](https://blogs.technet.com/b/filecab/archive/2013/07/30/storage-and-file-services-powershell-cmdlets-quick-reference-card-for-windows-server-2012-r2-preview-edition.aspx) |
| **Устранение неполадок** | -   [Windows Server 2012 R2 — устранение конфликтов портов с веб-сайтами IIS и рабочими папками](https://blogs.technet.com/b/filecab/archive/2013/10/15/windows-server-2012-r2-resolving-port-conflict-with-iis-websites-and-work-folders.aspx) (запись в блоге)<br />-   [Распространенные ошибки в рабочих папках](https://social.technet.microsoft.com/wiki/contents/articles/30578.common-errors-in-work-folders.aspx) |
| **Ресурсы сообщества** | -   [Форум по файловым службам и хранилищам](https://social.technet.microsoft.com/Forums/windowsserver/home?forum=winserverfiles)<br />-   [Рабочая группа по хранению данных Майкрософт — блог File Cabinet](https://blogs.technet.com/b/filecab/)<br />-   [Обратитесь к блогу группы по службам каталогов](https://blogs.technet.com/b/askds/) |  
| **Связанные технологии** | -   [Хранилище в Windows Server 2016](../storage.yml)<br>-   [Службы файлов и хранилища](https://technet.microsoft.com/library/hh831487(v=ws.11).aspx)<br />-   [диспетчер ресурсов файлового сервера](https://technet.microsoft.com/library/hh831701(v=ws.11).aspx)<br />-   [Перенаправление папок, автономные файлы и перемещаемые профили пользователей](https://technet.microsoft.com/library/hh848267(v=ws.11).aspx)<br />-   [BranchCache](https://technet.microsoft.com/library/hh831696(v=ws.11).aspx)<br />-   [Пространства имен и репликация DFS DFS](https://technet.microsoft.com/library/jj127250(v=ws.11).aspx) |
