---
title: Обзор NFS
description: Объясняется, что такое сетевой файловой системы.
ms.prod: windows-server-threshold
ms.topic: article
author: JasonGerend
ms.author: jgerend
ms.technology: storage
ms.date: 07/09/2018
ms.localizationpriority: medium
ms.openlocfilehash: 9b0d339df588c784f8fe46f7dd0e6ce2975d0c48
ms.sourcegitcommit: 21165734a0f37c4cd702c275e85c9e7c42d6b3cb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/03/2019
ms.locfileid: "65034650"
---
# <a name="network-file-system-overview"></a>Обзор NFS

>Относится к: Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

В этом разделе описывается служба роли сетевой файловой системы и компоненты, включенные в роль сервера файловых служб и служб хранилища в Windows Server. Сетевой файловой системы (NFS) предоставляет общего решения для предприятий с разнородными средами, включающими Windows и компьютеров, отличных от Windows.

## <a name="feature-description"></a>Описание компонента

С помощью протокола NFS, можно передавать файлы между компьютерами под управлением Windows и других операционных систем отличных от Windows, таких как UNIX или Linux.

NFS в Windows Server включает сервер для NFS и клиента для NFS. Компьютер под управлением Windows Server можно использовать сервер для NFS в качестве файлового сервера NFS для других отличных от Windows клиентских компьютерах. Клиент для NFS позволяет компьютеру под управлением Windows под управлением Windows Server для доступа к файлам, хранящимся на сервере NFS, отличных от Windows.

## <a name="windows-and-windows-server-versions"></a>Версии Windows и Windows Server

Windows поддерживает несколько версий NFS-клиента и сервера, в зависимости от версии операционной системы и семейства. 

| Операционные системы | Версии сервера NFS |Версии клиента для NFS|
| ----------------- | ------------------- | ----------------- |
| Windows 7, Windows 8.1, Windows 10 | Н/Д | NFSv2 NFSv3 |
| Windows Server 2008, Windows Server 2008 R2 | NFSv2 NFSv3 | NFSv2 NFSv3 |
| Windows Server 2012, Windows Server 2012 R2, Windows Server 2016, Windows Server 2019 | NFSv4.1 NFSv2 NFSv3,  | NFSv2 NFSv3 |

## <a name="practical-applications"></a>Практическое применение

Ниже приведены некоторые способы использования NFS.

- Используйте файловый сервер Windows NFS для предоставления доступа нескольких протоколов на тот же файловый ресурс по протоколам SMB и NFS с несколькими платформами клиентов.
- Развертывание файлового сервера Windows NFS в среде преимущественно Windows операционной системы для предоставления отличных от Windows клиента компьютерам доступ к файловым ресурсам NFS.
- Перенос приложений из одной операционной системы в другую, сохраняя данные в файловых ресурсах, которые доступны через протоколы SMB и NFS.

## <a name="new-and-changed-functionality"></a>Новые и измененные функции

Новые и измененные функции в сетевой файловой системы включает в себя поддержку NFS версии 4.1 и улучшенные возможности развертывания и управляемости. Сведения о функции, добавленные или измененные в Windows Server 2012 ознакомьтесь со следующей таблицей:

|Компонент или функция|Новинка или обновление|Описание|
|---|---|---|
|[NFS версии 4.1](#nfs-version-41)|Оператор new|Повышенный уровень безопасности, производительности и взаимодействия, по сравнению с NFS версии 3.|
|[Инфраструктура NFS](#nfs-infrastructure)|Обновлено|Улучшает развертывания и управляемость и повышает уровень безопасности.|
|[Постоянная доступность NFS версии 3](#nfs-version-3-continuous-availability)|Обновлено|Улучшает постоянную доступность на клиентах NFS версии 3.|
|[Улучшения развертывания и управления](#deployment-and-manageability-improvements)|Обновлено|Позволяет легко развертывать и управлять NFS с помощью новых командлетов Windows PowerShell и новый поставщик WMI.|

## <a name="nfs-version-41"></a>NFS версии 4.1

NFS версии 4.1 реализует все необходимые аспекты, а также некоторые дополнительные аспекты, из [RFC 5661](https://tools.ietf.org/html/rfc5661):

- **Файловой системы псевдо**, файловой системы, который разделяет пространство имен физических и логических и совместим с NFS версии 3 и NFS версии 2. Для экспортированного файловой системы, который является частью файловой системы псевдо предоставляется псевдоним.
- **Составные RPC** объединить соответствующие операции и сократить число вызовов.
- **Сеансов и коммутации** позволяет лишь одна семантической и постоянную доступность и производительность во время выполнения нескольких сетей между клиентами NFS 4.1 и NFS-сервер.

## <a name="nfs-infrastructure"></a>Инфраструктура NFS

Ниже описаны улучшения общей инфраструктуры NFS в Windows Server 2012:

- **Удаленного вызова процедур (RPC) / представление внешних данных (XDR)** инфраструктура транспорта, на базе WinSock сетевой протокол, доступен для обоих сервер для NFS и клиента для NFS. Это заменяет интерфейс устройства транспорта (TDI), предлагает улучшенную поддержку и обеспечивает лучшую масштабируемость и на стороне приема масштабирование (RSS).
- **RPC-порт мультиплексор** функция брандмауэром (меньше портов для управления) и упрощает развертывание NFS.
- **Автоматически настраиваемые кэши и пулы потоков** являются ресурсом, возможности управления новой инфраструктуры RPC/XDR, которые являются динамическими, автоматически настройке кэши и зависимости от рабочей нагрузки пулы потоков. Это полностью наугад участвующих при настройке параметров, предоставляя оптимальной производительности, сразу же после развертывания NFS.
- **Новый Kerberos реализацию и проверку подлинности параметры конфиденциальности** с добавлением поддержки конфиденциальности (Krb5p) Kerberos вместе с существующей krb5 и krb5i параметры проверки подлинности.
- **Модуль Windows PowerShell сопоставления удостоверений** командлеты упрощают управление сопоставления удостоверений, настройку служб Active Directory облегченного доступа (AD LDS) и настроить passwd UNIX и Linux и неструктурированные файлы.
- **Точка подключения тома** позволяет вам получить доступ к томам, подключенным в общую папку NFS с NFS версии 4.1.
- **Мультиплексирование порт** функция поддерживает RPC-порт мультиплексор (порт 2049), брандмауэром и упрощает развертывание NFS.

## <a name="nfs-version-3-continuous-availability"></a>Постоянная доступность NFS версии 3

NFS версии 3-клиенты могут иметь быстрый и прозрачный запланированные процедуры отработки отказа с дополнительные доступности и сокращение времени простоя. Процесс отработки отказа обусловлено быстрее для клиентов NFS версии 3:

- Теперь инфраструктуру кластеризации позволяет один ресурс на имя сети вместо одного ресурса на акцию, значительно сокращает время отработки отказа ресурсов.
- Пути отработки отказа в NFS-сервер лучше подходят для повышения производительности.
- Регистрация подстановочный знак в NFS-сервер больше не требуется и более точного отработки отказа.
- Сетевой монитор состояния (NSM) уведомления будут отправлены после отработки отказа, и клиенты больше не нужно ждать времени ожидания TCP для повторного подключения к отработке отказа сервера.

Обратите внимание, что сервер для NFS поддерживает прозрачную отработку отказа только при запуске вручную, обычно во время планового обслуживания. При незапланированной отработке отказа клиенты NFS теряют свои подключения. Также сервер для NFS не интегрирован с фильтром ключа возобновления. Это означает, что если локальное приложение или сеанс SMB пытается получить доступ к тому же файлу, что и клиент NFS, сразу после плановой отработки отказа, то клиент NFS может потерять свои подключения (прозрачная отработка отказа не будет выполнена).

## <a name="deployment-and-manageability-improvements"></a>Улучшения развертывания и управления

Развертывание и управление ими NFS улучшен следующим образом:

- Более 40 новых командлетов Windows PowerShell упрощают для настройки и управления общих папок NFS. Дополнительные сведения см. в разделе [командлеты NFS в Windows PowerShell](https://docs.microsoft.com/powershell/module/nfs/?view=win10-ps).
- Сопоставление удостоверений пополняются с участием хранилище локального неструктурированных файлов сопоставления и новые командлеты Windows PowerShell для настройки сопоставления удостоверений.
- Графический пользовательский интерфейс диспетчера серверов проще в использовании.
- Новый поставщик WMI версии 2 доступен для упрощенного управления.
- RPC порт мультиплексор (-порт 2049) брандмауэром и упрощает развертывание NFS.

## <a name="server-manager-information"></a>Сведения о диспетчере сервера

В диспетчере серверов - или более новой [Windows Admin Center](../../manage/windows-admin-center/understand/windows-admin-center.md) -использовать добавления ролей и компонентов мастер для добавления сервера для службы роли NFS (в группе файлов и iSCSI роль служб). Общую информацию об установке компонентов см. в разделе [Установка и удаление ролей, служб ролей или компонентов](<https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh831809(v=ws.11)>). Сервер для NFS средства включают службы для оснастки MMC системы сети файла для управления сервером для NFS и клиента для NFS компонентов. Используя оснастку, можно управлять сервером для NFS компонентов, установленных на компьютере. Сервер для NFS также содержит несколько средств администрирования из командной строки Windows:

- **Подключите** локально подключает удаленного общего ресурса NFS (также известный как экспорт) и сопоставляет его буква локального диска на клиентском компьютере Windows.
- **NFSAdmin** Управление параметрами конфигурации сервера для NFS и клиента для NFS компонентов.
- **Nfsshare** настраивает параметры общей папки NFS для папок, которые являются общими с помощью сервера для NFS.
- **Nfsstat** отображает или Сбрасывает статистику вызовов, полученных сервером для NFS.
- **Showmount** отображает подключенными файловыми системами, экспортированные с сервера для NFS.
- **Umount** удаляет NFS подключенных дисков.

NFS в Windows Server 2012 включает модуль NFS для Windows PowerShell с помощью нескольких новых командлетов, специально для NFS. Эти командлеты обеспечивают простой способ автоматизации задач управления NFS. Дополнительные сведения см. в разделе [командлеты NFS в Windows PowerShell](https://docs.microsoft.com/powershell/module/nfs/?view=win10-ps).

## <a name="additional-information"></a>Дополнительные сведения

Следующая таблица предоставляет дополнительные ресурсы для оценки NFS.

|Тип содержимого|Ссылок|
|---|---|
|Развертывание|[Развертывание сетевой файловой системы](deploy-nfs.md)|
|Операции|[Командлеты NFS в Windows PowerShell](https://docs.microsoft.com/powershell/module/nfs/?view=win10-ps)|
|Связанные технологии|[Хранилища в Windows Server](../storage.md)|