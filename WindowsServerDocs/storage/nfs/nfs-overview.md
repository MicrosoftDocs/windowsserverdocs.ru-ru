---
title: Обзор NFS
description: Описание сетевой файловой системы.
ms.prod: windows-server
ms.topic: article
author: JasonGerend
ms.author: jgerend
ms.technology: storage
ms.date: 07/09/2018
ms.localizationpriority: medium
ms.openlocfilehash: 72f71bc6605103f8240bcd531da3a5b58d470181
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/27/2019
ms.locfileid: "71403042"
---
# <a name="network-file-system-overview"></a>Обзор NFS

>Относится к: Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

В этом разделе описывается служба роли сетевой файловой системы и компоненты, входящие в состав роли сервера файловых служб и службы хранилища в Windows Server. Сетевая файловая система (NFS) предоставляет решение для совместного использования файлов для предприятий с разнородными средами, включающими компьютеры Windows и не Windows.

## <a name="feature-description"></a>Описание компонента

С помощью протокола NFS можно передавать файлы между компьютерами под управлением Windows и другими операционными системами, отличными от Windows, например Linux или UNIX.

NFS в Windows Server включает Server для NFS и Client для NFS. Компьютер под управлением Windows Server может использовать сервер для NFS в качестве файлового сервера NFS для других клиентских компьютеров, отличных от Windows. Клиент для NFS позволяет компьютеру под управлением Windows под управлением Windows Server получить доступ к файлам, хранящимся на NFS-сервере, отличном от Windows.

## <a name="windows-and-windows-server-versions"></a>Версии Windows и Windows Server

Windows поддерживает несколько версий клиента NFS и сервера в зависимости от версии операционной системы и семейства. 

| Операционные системы | Версии NFS Server |Версии клиента NFS|
| ----------------- | ------------------- | ----------------- |
| Windows 7, Windows 8.1, Windows 10 | Н/Д | NFSv2, NFSv3 |
| Windows Server 2008, Windows Server 2008 R2 | NFSv2, NFSv3 | NFSv2, NFSv3 |
| Windows Server 2012, Windows Server 2012 R2, Windows Server 2016, Windows Server 2019 | NFSv2, NFSv3, Нфсв 4.1  | NFSv2, NFSv3 |

## <a name="practical-applications"></a>Практическое применение

Ниже приведены некоторые способы использования NFS.

- Используйте файловый сервер Windows NFS для предоставления многопротокольного доступа к одному и тому же файловому ресурсу по протоколам SMB и NFS с многоплатформенных клиентов.
- Разверните файловый сервер Windows NFS в среде операционной системы, отличной от Windows, чтобы предоставить клиентским компьютерам, не являющимся клиентскими Windows, доступ к файловым ресурсам NFS.
- Перенос приложений из одной операционной системы в другую путем хранения данных в общих файловых ресурсах, доступных через протоколы SMB и NFS.

## <a name="new-and-changed-functionality"></a>Новые и измененные функции

Новые и измененные функциональные возможности в сетевой файловой системе включают поддержку NFS версии 4,1 и Улучшенное развертывание и управляемость. Дополнительные сведения о новых или измененных функциях в Windows Server 2012 см. в следующей таблице:

|Компонент или функция|Новинка или обновление|Описание|
|---|---|---|
|[NFS версии 4,1](#nfs-version-41)|Оператор new|Повышенная безопасность, производительность и совместимость по сравнению с NFS версии 3.|
|[Инфраструктура NFS](#nfs-infrastructure)|Обновлено|Улучшает развертывание и управляемость и повышает безопасность.|
|[Постоянная доступность NFS версии 3](#nfs-version-3-continuous-availability)|Обновлено|Повышает постоянную доступность на клиентах NFS версии 3.|
|[Улучшения развертывания и управляемости](#deployment-and-manageability-improvements)|Обновлено|Позволяет легко развертывать NFS и управлять ими с помощью новых командлетов Windows PowerShell и нового поставщика WMI.|

## <a name="nfs-version-41"></a>NFS версии 4,1

NFS версии 4,1 реализует все необходимые аспекты в дополнение к некоторым дополнительным аспектам [RFC 5661](https://tools.ietf.org/html/rfc5661):

- **Файловая система, которая**разделяет физическое и логическое пространство имен и СОВМЕСТИМА с NFS версии 3 и NFS версии 2. Для экспортированной файловой системы, которая является частью псевдо-файловой системы, предоставляется псевдоним.
- **Составные удаленные вызовы процедур** объединяют соответствующие операции и сокращают число бесед.
- **Сеансы и многосеансовая коммутация** сеансов обеспечивают только одну семантику и обеспечивают постоянную доступность и лучшую производительность при использовании нескольких сетей между клиентами NFS 4,1 и сервером NFS.

## <a name="nfs-infrastructure"></a>Инфраструктура NFS

Улучшения общей инфраструктуры NFS в Windows Server 2012 описаны ниже.

- Инфраструктура транспорта **/External (RPC)** , используемая сетевым протоколом Winsock, доступна как для сервера NFS, так и для клиента для NFS. Это заменяет интерфейс TDI, обеспечивает лучшую поддержку и обеспечивает лучшую масштабируемость и масштабирование на стороне приема (RSS).
- Функция **мультиплексора RPC-портов** является удобной для брандмауэра (меньше портов для управления) и УПРОЩАЕТ развертывание NFS.
- **Автоматически настроенные кэши и пулы потоков** являются возможностями управления ресурсами в новой инфраструктуре RPC/XDR, которая является динамической, автоматически настраивает кэши и пулы потоков на основе рабочей нагрузки. Это полностью удаляет предоставляя, который участвует во время настройки параметров, обеспечивая оптимальную производительность сразу после развертывания NFS.
- **Новые варианты реализации и проверки подлинности Kerberos** с добавлением поддержки Kerberos (Krb5p) и существующих параметров проверки подлинности krb5 и krb5i.
- **Сопоставление удостоверений командлеты модуля Windows PowerShell** упрощают управление сопоставлением удостоверений, настройку службы Active Directory облегченного доступа к каталогам (AD LDS) и настройку passwd и неструктурированных файлов UNIX и Linux.
- **Точка подключения тома** позволяет получить доступ к томам, подключенным к общему ресурсу NFS, с помощью nfs версии 4,1.
- Функция **мультиплексирования портов** поддерживает МУЛЬТИПЛЕКСОР порта RPC (порт 2049), который является удобным для брандмауэра и УПРОЩАЕТ развертывание NFS.

## <a name="nfs-version-3-continuous-availability"></a>Постоянная доступность NFS версии 3

Клиенты NFS версии 3 могут использовать быстрые и прозрачные плановые отработки отказа с большей доступностью и сокращением времени простоя. Процесс отработки отказа выполняется быстрее для клиентов NFS версии 3, поскольку:

- Инфраструктура кластеризации теперь позволяет по одному ресурсу на сетевое имя, а не по одному ресурсу на общий ресурс, что значительно повышает время отработки отказа ресурсов.
- Пути отработки отказа на сервере NFS настраиваются для повышения производительности.
- Регистрация с подстановочными знаками на NFS-сервере больше не требуется, а отработка отказа выполняется более тонко.
- Уведомления сетевых монитор состояния (NSM) отправляются после отработки отказа, и клиентам больше не нужно ждать, пока истечет время ожидания TCP для повторного подключения к серверу, на который выполнен переход.

Обратите внимание, что сервер для NFS поддерживает прозрачную отработку отказа только при запуске вручную, обычно во время планового обслуживания. При незапланированной отработке отказа клиенты NFS теряют свои подключения. Сервер для NFS также не имеет интеграции с фильтром ключей возобновления. Это означает, что если локальное приложение или сеанс SMB пытается получить доступ к тому же файлу, что и клиент NFS, сразу после плановой отработки отказа, то клиент NFS может потерять свои подключения (прозрачная отработка отказа не будет выполнена).

## <a name="deployment-and-manageability-improvements"></a>Улучшения развертывания и управляемости

Развертывание и управление NFS улучшены следующими способами.

- Более 40 новых командлетов Windows PowerShell упрощают настройку файловых ресурсов NFS и управление ими. Дополнительные сведения см. [в разделе командлеты NFS в Windows PowerShell](https://docs.microsoft.com/powershell/module/nfs/?view=win10-ps).
- Сопоставление удостоверений улучшено с помощью локального хранилища сопоставления неструктурированных файлов и новых командлетов Windows PowerShell для настройки сопоставления удостоверений.
- Диспетчер сервера графический пользовательский интерфейс проще в использовании.
- Новый поставщик WMI версии 2 доступен для упрощения управления.
- Мультиплексор портов RPC (порт 2049) является удобным для брандмауэра и упрощает развертывание NFS.

## <a name="server-manager-information"></a>Сведения о диспетчере сервера

В диспетчер сервера или более новом [центре администрирования Windows](../../manage/windows-admin-center/understand/windows-admin-center.md) — используйте мастер добавления ролей и компонентов, чтобы добавить службу роли сервера для NFS (в файле и роли служб iSCSI). Общую информацию об установке компонентов см. в разделе [Установка и удаление ролей, служб ролей или компонентов](<https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh831809(v=ws.11)>). Средства сервера для NFS включают оснастку "службы для сетевой файловой системы" MMC для управления сервером для NFS и клиентом для компонентов NFS. С помощью оснастки можно управлять компонентами сервера для NFS, установленными на компьютере. Сервер для NFS также содержит несколько средств администрирования командной строки Windows:

- **Подключение** подключает удаленный общий ресурс NFS (также известный как экспорт) локально и сопоставляет его с буквой локального диска на клиентском компьютере Windows.
- **Nfsadmin** управляет параметрами конфигурации сервера для NFS и клиента для компонентов NFS.
- **Нфсшаре** настраивает параметры общего ресурса NFS для общих папок с помощью сервера для NFS.
- **Нфсстат** отображает или сбрасывает статистику вызовов, полученных сервером для NFS.
- **Шовмаунт** Отображает подключенные файловые системы, экспортированные сервером для NFS.
- **Umount** удаляет диски, подключенные к NFS.

В NFS в Windows Server 2012 появился модуль NFS для Windows PowerShell с несколькими новыми командлетами специально для NFS. Эти командлеты предоставляют простой способ автоматизации задач управления NFS. Дополнительные сведения см. [в разделе командлеты NFS в Windows PowerShell](https://docs.microsoft.com/powershell/module/nfs/?view=win10-ps).

## <a name="additional-information"></a>Дополнительные сведения

В следующей таблице приведены дополнительные ресурсы для оценки NFS.

|Тип содержимого|Ссылок|
|---|---|
|Развертывание|[Развертывание сетевой файловой системы](deploy-nfs.md)|
|Операции|[Командлеты NFS в Windows PowerShell](https://docs.microsoft.com/powershell/module/nfs/?view=win10-ps)|
|Связанные технологии|[Хранилище в Windows Server](../storage.md)|