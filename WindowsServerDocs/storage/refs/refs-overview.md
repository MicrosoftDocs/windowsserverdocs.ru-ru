---
title: "Обзор файловой системы ReFS"
ms.prod: windows-server-threshold
ms.author: gawatu
ms.manager: dmoss
ms.technology: storage-file-systems
ms.topic: article
author: gawatu
ms.date: 1/3/2016
ms.assetid: 
ms.openlocfilehash: 4460df978f2a3d5e30e43b82cf952ed37f3d91a9
ms.sourcegitcommit: 583355400f6b0d880dc0ac6bc06f0efb50d674f7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/17/2017
---
# <a name="resilient-file-system-refs-overview"></a>Обзор файловой системы ReFS
>Область применения: Windows Server (Semi-Annual Channel), Windows Server 2016, Windows Server 2012 R2, Windows Server 2012

ReFS— это новейшая файловая система Майкрософт, которая повышает уровень доступности данных, обеспечивает эффективное масштабирование для очень крупных наборов данных и различных вариантов нагрузки и гарантирует целостность данных благодаря устойчивости к повреждениям. Она используется для растущего числа сценариев хранения данных и служит основой для будущих нововведений. 

## <a name="key-benefits"></a>Основные преимущества

### <a name="resiliency"></a>Устойчивость 
ReFS представляет новые функции, которые позволяют точно определить повреждения и исправить их, сохраняя систему в оперативном режиме и обеспечивая целостность и доступность данных. 

- **Потоки целостности** — ReFS использует контрольные суммы для метаданных и, при необходимости, для данных файлов, что дает возможность точно определить повреждения ReFS. 
- **Интеграция дисковых пространств** — при использовании в сочетании с зеркальным пространством или пространством с контролем четности ReFS может автоматически исправлять обнаруженные повреждения с помощью альтернативной копии данных, предоставляемой дисковыми пространствами. Процессы восстановления локализованы в области повреждения и выполняются в оперативном режиме без простоя томов.
- **Утилизация данных** — если том поврежден, а альтернативная копия данных не существует, ReFS удаляет поврежденные данные из пространства имен. ReFS сохраняет том в оперативном режиме при обработке большинства неисправляемых повреждений, но в редких случаях ReFS необходимо перевести том в автономный режим.
- **Упреждающее исправление ошибок** — помимо проверки данных перед операциями чтения и записи, ReFS предоставляет сканер целостности данных, который называют <i>средством очистки</i>. Оно периодически сканирует том, пытаясь выявить скрытые повреждения и профилактически запуская процесс восстановления поврежденных данных. 


### <a name="performance"></a>Производительность
Помимо улучшения устойчивости, ReFS представляет новые функции для рабочих нагрузок, требующих высокой производительности, и виртуализированных рабочих нагрузок. Оптимизация уровней в режиме реального времени, клонирование блоков и разреженный метод VDL — вот примеры развивающихся возможностей ReFS, которые предназначены для поддержки динамических и разнообразных рабочих нагрузок.

- **[Четность с зеркальным ускорением](./mirror-accelerated-parity.md)**. Четность с зеркальным ускорением обеспечивает высокую производительность и эффективное хранение данных. 

    - Для обеспечения высокой производительности и эффективного хранения данных ReFS делит том на две логические группы памяти, которые называются уровнями. У них могут быть собственные типы диска и устойчивости, что позволяет каждому уровню оптимизировать производительность или емкость. Вот некоторые примеры конфигурации: 
    
    
    | Уровень производительности | Уровень емкости |
    |----------------|-----------------|
     Зеркальный SSD | Зеркальный жесткий диск |
     Зеркальный SSD | SSD с контролем четности |
     Зеркальный SSD | Жесткий диск с контролем четности |   
            
    - После настройки этих уровней ReFS использует их для реализации быстрого хранилища для «горячих» данных и объемного хранилища «холодных» данных:
        - Все операции записи происходят на уровне производительности, а большие блоки данных, которые остаются на уровне производительности, перемещаются на уровень емкости в режиме реального времени.
        - При использовании [гибридного развертывания](../storage-spaces/choosing-drives.md) (сочетание твердотельных и жестких дисков) [кэша в локальных дисковых пространствах](../storage-spaces/understand-the-cache.md) ускоряет операции чтения, ослабляя эффект фрагментации данных виртуализированных рабочих нагрузок. Если используется развертывание только с твердотельными дисками, операции чтения также выполняются на уровне производительности. 

>[!NOTE]
>В средах Windows Server четность с зеркальным ускорение поддерживается только для [локальных дисковых пространств](../storage-spaces/storage-spaces-direct-overview.md).

- **Ускорение операций виртуальных машин**.В ReFS реализованы новые возможности, предназначенные для повышения производительности виртуализированных рабочих нагрузок.
    - [Клонирование блоков](./block-cloning.md) — эта функция ускоряет операции копирования, позволяя выполнять быстрые операции слияния ВМ. 
    - Разреженный метод VDL — этот метод позволяет ReFS быстро обнулять файлы, что уменьшает время, необходимое для создания фиксированных VHD, с десятков минут до нескольких секунд.


- **Переменный размер кластера** — ReFS поддерживает размер кластера 4 КБ и 64 КБ. Рекомендуемый для большинства развертываний размер кластера — 4КБ, а кластеры размером 64 КБ подходят для работы с крупными, последовательными рабочими нагрузками ввода-вывода.
    
    
### **<a name="scalability"></a>Масштабируемость**
Файловая система ReFS предназначена для поддержки очень больших наборов данных (до миллионов терабайтов) без снижения производительности и с недоступным ранее уровнем масштабирования. 

## <a name="supported-deployments"></a>Поддерживаемые развертывания

### <a name="storage-spaces-direct"></a>Локальные дисковые пространства ###

Развертывать ReFS в локальных дисковых пространствах рекомендуется для виртуализированных рабочих нагрузок либо запоминающих устройств, подключенных к сети: 
- Четность с зеркальным ускорением и [кэш в локальных дисковых пространствах](../storage-spaces/understand-the-cache.md) обеспечивают высокую производительность и эффективное хранение данных. 
- Благодаря клонированию блоков и разреженным VDL значительно ускоряются операции с VHDX-файлами, такие как создание, объединение и расширение.
- Потоки целостности, оперативное восстановление и альтернативные копии данных позволяют ReFS и локальным дисковым пространствам обнаруживать и исправлять повреждения метаданных и данных. 
- ReFS предоставляет возможности масштабирования и поддержки крупных наборов данных. 

### <a name="storage-spaces-with-sas-drive-enclosures"></a>Дисковые пространства с дисковыми полками SAS ###
Развертывание ReFS в дисковых пространствах с общими полками SAS подходит для размещения архивных данных и хранения документов пользователей.
- Потоки целостности, оперативное восстановление и альтернативные копии данных позволяют ReFS и дисковым пространствам обнаруживать и исправлять повреждения метаданных и данных. 
- Кроме того, в средах дисковых пространств можно использовать функции клонирования блоков и масштабирования, доступные в ReFS.

### <a name="basic-disks"></a>Базовые диски ###
Развертывание ReFS на базовом диске лучше всего подходит для приложений, в которых реализованы собственные программные решения для устойчивости и доступности. 
- Приложения, в которых реализованы собственные программные решения для устойчивости и доступности, могут использовать потоки целостности, клонирование блоков и возможность масштабирования и поддержки крупных наборов данных. 

>[!NOTE]
>ReFS не поддерживается в хранилище SAN.


## <a name="feature-comparison"></a>Сравнение функций

### <a name="limits"></a>Ограничения

| Функция       | ReFS                                        | NTFS |
|----------------|------------------------------------------------|-----------------------|
| Максимальная длина имени файла | 255 символов Юникода  | 255 символов Юникода               |
| Максимальная длина имени пути |32КБ символов Юникода | 32КБ символов Юникода                |
| Максимальный размер файла | 18 ЭБ (эксабайт)  | 18 ЭБ (эксабайт)                |
| Максимальный размер тома | 4,7 ЗБ (зетабайт)                           | 256 ТБ                |


### <a name="functionality"></a>Функция

#### <a name="the-following-features-are-available-on-refs-and-ntfs"></a>В ReFS и NTFS доступны следующие функции:

| Функция       | ReFS                                        | NTFS |
|---------------------------|------------------|-----------------------|
| Шифрование BitLocker | Да | Да |
| Поддержка общих томов кластера (CSV) | Да | Да |
| Гибкие ссылки | Да | Да |
| Поддержка отказоустойчивого кластера | Да | Да |
| Списки управления доступом | Да | Да |
| Журнал номеров последовательного обновления (USN) | Да | Да |
| Уведомления об изменениях | Да | Да |
| Точки соединения | Да | Да |
| Точки подключения | Да | Да |
| Точки повторного анализа | Да | Да |
| Моментальные снимки томов | Да | Да |
| Идентификаторы файлов | Да | Да |
| Нежесткая блокировка | Да | Да |
| разреженные файлы; | Да | Да |
| Именованные потоки | Да | Да |

#### <a name="the-following-features-are-only-available-on-refs"></a>Следующие функции доступны только в ReFS:

| Функция       | ReFS                                        | NTFS |
|---------------------------|------------------|-----------------------|
| Клонирование блоков | Да | Нет |
| Разреженный метод VDL | Да | Нет |
| Четность с зеркальным ускорением| Да (в локальных дисковых пространствах) | Нет |

#### <a name="the-following-features-are-unavailable-on-refs-at-this-time"></a>Следующие функции недоступны в ReFS в настоящее время:

| Функция       | ReFS                                        | NTFS |
|---------------------------|------------------|-----------------------|
| Сжатие файловой системы | Нет | Да |
| Шифрование файловой системы | Нет | Да |
| Дедупликация данных | Нет | Да |
| Транзакции | Нет | Да |
| Жесткие ссылки | Нет | Да |
| Идентификаторы объектов | Нет | Да |
| Короткие имена | Нет | Да |
| Дополнительные атрибуты | Нет | Да |
| Дисковые квоты | Нет | Да |
| Загружаемый | Нет | Да |
| Поддерживается на съемном носителе | Нет | Да |
| Уровни хранилища NTFS | Нет | Да |


## <a name="see-also"></a>См. также

-   [Клонирование блоков ReFS](block-cloning.md)
-   [Потоки целостности ReFS](integrity-streams.md)
-   [Обзор локальных дисковых пространств](../storage-spaces/storage-spaces-direct-overview.md)
