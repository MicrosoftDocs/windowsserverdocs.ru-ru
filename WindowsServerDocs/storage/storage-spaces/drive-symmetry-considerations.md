---
title: Рекомендации по симметрии дисков дисковыми пространствами
ms.author: cosdar
ms.manager: eldenc
ms.technology: storage-spaces
ms.topic: article
author: cosmosdarwin
ms.date: 10/08/2018
Keywords: Локальные дисковые пространства
ms.localizationpriority: medium
ms.openlocfilehash: 629e49a0c1919286d8e4f418b3e99d69e720f4fd
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59866885"
---
# <a name="drive-symmetry-considerations-for-storage-spaces-direct"></a>Рекомендации по симметрии дисков дисковыми пространствами 

> Относится к: Windows Server 2019, Windows Server 2016

[Дисковыми пространствами](storage-spaces-direct-overview.md) лучше всего работает, когда каждый сервер имеет точно те же диски.

На самом деле мы понимаем, что такой подход не всегда: Дисковыми пространствами предназначен для работы лет, а также развертывать по мере роста потребностей вашей организации. В настоящее время можно приобрести spacious 3 ТБ жестких дисков; следующий год может перестать невозможно найти объекты, то небольшой. Таким образом поддерживается некоторую часть смешение и сопоставление.

В этом разделе объясняется, ограничения и примеры поддерживаемых и неподдерживаемых конфигураций.

## <a name="constraints"></a>Ограничения

### <a name="type"></a>Тип

Все серверы должны иметь же [типов дисков](choosing-drives.md#drive-types).

Например, если один сервер NVMe, они должны *все* имеют NVMe.

### <a name="number"></a>Номер

Все серверы должны иметь одинаковое количество дисков каждого типа.

Например, если один сервер имеет шесть SSD, они должны *все* иметь шесть SSD.

   > [!NOTE]
   > Это хорошо для количество дисков, которые отличаются временно во время сбоев или при добавлении или удалении дисков.

### <a name="model"></a>Модель

Мы рекомендуем использовать дисков на ту же модель и версия встроенного по, когда это возможно. Если это невозможно, необходимо тщательно выберите диски, как можно более похожи. Не рекомендуется смешение и сопоставление дисков одного типа с резко разными характеристиками производительности и нагрузочное тестирование (если он кэша, а другой — емкости), так как дисковые равномерно распределяет операции ввода-ВЫВОДА и не различать на основе модели .

   > [!NOTE]
   > Диски SATA и SAS аналогичные сопоставлять и совмещать допустимо.

### <a name="size"></a>Размер

Мы рекомендуем использовать диски одинаковый размер, когда это возможно. Использование емкости дисков разных размеров может привести некоторые непригодным для использования емкости, и с помощью кэш-дисках различных размеров не может повысить производительность кэша. Дополнительные сведения см.

   > [!WARNING]
   > Разные размеры емкости дисков на серверах может привести жертв емкости.

## <a name="understand-capacity-imbalance"></a>Принять во внимание: несбалансированность емкости

Дисковыми пространствами является надежным для дисбаланс емкости на дисках и на серверах. Даже если дисбаланс серьезная, все, что будут работать. Тем не менее в зависимости от нескольких факторов, емкости, которая не поддерживается на каждом сервере может не работать.

Чтобы увидеть, почему это происходит, рассмотрим упрощенную иллюстрацию ниже. Каждый цветной прямоугольник представляет одну копию зеркальной данных. Например, поля помечены A, A "и '' представляют собой три копии тех же данных. Обеспечивать устойчивость к сбоям server, эти копии *необходимо* храниться на различных серверах.

### <a name="stranded-capacity"></a>Данные емкости

При отображении его, полны 1 Server (10 ТБ) и сервер 2 (10 ТБ). Сервер 3 имеет большие диски, поэтому его объем большего размера (15 ТБ). Тем не менее чтобы хранить больше данных Трехсторонняя зеркальная копия на сервере 3 потребуется копии на сервере 1 и 2 сервера слишком, которой уже полны. Оставшаяся емкость 5 ТБ на 3 сервера нельзя использовать, — это *«затруднительные»* емкости.

![Трехстороннее зеркало, три сервера, затруднительные емкости](media/drive-symmetry-considerations/Size-Asymmetry-3N-Stranded.png)

### <a name="optimal-placement"></a>Оптимальное размещение

И наоборот, с четырех серверов 10 ТБ, 10 ТБ, 10 ТБ и 15 ТБ емкости и устойчивости трехстороннее зеркало его *является* возможность надлежащим образом размещения копий способом, который использует всю доступную емкость, как нарисованные. Каждый раз, когда это возможно, дисковыми пространствами распределителя найти и использовать оптимальное размещение, а емкость не обнаружены.

![Трехстороннее зеркало, четырех серверов, емкость не обнаружены](media/drive-symmetry-considerations/Size-Asymmetry-4N-No-Stranded.png)

Количество серверов, устойчивость, серьезность дисбаланс емкости и других факторов влияет на потерянных ресурсов. **Наиболее оправданным общее правило состоит в том, предположить, что только емкость, доступную на каждом сервере гарантированно могли использоваться.**

## <a name="understand-cache-imbalance"></a>Принять во внимание: несбалансированность кэша

Дисковыми пространствами является надежным для кэша дисбаланс по дискам и на серверах. Даже если дисбаланс серьезная, все, что будут работать. Кроме того дисковые пространства всегда использует все доступные кэша для максимального.

Тем не менее, с помощью кэш-дисках различных размеров может не повышает производительность кэша равномерно или предсказуемо: только операций ввода-ВЫВОДА [диска привязки](understand-the-cache.md#server-side-architecture) с большего размера кэша дисков может заметить улучшение производительности. Дисковыми пространствами равномерно распределяет операции ввода-ВЫВОДА по привязок и не различать зависимости от соотношения емкость кэша.

![Несбалансированность кэша](media/drive-symmetry-considerations/Cache-Asymmetry.png)

   > [!TIP]
   > См. в разделе [основные сведения о кэше](understand-the-cache.md) Дополнительные сведения о привязках кэша.

## <a name="example-configurations"></a>Примеры конфигурации

Ниже приведены некоторые поддерживаемые и неподдерживаемые конфигурации.

### <a name="supportedmediadrive-symmetry-considerationssupportedpng-supported-different-models-between-servers"></a>![поддерживаемые](media/drive-symmetry-considerations/supported.png) Поддерживается: разных моделей между серверами

Первые два серверы используют модель NVMe «X», но сторонний сервер использует модель NVMe «Z», которая очень похожа.

| Сервер 1                    | Сервер 2                    | Server 3                    |
|-----------------------------|-----------------------------|-----------------------------|
| 2 x модели NVMe X (кэш)    | 2 x модели NVMe X (кэш)    | 2 x NVMe модели Z (кэш)    |
| 10 x SSD модели Y (емкость) | 10 x SSD модели Y (емкость) | 10 x SSD модели Y (емкость) |

Эта возможность поддерживается.

### <a name="supportedmediadrive-symmetry-considerationssupportedpng-supported-different-models-within-server"></a>![поддерживаемые](media/drive-symmetry-considerations/supported.png) Поддерживается: различные модели, в пределах сервера

Каждый сервер использует некоторые различное количество моделей HDD «Y» и «Z», которые очень похожи. Каждый сервер имеет 10 всего жесткого диска.

| Сервер 1                   | Сервер 2                   | Server 3                   |
|----------------------------|----------------------------|----------------------------|
| 2 x SSD модели X (кэш)    | 2 x SSD модели X (кэш)    | 2 x SSD модели X (кэш)    |
| 7 раз HDD модели Y (емкость) | 5 x HDD модели Y (емкость) | 1 x HDD модели Y (емкость) |
| 3 x HDD модели Z (емкость) | 5 x HDD модели Z (емкость) | 9 x HDD модели Z (емкость) |

Эта возможность поддерживается.

### <a name="supportedmediadrive-symmetry-considerationssupportedpng-supported-different-sizes-across-servers"></a>![поддерживаемые](media/drive-symmetry-considerations/supported.png) Поддерживается: разного размера, по серверам

Во-первых двух серверов использовать 4 ТБ HDD, но сторонний сервер использует очень похожа на 6 ТБ HDD.

| Сервер 1                | Сервер 2                | Server 3                |
|-------------------------|-------------------------|-------------------------|
| 2 x 800 ГБ NVMe (кэш) | 2 x 800 ГБ NVMe (кэш) | 2 x 800 ГБ NVMe (кэш) |
| 4 x 4 ТБ HDD (емкость) | 4 x 4 ТБ HDD (емкость) | 4 x 6 ТБ HDD (емкость) |

Эта возможность поддерживается, несмотря на то, что это приведет к жертв емкости.

### <a name="supportedmediadrive-symmetry-considerationssupportedpng-supported-different-sizes-within-server"></a>![поддерживаемые](media/drive-symmetry-considerations/supported.png) Поддерживается: разные размеры в пределах сервера

Каждый сервер использует другое сочетание 1,2 ТБ и очень похожа на 1,6 ТБ SSD. Каждый сервер имеет 4 общее SSD.

| Сервер 1                 | Сервер 2                 | Server 3                 |
|--------------------------|--------------------------|--------------------------|
| 3 x 1,2 ТБ SSD (кэш)   | 2 x 1,2 ТБ SSD (кэш)   | 4 x 1,2 ТБ SSD (кэш)   |
| 1 x 1,6 ТБ SSD (кэш)   | 2 x 1,6 ТБ SSD (кэш)   | -                        |
| 20 x 4 ТБ HDD (емкость) | 20 x 4 ТБ HDD (емкость) | 20 x 4 ТБ HDD (емкость) |

Эта возможность поддерживается.

### <a name="unsupportedmediadrive-symmetry-considerationsunsupportedpng-not-supported-different-types-of-drives-across-servers"></a>![не поддерживается](media/drive-symmetry-considerations/unsupported.png) Не поддерживается: различные типы дисков на серверах

Сервер 1 имеет NVMe, но не других.

| Сервер 1            | Сервер 2            | Server 3            |
|---------------------|---------------------|---------------------|
| 6 x NVMe (кэш)    | -                   | -                   |
| -                   | 6 x SSD (кэш)     | 6 x SSD (кэш)     |
| 18 x HDD (емкость) | 18 x HDD (емкость) | 18 x HDD (емкость) |

Эта функция не поддерживается. Типы дисков должен быть соответствующим образом в каждом сервере.

### <a name="unsupportedmediadrive-symmetry-considerationsunsupportedpng-not-supported-different-number-of-each-type-across-servers"></a>![не поддерживается](media/drive-symmetry-considerations/unsupported.png) Не поддерживается: разное количество каждого типа по серверам

Сервер 3 имеет несколько дисков, чем другие.

| Сервер 1            | Сервер 2            | Server 3            |
|---------------------|---------------------|---------------------|
| 2 x NVMe (кэш)    | 2 x NVMe (кэш)    | 4 x NVMe (кэш)    |
| 10 x HDD (емкость) | 10 x HDD (емкость) | 20 x HDD (емкость) |

Эта функция не поддерживается. Количество накопителей, каждого типа должны совпадать в каждом сервере.

### <a name="unsupportedmediadrive-symmetry-considerationsunsupportedpng-not-supported-only-hdd-drives"></a>![не поддерживается](media/drive-symmetry-considerations/unsupported.png) Не поддерживается: только диски HDD

Все серверы имеют только подключенные диски HDD.

|Сервер 1|Сервер 2|Server 3|
|-|-|-| 
|18 x HDD (емкость) |18 x HDD (емкость)|18 x HDD (емкость)|

Эта функция не поддерживается. Необходимо добавить как минимум два диска кэша (NvME или SSD) присоединяется к каждому из серверов.

## <a name="summary"></a>Сводка

Кратко Напомню, каждый из серверов в кластере должны иметь те же типы дисков и одинаковое количество каждого типа. Поддерживается для модели и сопоставлению жестких дисков и объем дисков, при необходимости следует учитывать выше.

| Ограничение                               |               |
|------------------------------------------|---------------|
| Типы дисков в каждом сервере     | **Обязательно**  |
| Одинаковое количество каждого типа в каждом сервере | **Обязательно**  |
| Же модели жестких дисков в каждом сервере        | Рекомендуем   |
| Одинаковый размер диска на каждом сервере         | Рекомендуем   |

## <a name="see-also"></a>См. также

- [Требования к оборудованию прямые дисковые пространства в хранилище](storage-spaces-direct-hardware-requirements.md)
- [Общие сведения о дисковых хранилища](storage-spaces-direct-overview.md)
