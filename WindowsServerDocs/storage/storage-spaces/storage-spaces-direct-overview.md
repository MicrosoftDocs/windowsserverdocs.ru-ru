---
title: Обзор локальных дисковых пространств
ms.prod: windows-server-threshold
ms.author: cosdar
ms.manager: dongill
ms.technology: storage-spaces
ms.topic: article
author: cosmosdarwin
ms.date: 03/06/2019
ms.assetid: 8bd0d09a-0421-40a4-b752-40ecb5350ffd
description: Обзор дисковыми пространствами, в состав Windows Server, который позволяет кластера серверов с помощью внутреннего хранилища в программно определяемого хранилища решение.
ms.localizationpriority: medium
ms.openlocfilehash: 25de20b398f780f5da07b6b6cf4d396a7d12204a
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59823895"
---
# <a name="storage-spaces-direct-overview"></a>Обзор локальных дисковых пространств

>Относится к: Windows Server 2019, Windows Server 2016

Локальные дисковые пространства используют стандартные серверы с локально подключенными дисками для создания программно-определяемого хранилища с высоким уровнем доступности и масштабируемости, причем стоимость такого хранилища значительно ниже стоимости традиционных массивов SAN или NAS. Его Конвергентная или гиперконвергентная архитектура существенно упрощает подготовку ресурсов и развертывание при возможности, такие как кэширование, уровни хранения и помехоустойчивое кодирование, поставлять с помощью последних аппаратных инноваций, таких как сети RDMA и диски NVMe, непревзойденную эффективность и производительность.

Дисковые пространства включается в 2019 Windows Server Datacenter, Windows Server 2016 Datacenter и [Windows Server Insider Preview Builds](https://insider.windows.com/for-business-getting-started-server/). 

Для других приложений, дисковых пространств, таких как кластеры общего SAS и автономными серверами, см. в разделе [обзор дисковых пространств](overview.md). Если вы ищете информацию об использовании дискового пространства на Компьютере с Windows 10, см. в разделе [дисковых пространств в Windows 10](https://support.microsoft.com/help/12438/windows-10-storage-spaces).

<table>
    <tr style="border: 0;">
        <td style="padding: 5px; border: 0;">
            <strong>Понять</a></strong>
            <ul>
              <li>Обзор (вы здесь)</li>
              <li><a href="understand-the-cache.md">Понять кэша</a></li>
              <li><a href="storage-spaces-fault-tolerance.md">Эффективность сбоя допуска и хранилища</a></li>
              <li><a href="drive-symmetry-considerations.md">Рекомендации по симметрии диска</a></li>
              <li><a href="understand-storage-resync.md">Понимание и отслеживать повторной синхронизации хранилища</a></li>
              <li><a href="understand-quorum.md">Основные сведения о кворума кластера и пула</a></li>
              <li><a href="cluster-sets.md">Наборы кластера</a></li>
            </ul>
        </td>
        <td style="padding: 5px; border: 0;">
            <strong>План</a></strong>
            <ul>
              <li><a href="storage-spaces-direct-hardware-requirements.md">Требования к оборудованию</a></li>
              <li><a href="csv-cache.md">С помощью CSV-ФАЙЛ в памяти кэш чтения</li>
              <li><a href="choosing-drives.md">Выбор дисков</a></li>
              <li><a href="plan-volumes.md">Планирование томов</a></li>
              <li><a href="storage-spaces-direct-in-vm.md">С помощью гостевых кластеров виртуальной Машины</a></li>
              <li><a href="storage-spaces-direct-disaster-recovery.md">Аварийное восстановление</a></li>
            </ul>
        </td>
    </tr>
    <tr style="border: 0;">
        <td style="padding: 5px; border: 0;">
            <strong>Развертывание</a></strong>
            <ul>
                    <li><a href="deploy-storage-spaces-direct.md">Развертывание локальных дисковых</a></li>
                    <li><a href="create-volumes.md">Создание тома</a></li>
              <li><a href="nested-resiliency.md">Вложенные устойчивости</a></li>
              <li><a href="../../failover-clustering/manage-cluster-quorum.md">Настройка кворума</a></li>
              <li><a href="upgrade-storage-spaces-direct-to-windows-server-2019.md">Обновить кластер дисковых пространств в Windows Server 2019</a></li>
            </ul>
        </td>        
        <td style="padding: 5px; border: 0;">
            <strong>Управление</a></strong>
            <ul>
              <li><a href="../../manage/windows-admin-center/use/manage-hyper-converged.md">Управление с помощью Windows Admin Center</a></li>
              <li><a href="add-nodes.md">Добавление серверов или дисков</a></li>
              <li><a href="maintain-servers.md">Используя сервер в автономный режим для обслуживания</li>
              <li><a href="remove-servers.md">Удаление серверов</a></li>
              <li><a href="resize-volumes.md">Расширение тома</a></li>
              <li><a href="../update-firmware.md">Обновления встроенного по дисков</a></li>
              <li><a href="performance-history.md">Журнал производительности</a></li>
              <li><a href="delimit-volume-allocation.md">Разделение выделение томов</a></li>
            </ul>
        </td>
    </tr>
    <tr style="border: 0;">
         <td style="padding: 5px; border: 0;">
            <strong>Устранение неполадок</a></strong>
            <ul>
              <li><a href="storage-spaces-states.md">Устранение неполадок работоспособности и состояния работоспособности</a></li>
              <li><a href="data-collection.md">Сбор диагностических данных с дисковыми пространствами</a></li>
            </ul>
         <td style="padding: 5px; border: 0;">
            <strong>Последние сообщения в блоге</a></strong>
            <ul>
              <li><a href="https://blogs.technet.microsoft.com/filecab/2018/10/30/windows-server-2019-and-intel-optane-dc-persistent-memory/">13.7 миллиона операций ввода-ВЫВОДА, с дисковыми пространствами: новой записи отрасли для гиперконвергентной инфраструктуры</a></li>
              <li><a href="https://blogs.technet.microsoft.com/filecab/2018/10/02/hci-the-countdown-clock-starts-now/">Гиперконвергентной инфраструктуры, в Windows Server 2019 — обратный отсчет начинается с момента сейчас!</a></li>
              <li><a href="https://blogs.technet.microsoft.com/filecab/2018/06/27/windows-server-summit-recap/">Пять больших объявления от Windows Server Summit</a></li>
              <li><a href="https://blogs.technet.microsoft.com/filecab/2018/03/27/storage-spaces-direct-momentum/">10 000 кластерами дисковых и инвентаризации...</a></li>
            </ul>
</table>

## <a name="videos"></a>Видео

**Краткий обзор видео (5 минут)**

<iframe src="https://www.youtube-nocookie.com/embed/raeUiNtMk0E" width="560" height="315" allowfullscreen></iframe>

**Дисковыми пространствами на Microsoft Ignite 2018 (1 час)**

[Посмотрите на YouTube](https://www.youtube.com/watch?v=5kaUiW3qo30)

**Дисковыми пространствами Microsoft Ignite 2017 (1 час)**

[Посмотрите на YouTube](https://www.youtube.com/watch?v=YDr2sqNB-3c)

**Запуск события на конференции Microsoft Ignite 2016 (1 час)**

[Посмотрите на YouTube](https://www.youtube.com/watch?v=-LK2ViRGbWs)

## <a name="key-benefits"></a>Основные преимущества

<table>
    <tr style="border: 0;">
        <td style="padding: 10px; border: 0; width:100px">
            <img src="media/storage-spaces-direct-in-windows-server-2016/simplicity-icon.png" width="100" alt="">
        </td>
        <td style="padding: 10px; border: 0;">
            <b>Простота.</b> Создать кластер локальных дисковых пространств на основе стандартных серверов с ОС Windows Server 2016 можно меньше чем за 15 минут. Пользователи System Center могут выполнить развертывание, установив один флажок.
        </td>
    </tr>
    <tr style="border: 0;">
        <td style="padding: 10px; border: 0; width:100px">
            <img src="media/storage-spaces-direct-in-windows-server-2016/performance-icon.png" width="100" alt="">
        </td>
        <td style="padding: 10px; border: 0;">
            <b>Непревзойденная производительность.</b> Как при использовании только флэш-памяти, так и при использовании гибридных носителей локальные дисковые пространства позволяют обеспечить <a href="https://blogs.technet.microsoft.com/filecab/2016/07/26/storage-iops-update-with-storage-spaces-direct/">скорость ввода-вывода более 150 000 операций в секунду в смешанном режиме и более 4000 операций в секунду в произвольном режиме на сервер</a> со стабильно низкой задержкой. Это достигается благодаря архитектуре со встроенной низкоуровневой оболочкой, встроенному кэшу чтения и записи и поддержке передовых дисков NVMe, подключаемых непосредственно к шине PCIe.
        </td>
    </tr>
    <tr style="border: 0;">
        <td style="padding: 10px; border: 0; width:100px">
            <img src="media/storage-spaces-direct-in-windows-server-2016/fault-tolerance-icon.png" width="100" alt="">
        </td>
        <td style="padding: 10px; border: 0;">
            <b>Устойчивость к сбоям. </b> Встроенные средства отказоустойчивости обрабатывают диск, сервер или сбоев компонентов, обеспечивая непрерывную доступность. В более масштабных развертываниях можно также настроить <a href="../../failover-clustering/fault-domains.md">отказоустойчивость шасси и стоек</a>. При сбое оборудования просто отключите его: программное обеспечение восстановит работоспособность самостоятельно, без выполнения сложных действий по управлению.
        </td>
    </tr>
    <tr style="border: 0;">
        <td style="padding: 10px; border: 0; width:100px">
            <img src="media/storage-spaces-direct-in-windows-server-2016/efficiency-icon.png" width="100" alt="">
        </td>
        <td style="padding: 10px; border: 0;">
            <b>Эффективность использования ресурсов.</b> Помехоустойчивое кодирование повышает экономичность хранения в 2,4 раза, а уникальные инновации, такие как локальные коды реконструкции и уровни ReFS в режиме реального времени, позволяют распространить эти преимущества на жесткие диски и смешанные (холодные и горячие) рабочие нагрузки. При этом снижается загрузка ЦП, и ресурсы высвобождаются для наиболее важной задачи — выполнения виртуальных машин.
        </td>
    </tr>
    <tr style="border: 0;">
        <td style="padding: 10px; border: 0; width:100px">
            <img src="media/storage-spaces-direct-in-windows-server-2016/manageability-icon.png" width="100" alt="">
        </td>
        <td style="padding: 10px; border: 0;">
            <b>Управляемость.</b> Используйте <a href="../storage-qos/storage-qos-overview.md">средства управления качеством обслуживания хранилища</a>, чтобы контролировать работу наиболее загруженных виртуальных машин с помощью минимальных и максимальных значений скорости ввода-вывода на виртуальную машину. <a href="../../failover-clustering/health-service-overview.md">Служба работоспособности</a> предоставляет встроенные возможности непрерывного мониторинга и оповещения, а новые интерфейсы API позволяют легко собирать расширенные метрики производительности и емкости в масштабе всего кластера.
        </td>
    </tr>
    <tr style="border: 0;">
        <td style="padding: 10px; border: 0; width:100px">
            <img src="media/storage-spaces-direct-in-windows-server-2016/scalability-icon.png" width="100" alt="">
        </td>
        <td style="padding: 10px; border: 0;">
            <b>Масштабируемость.</b> Поддерживается масштабирование до 16 серверов и более чем 400 дисков, что позволяет получать объем хранилища в 1 петабайт (1000 терабайт) на кластер. Чтобы осуществить масштабирование, просто добавьте диски или серверы. Локальные дисковые пространства автоматически подключат новые диски и начнут использовать их. Эффективность и производительность хранилища повышают предсказуемость при масштабировании.
        </td>
    </tr>
</table>

## <a name="deployment-options"></a>Варианты развертывания

Локальные дисковые пространства предусматривают два разных варианта развертывания:

### <a name="converged"></a>конвергентное;

**Хранилище и вычислительные ресурсы в отдельные кластеры.** При конвергентном развертывании, также известном как дезагрегированное, масштабируемый файловый сервер (SoFS) размещается поверх локальных дисковых пространств для предоставления подключенного к сети хранилища посредством общих папок SMB3. Это позволяет масштабировать вычислительные ресурсы и рабочие нагрузки независимо от кластера хранилища, особенно в масштабных развертываниях, например Hyper-V IaaS (инфраструктура как услуга), для поставщиков услуг и крупных предприятий.

![Дисковые пространства прямого подключения обслуживают хранилище с помощью функции масштабирования файлового сервера в виртуальные машины Hyper-V на другом сервере или кластере](media/storage-spaces-direct-in-windows-server-2016/converged-minimal.png)

### <a name="hyper-converged"></a>Гиперконвергентные

**Один кластер для вычислений и хранения.** При гиперконвергентном развертывании виртуальные машины Hyper-V или базы данных SQL Server работают непосредственно на серверах, предоставляющих хранилище, и сохраняют файлы в локальных томах. Это устраняет необходимость в настройке доступа к файловым серверам и разрешений. Кроме того, снижается стоимость оборудования при развертывании на малых и средних предприятиях, а также в удаленных офисах и филиалах. См. в разделе [развертывание локальных дисковых](deploy-storage-spaces-direct.md).

![Дисковые пространства прямого подключения обслуживают хранилище в виртуальных машинах Hyper-V на одном и том же кластере](media/storage-spaces-direct-in-windows-server-2016/hyper-converged-minimal.png)

## <a name="how-it-works"></a>Принцип работы

Локальные дисковые пространства являются развитием дисковых пространств, впервые представленных в Windows Server 2012. В них используется множество существующих возможностей Windows Server, таких как отказоустойчивая кластеризация, файловая система CSV, протокол SMB3 и, конечно, дисковые пространства. В них также были реализованы новые технологии, в первую очередь шина Software Storage Bus.

Ниже представлен обзор стека локальных дисковых пространств.

![Стек локальных дисковых пространств](media/storage-spaces-direct-in-windows-server-2016/converged-full-stack.png)

**Сетевое оборудование.** Для обмена данными между серверами локальные дисковые пространства используют протокол SMB3, включая SMB Direct и SMB Multichannel, работающий через Ethernet. Мы настоятельно рекомендуем использовать Ethernet со скоростью передачи данных более 10 Гбит/с и удаленным доступом к памяти (RDMA) — iWARP или RoCE.

**Оборудование для хранения.** От 2 до 16 серверов с локально подключенными дисками SATA, SAS или NVMe. Каждый сервер должен иметь по крайней мере 2 твердотельных накопителя и 4 дополнительных диска. Устройства SATA и SAS должны располагаться за адаптером шины (HBA) и расширителем SAS. Мы настоятельно рекомендуем использовать тщательно спроектированные и протестированные платформы от наших партнеров (ожидаются в ближайшее время).

**Отказоустойчивая кластеризация.** Встроенная функция кластеризации Windows Server используется для подключения серверов.

**Шина Software Storage Bus.** Шина Software Storage Bus — это новая технология, представленная в локальных дисковых пространствах. Она охватывает весь кластер и создает программно-определяемую структуру хранения, в которой каждый сервер имеет доступ к локальным дискам любого другого сервера. Это можно рассматривать как замену дорогостоящим и ограниченным в своих возможностях подключениям Fibre Channel или Shared SAS.

**Кэш уровня шины хранилища.** Шина Software Storage Bus динамически связывает самые быстрые диски присутствует (например, SSD) с более медленными дисками (например, жесткими дисками) для обеспечения кэширования на сервере чтения и записи, ускоряет операции ввода-ВЫВОДА и повысить пропускную способность.

**Пул носителей.** Набор дисков, которые образуют основу для дисковых пространств, называется пулом носителей. Он создается автоматически, и все подходящие диски обнаруживаются и добавляются в него также автоматически. Мы настоятельно рекомендуем использовать один пул носителей в каждом кластере с параметрами по умолчанию. Прочитайте раздел [Глубокое погружение в пул носителей](https://blogs.technet.microsoft.com/filecab/2016/11/21/deep-dive-pool-in-spaces-direct/), чтобы узнать больше.

**Дисковые пространства.** Дисковые пространства обеспечивают отказоустойчивость виртуальных накопителей с помощью [зеркалирования, помехоустойчивого кодирования или обеих этих технологий](storage-spaces-fault-tolerance.md). Их можно представить как распределенный программно-определяемый массив RAID на основе дисков в пуле. В локальных дисковых пространствах виртуальные диски обычно устойчивы к одновременному сбою двух дисков или серверов (то есть применяется трехстороннее зеркалирование, при котором каждая копия данных размещается на отдельном сервере), хотя также доступна отказоустойчивость на уровне шасси или стоек.

**Восстанавливаемая файловая система (ReFS).** ReFS — это файловая система с превосходными возможностями, предназначенная специально для виртуализации. Она позволяет существенно ускорить операции с файлами VHDX, такие как создание, расширение и объединение контрольных точек, а также имеет встроенные средства проверки контрольной суммы для обнаружения и исправления ошибок на уровне отдельных битов. В ней также реализовано переключение уровней в режиме реального времени, позволяющее переносить данные между "активными" и "пассивными" уровнями хранения в режиме реального времени в соответствии с интенсивностью использования.

**Общие тома кластера.** Файловая система CSV объединяет все тома ReFS в единое пространство имен, доступное с любого сервера, так что для каждого сервера все тома представляются как локально подключенные.

**Масштабируемый файловый сервер.** Этот последний уровень необходим только в конвергентных развертываниях. Он обеспечивает удаленный доступ к файлам со стороны клиентов, например другого кластера Hyper-V, через сеть по протоколу SMB3. Таким образом локальные дисковые пространства по сути превращаются в подключенное к сети хранилище (NAS).

## <a name="customer-stories"></a>Истории клиентов

Существуют [более 10 000 кластеров](https://blogs.technet.microsoft.com/filecab/2018/03/27/storage-spaces-direct-momentum/) по всему миру дисковых. Организаций любых размеров — от малых предприятий, развертывание только двумя узлами для крупных предприятий и государственные учреждения, развертывание сотнями узлов, зависят от дисковых пространств для своих критически важных приложений и инфраструктуры.

Посетите [Microsoft.com/HCI](https://www.microsoft.com/hci) читать их истории:

[![Сетка логотипы клиентов](media/storage-spaces-direct-in-windows-server-2016/customer-stories.png)](https://www.microsoft.com/hci)

## <a name="management-tools"></a>Средства управления

Управление и/или отслеживания дисковыми пространствами можно использовать следующие средства:

| Имя | Графическое или командной строки? | Платная или включен? |
|-----------------|----------------------------|-------------------|
| [Windows Admin Center](../../manage/windows-admin-center/overview.md)     | Графический    | Включено |
| Диспетчер серверов и Диспетчер отказоустойчивости кластеров                                 | Графический    | Включено |
| Windows PowerShell                                                        | Командная строка | Включено |
| [System Center Virtual Machine Manager (SCVMM)](https://technet.microsoft.com/system-center-docs/vmm/manage/manage-storage-spaces-direct-vmm) & [Operations Manager (SCOM)](https://www.microsoft.com/download/details.aspx?id=54700) | Графический    | Платная     |

## <a name="get-started"></a>Начало работы

Попробуйте локальные дисковые пространства [в Microsoft Azure](https://blogs.technet.microsoft.com/filecab/2016/05/05/s2dazuretp5/) или скачайте [ознакомительную версию Windows Server](https://go.microsoft.com/fwlink/?linkid=842602) с лицензией на 180 дней.

## <a name="see-also"></a>См. также

-   [Эффективность сбоя допуска и хранилища](storage-spaces-fault-tolerance.md)
-   [Реплика хранилища](../storage-replica/storage-replica-overview.md)
-   [Хранилище в блоге Майкрософт](https://blogs.technet.microsoft.com/filecab/)
-   [Пропускная способность дисковых пространств прямого подключения с iWARP](https://blogs.technet.microsoft.com/filecab/2017/03/13/storage-spaces-direct-throughput-with-iwarp) (блог TechNet)
-   [Новые возможности отказоустойчивой кластеризации в Windows Server](../../failover-clustering/whats-new-in-failover-clustering.md)  
-   [Качество обслуживания хранилища](../storage-qos/storage-qos-overview.md)
-   [Windows ИТ-специалистов поддержки](https://www.microsoft.com/itpro/windows/support)
