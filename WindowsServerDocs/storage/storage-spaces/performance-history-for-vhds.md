---
title: Журнал производительности для виртуальных жестких дисков
ms.author: cosdar
ms.manager: eldenc
ms.technology: storage-spaces
ms.topic: article
author: cosmosdarwin
ms.date: 02/09/2018
Keywords: Локальные дисковые пространства
ms.localizationpriority: medium
ms.openlocfilehash: 7a0d8d132b6a5ff42cbe78a22c67dd9fec397184
ms.sourcegitcommit: 0d0b32c8986ba7db9536e0b8648d4ddf9b03e452
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/17/2019
ms.locfileid: "59880405"
---
# <a name="performance-history-for-virtual-hard-disks"></a>Журнал производительности для виртуальных жестких дисков

> Область применения. Сборка из программы предварительной оценки Windows Server

Этот подраздел из [журнал производительности дисковых](performance-history.md) подробно описывается журнал производительности, собранных для файлов виртуального жесткого диска (VHD). Для каждого виртуального жесткого диска, присоединенного к виртуальной машине, работающей, кластеризованный доступен журнал производительности. Доступен журнал производительности для форматов VHD и VHDX, но она недоступна для общих vhdx-файлов.

   > [!NOTE]
   > Он может занять несколько минут для коллекции начать для вновь созданного или перемещенных файлов виртуального жесткого диска.

## <a name="series-names-and-units"></a>Имена рядов и единицы

Этих рядов собираются для каждого право виртуального жесткого диска:

| серии                    | Единица измерения             |
|---------------------------|------------------|
| `vhd.iops.read`           | в секунду       |
| `vhd.iops.write`          | в секунду       |
| `vhd.iops.total`          | в секунду       |
| `vhd.throughput.read`     | байт в секунду |
| `vhd.throughput.write`    | байт в секунду |
| `vhd.throughput.total`    | байт в секунду |
| `vhd.latency.average`     | секунды          |
| `vhd.size.current`        | байт            |
| `vhd.size.maximum`        | байт            |

## <a name="how-to-interpret"></a>Способ интерпретации

| серии                    | Способ интерпретации                                                                                                 |
|---------------------------|------------------------------------------------------------------------------------------------------------------|
| `vhd.iops.read`           | Количество операций чтения в секунду, выполненных виртуальным жестким диском.                                         |
| `vhd.iops.write`          | Количество операций записи в секунду, выполненных виртуальным жестким диском.                                        |
| `vhd.iops.total`          | Общее число операций чтения или записи в секунду, выполненных виртуальным жестким диском.                          |
| `vhd.throughput.read`     | Количество данных, считанных из виртуального жесткого диска в секунду.                                                     |
| `vhd.throughput.write`    | Количество данных, записанных в виртуальный жесткий диск в секунду.                                                    |
| `vhd.throughput.total`    | Общее количество данных считывается или записывается на виртуальный жесткий диск в секунду.                                 |
| `vhd.latency.average`     | Среднее по всем операциям, или из виртуального жесткого диска.                                              |
| `vhd.size.current`        | Текущий размер файла виртуального жесткого диска, если динамически расширяемые. Если устранения ряда не собираются. |
| `vhd.size.maximum`        | Максимальный размер виртуального жесткого диска, если динамически расширяемые. Если так, — это размер.                  |

## <a name="where-they-come-from"></a>Откуда они берутся

`iops.*`, `throughput.*`, И `latency.*` ряда собираются из `Hyper-V Virtual Storage Device` на сервере набор счетчиков производительности, где виртуальная машина будет запущен, один экземпляр на VHD или VHDX.

| серии                    | Счетчик источника         |
|---------------------------|------------------------|
| `vhd.iops.read`           | `Read Operations/Sec`  |
| `vhd.iops.write`          | `Write Operations/Sec` |
| `vhd.iops.total`          | *суммы выше*     |
| `vhd.throughput.read`     | `Read Bytes/sec`       |
| `vhd.throughput.write`    | `Write Bytes/sec`      |
| `vhd.throughput.total`    | *суммы выше*     |
| `vhd.latency.average`     | `Latency`              |

   > [!NOTE]
   > Счетчики измеряемый в течение всего интервала, не попали в выборку. Например, если виртуальный жесткий ДИСК является неактивным в течение 9 секунд но завершается 30 IOs в десятой секунды, его `vhd.iops.total` будут записываться как 3 операций ввода-вывода в секунду в среднем за этот 10-секундный интервал. Это гарантирует, что его журнал производительности записывает все действия и надежна для шума.

## <a name="usage-in-powershell"></a>Использование в PowerShell

Используйте [Get-VHD](https://docs.microsoft.com/powershell/module/hyper-v/get-vhd) командлета:

```PowerShell
Get-VHD <Path> | Get-ClusterPerf
```

Для получения пути для каждого виртуального жесткого диска из виртуальной машины:

```PowerShell
(Get-VM <Name>).HardDrives | Select Path
```

   > [!NOTE]
   > Командлет Get-VHD требует, чтобы указать путь к файлу. Он не поддерживает перечисление.

## <a name="see-also"></a>См. также

- [Журнал производительности для дисковых пространств](performance-history.md)
