---
title: Журнал производительности для виртуальных машин
ms.author: cosdar
manager: eldenc
ms.technology: storage-spaces
ms.topic: article
author: cosmosdarwin
ms.date: 09/07/2018
ms.localizationpriority: medium
ms.openlocfilehash: aefc9c3c33cb93be241aae4ef18d815a9f8defef
ms.sourcegitcommit: b00d7c8968c4adc8f699dbee694afe6ed36bc9de
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2020
ms.locfileid: "80856147"
---
# <a name="performance-history-for-virtual-machines"></a>Журнал производительности для виртуальных машин

> Область применения: Windows Server 2019

Этот подраздел [журнала производительности для Локальные дисковые пространства](performance-history.md) подробно описывает журнал производительности, собранный для виртуальных машин (ВМ). Журнал производительности доступен для каждой работающей кластеризованной виртуальной машины.

   > [!NOTE]
   > Запуск сбора для новых или переименованных виртуальных машин может занять несколько минут.

## <a name="series-names-and-units"></a>Имена и единицы рядов

Эти серии собираются для каждой подходящей виртуальной машины.

| Ряд                            | Единица измерения             |
|-----------------------------------|------------------|
| `vm.cpu.usage`                    | percent          |
| `vm.memory.assigned`              | байты            |
| `vm.memory.available`             | байты            |
| `vm.memory.maximum`               | байты            |
| `vm.memory.minimum`               | байты            |
| `vm.memory.pressure`              | -                |
| `vm.memory.startup`               | байты            |
| `vm.memory.total`                 | байты            |
| `vmnetworkadapter.bandwidth.inbound`  | бит в секунду |
| `vmnetworkadapter.bandwidth.outbound` | бит в секунду |
| `vmnetworkadapter.bandwidth.total`    | бит в секунду |

Кроме того, все виртуальные жесткие диски (VHD), такие как `vhd.iops.total`, объединяются для каждого виртуального жесткого диска, подключенного к виртуальной машине.

## <a name="how-to-interpret"></a>Как интерпретировать


| Ряд                            | Описание                                                                                                  |
|-----------------------------------|--------------------------------------------------------------------------------------------------------------|
| `vm.cpu.usage`                    | Процент использования виртуальными машинами процессоров сервера узла.                                   |
| `vm.memory.assigned`              | Объем памяти, назначенной виртуальной машине.                                                      |
| `vm.memory.available`             | Объем памяти, который остается доступным, из назначенного количества.                                       |
| `vm.memory.maximum`               | При использовании динамической памяти это максимальный объем памяти, который может быть назначен виртуальной машине. |
| `vm.memory.minimum`               | При использовании динамической памяти это минимальный объем памяти, который может быть назначен виртуальной машине. |
| `vm.memory.pressure`              | Отношение объема памяти, запрашиваемой виртуальной машиной, к памяти, выделенной виртуальной машине.            |
| `vm.memory.startup`               | Объем памяти, необходимый для запуска виртуальной машины.                                            |
| `vm.memory.total`                 | Общий объем памяти. |
| `vmnetworkadapter.bandwidth.inbound`  | Интенсивность получения данных виртуальной машиной между всеми виртуальными сетевыми адаптерами.                        |
| `vmnetworkadapter.bandwidth.outbound` | Интенсивность передачи данных виртуальной машиной между всеми виртуальными сетевыми адаптерами.                            |
| `vmnetworkadapter.bandwidth.total`    | Общая скорость получения или отправки данных виртуальной машиной по всем виртуальным сетевым адаптерам.          |

   > [!NOTE]
   > Счетчики измеряются для всего интервала, а не для выборки. Например, если виртуальная машина бездействует в течение 9 секунд, но пиковое значение будет использовать 50% центрального процессора узла в десятой секунде, его `vm.cpu.usage` записываются в среднем на 5% в течение этого 10-секундного интервала. Это гарантирует, что журнал производительности захватывает все действия и является надежным для шума.

## <a name="usage-in-powershell"></a>Использование в PowerShell

Используйте командлет [Get-VM](https://docs.microsoft.com/powershell/module/hyper-v/get-vm) :

```PowerShell
Get-VM <Name> | Get-ClusterPerf
```

   > [!NOTE]
   > Командлет Get-VM возвращает только виртуальные машины на локальном (или указанном) сервере, а не в кластере.

## <a name="see-also"></a>См. также:

- [Журнал производительности для Локальные дисковые пространства](performance-history.md)
