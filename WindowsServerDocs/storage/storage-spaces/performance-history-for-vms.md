---
title: Журнал производительности для виртуальных машин
ms.author: cosdar
manager: eldenc
ms.topic: article
author: cosmosdarwin
ms.date: 09/07/2018
ms.localizationpriority: medium
ms.openlocfilehash: dcf866d1de675f914d469783b1194e55adf63cb8
ms.sourcegitcommit: dfa48f77b751dbc34409aced628eb2f17c912f08
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2020
ms.locfileid: "87968731"
---
# <a name="performance-history-for-virtual-machines"></a>Журнал производительности для виртуальных машин

> Область применения: Windows Server 2019

Этот подраздел [журнала производительности для Локальные дисковые пространства](performance-history.md) подробно описывает журнал производительности, собранный для виртуальных машин (ВМ). Журнал производительности доступен для каждой работающей кластеризованной виртуальной машины.

   > [!NOTE]
   > Запуск сбора для новых или переименованных виртуальных машин может занять несколько минут.

## <a name="series-names-and-units"></a>Имена и единицы рядов

Эти серии собираются для каждой подходящей виртуальной машины.

| Series                            | Единица измерения             |
|-----------------------------------|------------------|
| `vm.cpu.usage`                    | percent          |
| `vm.memory.assigned`              | Байты            |
| `vm.memory.available`             | Байты            |
| `vm.memory.maximum`               | Байты            |
| `vm.memory.minimum`               | Байты            |
| `vm.memory.pressure`              | -                |
| `vm.memory.startup`               | Байты            |
| `vm.memory.total`                 | Байты            |
| `vmnetworkadapter.bandwidth.inbound`  | бит в секунду |
| `vmnetworkadapter.bandwidth.outbound` | бит в секунду |
| `vmnetworkadapter.bandwidth.total`    | бит в секунду |

Кроме того, все виртуальные жесткие диски (VHD), такие как `vhd.iops.total` , объединяются для каждого виртуального жесткого диска, подключенного к виртуальной машине.

## <a name="how-to-interpret"></a>Как интерпретировать


| Series                            | Описание                                                                                                  |
|-----------------------------------|--------------------------------------------------------------------------------------------------------------|
| `vm.cpu.usage`                    | Процент использования виртуальными машинами процессоров сервера узла.                                   |
| `vm.memory.assigned`              | Объем памяти, назначенной виртуальной машине.                                                      |
| `vm.memory.available`             | Объем памяти, который остается доступным, из назначенного количества.                                       |
| `vm.memory.maximum`               | При использовании динамической памяти это максимальный объем памяти, который может быть назначен виртуальной машине. |
| `vm.memory.minimum`               | При использовании динамической памяти это минимальный объем памяти, который может быть назначен виртуальной машине. |
| `vm.memory.pressure`              | Отношение объема памяти, запрашиваемой виртуальной машиной, к памяти, выделенной виртуальной машине.            |
| `vm.memory.startup`               | Объем памяти, необходимый для запуска виртуальной машины.                                            |
| `vm.memory.total`                 | Общий объем памяти. |
| `vmnetworkadapter.bandwidth.inbound`  | Интенсивность получения данных виртуальной машиной между всеми виртуальными сетевыми адаптерами.                        |
| `vmnetworkadapter.bandwidth.outbound` | Интенсивность передачи данных виртуальной машиной между всеми виртуальными сетевыми адаптерами.                            |
| `vmnetworkadapter.bandwidth.total`    | Общая скорость получения или отправки данных виртуальной машиной по всем виртуальным сетевым адаптерам.          |

   > [!NOTE]
   > Счетчики измеряются для всего интервала, а не для выборки. Например, если виртуальная машина бездействует в течение 9 секунд, но Пиковая нагрузка на 50% центрального процессора узла в десятой секунде, она `vm.cpu.usage` будет записана в среднем на 5% в течение этого 10-секундного интервала. Это гарантирует, что журнал производительности захватывает все действия и является надежным для шума.

## <a name="usage-in-powershell"></a>Использование в PowerShell

Используйте командлет [Get-VM](/powershell/module/hyper-v/get-vm) :

```PowerShell
Get-VM <Name> | Get-ClusterPerf
```

   > [!NOTE]
   > Командлет Get-VM возвращает только виртуальные машины на локальном (или указанном) сервере, а не в кластере.

## <a name="additional-references"></a>Дополнительные ссылки

- [Журнал производительности для Локальных дисковых пространств](performance-history.md)
