---
title: Управление безопасности транспортного уровня (TLS)
description: Безопасность Windows Server
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: security-tls-ssl
ms.tgt_pltfrm: na
ms.topic: article
author: justinha
ms.author: justinha
manager: brianlic-msft
ms.date: 05/16/2018
ms.openlocfilehash: 872647f09898bf8ae08ee69f28b717d28abf7c78
ms.sourcegitcommit: eaf071249b6eb6b1a758b38579a2d87710abfb54
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/31/2019
ms.locfileid: "66447302"
---
# <a name="manage-transport-layer-security-tls"></a>Управление безопасности транспортного уровня (TLS)

>Относится к: Windows Server (полугодовой канал), Windows Server 2016, Windows 10

## <a name="configuring-tls-cipher-suite-order"></a>Настройка порядок комплектов шифров TLS

Разные версии Windows поддерживают разные наборы шифров TLS и порядке приоритета. См. в разделе [шифров TLS/SSL (Schannel SSP)](https://msdn.microsoft.com/library/windows/desktop/aa374757.aspx) для управления порядком по умолчанию, поддерживаемых поставщиком Schannel Microsoft в различных версиях Windows.

> [!NOTE] 
> Вы также можете изменить список шифров, с помощью функций CNG, см. в разделе [расстановка приоритетов шифров Schannel](https://msdn.microsoft.com/library/windows/desktop/bb870930.aspx) подробные сведения.

Порядок комплектов шифров TLS изменения вступят в силу при следующей загрузке. До перезагрузки или завершения работы существующий заказ вступят в силу.

> [!WARNING] 
> Обновление параметров реестра для сортировка приоритет по умолчанию не поддерживается и может быть сброшена, с помощью обновлений для обслуживания. 

### <a name="configuring-tls-cipher-suite-order-by-using-group-policy"></a>Настройка порядок комплектов шифров TLS с помощью групповой политики

Чтобы настроить порядок комплектов шифров TLS по умолчанию, можно использовать параметры SSL Cipher Suite порядок групповой политики.

1. В консоль управления групповыми политиками последовательно выберите пункты **Конфигурация компьютера** > **административные шаблоны** > **сетей**  >  **Параметры настройки SSL**.
2. Дважды щелкните **порядок комплектов шифров SSL**, а затем нажмите кнопку **включено** параметр.
3. Щелкните правой кнопкой мыши **комплекты шифров SSL** выберите **выбрать все** во всплывающем меню.

   ![Параметр групповой политики](../media/Transport-Layer-Security-protocol/ssl-cipher-suite-order-gp-setting.png)

4. Щелкните правой кнопкой мыши выделенный текст и выберите **копирования** во всплывающем меню.
5. Вставьте текст в текстовом редакторе, например notepad.exe и обновление с новый список заказов cipher suite.

   > [!NOTE]
   > Списке TLS cipher suite должен быть в формате с разделителями-запятыми strict. Каждая строка cipher suite будет заканчиваться запятую (,) справа от него. 
   > 
   > Кроме того список шифров более 1023 символов.

6. Замена списка в **комплекты шифров SSL** с обновленной упорядоченного списка.
7. Нажмите кнопку **OK** или **Применить**.

### <a name="configuring-tls-cipher-suite-order-by-using-mdm"></a>Настройка порядок комплектов шифров TLS с помощью MDM

CSP политики Windows 10 поддерживает настройку комплектов шифров TLS. См. в разделе [шифрования/TLSCipherSuites](https://msdn.microsoft.com/windows/hardware/commercialize/customize/mdm/policy-configuration-service-provider#cryptography-tlsciphersuites) Дополнительные сведения.

### <a name="configuring-tls-cipher-suite-order-by-using-tls-powershell-cmdlets"></a>Настройка порядок комплектов шифров TLS с помощью командлетов PowerShell TLS

Модуль TLS PowerShell поддерживает получение упорядоченный список шифров TLS, отключение шифров и включение шифров. См. в разделе [модуль TLS](https://technet.microsoft.com/itpro/powershell/windows/tls/tls) Дополнительные сведения.

## <a name="configuring-tls-ecc-curve-order"></a>Настройка порядка кривая TLS ECC 

Начиная с Windows 10 и Windows Server 2016, порядок кривая ECC можно настроить независимо от порядок комплектов шифров. Если TLS шифра suite порядке списка имеет эллиптических суффиксов, они будут переопределены новый порядок приоритета на основе эллиптических кривых, если этот параметр включен. Это позволяет организациям использовать объект групповой политики для настройки различных версий Windows с тем же порядок наборов шифров.

> [!NOTE]
> До Windows 10 cipher suite строки были добавлены с эллиптической кривой, чтобы определить приоритет кривой.

### <a name="managing-windows-ecc-curves-using-certutil"></a>Управление Windows ECC кривых, с помощью CertUtil

Начиная с Windows 10 и Windows Server 2016, Windows предоставляет управление на основе эллиптических кривых параметра с помощью certutil.exe служебной программы командной строки. Параметры на основе эллиптических кривых, сохраняются в bcryptprimitives.dll. Использование certutil.exe, администраторы могут добавлять и удалять параметры кривой в и из Windows, соответственно. Параметры кривой надежно сохраняет Certutil.exe в реестре. Windows можно приступить к использованию параметры кривой, имя, связанное с кривой.    

#### <a name="displaying-registered-curves"></a>Отображение зарегистрированных кривых

Используйте следующую команду certutil.exe для отображения списка кривых, зарегистрированные для текущего компьютера.

```powershell
certutil.exe –displayEccCurve
```

![Кривые отображения Certutil](../media/Transport-Layer-Security-protocol/certutil-display-curves.png)

*Рис. 1 Certutil.exe выходных данных для отображения списка зарегистрированных кривых.*

#### <a name="adding-a-new-curve"></a>Добавление новых кривой

Организации можно создать и использовать параметры кривой, проверять, другие доверенные субъекты.  
Администраторы, желающие использовать эти новые кривых в Windows необходимо добавить кривой.  
Используйте следующую команду certutil.exe добавления кривую на текущий компьютер:

```powershell
Certutil —addEccCurue curveName curveParameters [curveOID] [curveType]
```

- **CurveName** аргумент представляет имя кривой, от имени которой были добавлены параметры кривой.
- **CurveParameters** аргумент представляет имя файла сертификата, который содержит параметры кривых, вы хотите добавить.
- **CurveOid** аргумент представляет имя файла сертификата, который содержит идентификатор OID параметры кривой, необходимо добавить (необязательно).
- **CurveType** аргумент представляет значение десятичного числа именованную кривую из [реестра кривой с именем EC](http://www.iana.org/assignments/tls-parameters/tls-parameters.xhtml#tls-parameters-8) (необязательно).

![Certutil добавлять кривые](../media/Transport-Layer-Security-protocol/certutil-add-curves.png)

*Рис. 2 Добавление кривую с помощью certutil.exe.*

#### <a name="removing-a-previously-added-curve"></a>Удаление ранее добавленный кривой

Администраторы могут удалить ранее добавленный кривую, используя следующую команду certutil.exe:

```powershell
Certutil.exe –deleteEccCurve curveName
```

После администратор удаляет кривой с компьютера Windows не удается использовать именованную кривую.

## <a name="managing-windows-ecc-curves-using-group-policy"></a>Управление Windows ECC кривых, с помощью групповой политики

Организации может распространять параметры кривой для предприятия, присоединенных к домену, с помощью групповой политики и расширения реестра групповой политики компьютера.  
Процедура распространения кривую является:

1.  В Windows 10 и Windows Server 2016, использовать **certutil.exe** для добавления новых зарегистрированных именованную кривую для Windows.
2.  С этого же компьютера откройте консоль управления групповыми политиками (GPMC), создает новый объект групповой политики и изменить его.
3.  Перейдите к **Конфигурация компьютера | Предпочтения | Параметры Windows | Реестр**.  Щелкните правой кнопкой мыши **реестра**. Наведите указатель мыши **New** и выберите **элемента коллекции**. Переименование элемента сбора в соответствии с именем кривой. Вы создадите один элемент коллекции реестра для каждого раздела реестра в разделе *HKEY_LOCAL_MACHINE\CurrentControlSet\Control\Cryptography\ECCParameters*.
4.  Настройте только что созданный коллекцию реестра предпочтений групповых политик, добавив новый **элемента реестра** для каждого значения реестра, перечисленных в разделе *HKEY_LOCAL_MACHINE\CurrentControlSet\Control\Cryptography\ ECCParameters\[curveName]* .
5.  Разверните объект групповой политики, содержащий элемент сбор данных реестра групповой политики для Windows 10 и Windows Server 2016 компьютеры, которые должны получать новые именованных кривых.

    ![GPP распространять кривых](../media/Transport-Layer-Security-protocol/gpp-distribute-curves.png)

    *Рис. 3 с помощью групповых политик для распределения кривых*

## <a name="managing-tls-ecc-order"></a>Управление порядок TLS ECC

Начиная с Windows 10 и Windows Server 2016, порядок кривая ECC групповой политики можно использовать параметры настройки по умолчанию порядок кривая ECC TLS. С помощью универсального ECC и этот параметр, организации можно добавить собственные доверенных именованных кривых (, утвержденные для использования с TLS) для операционной системы, а затем добавить этих именованных кривых параметр групповой политики приоритет кривой, чтобы убедиться, что они используются в будущем TLS подтверждений. Новые списки приоритет кривой вступают в силу при следующей перезагрузке после получения параметров политики.     

![GPP распространять кривых](../media/Transport-Layer-Security-protocol/gp-managing-tls-curve-priority-order.png)

*Рис. 4 Управление TLS кривой приоритета с помощью групповой политики*


