---
title: "Управление безопасности уровня транспорта TLS (TLS)"
description: "Безопасность Windows Server"
ms.custom: na
ms.prod: windows-server-threshold
ms.reviewer: na
ms.suite: na
ms.technology: security-tls-ssl
ms.tgt_pltfrm: na
ms.topic: article
author: justinha
ms.author: justinha
manager: brianlic-msft
ms.date: 06/05/2017
ms.openlocfilehash: e26d1f833dbb7219251947f1cb3cb09def958aea
ms.sourcegitcommit: 70c1b6cedad55b9c7d2068c9aa4891c6c533ee4c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/03/2017
---
# <a name="manage-transport-layer-security-tls"></a>Управление безопасности уровня транспорта TLS (TLS)

## <a name="configuring-tls-cipher-suite-order"></a>Настройка порядок комплектов шифров TLS

Разные версии Windows поддерживают разные наборы шифров TLS и порядке приоритета. В разделе [комплекты шифров в TLS/SSL (Schannel SSP)](https://msdn.microsoft.com/library/windows/desktop/aa374757.aspx) для порядок по умолчанию, поддерживаемых поставщиком Schannel Microsoft в различных версиях Windows.

> [!NOTE] 
> Также можно изменить список наборов шифров с помощью функций CNG. в разделе [приоритетов комплекты шифров Schannel](https://msdn.microsoft.com/library/windows/desktop/bb870930.aspx) подробные сведения.

Порядок комплектов шифров TLS изменения вступят в силу при следующей загрузке. До завершения работы или перезагрузки существующий порядок вступит в силу.

> [!WARNING] 
> Обновление параметров реестра для порядок приоритета по умолчанию не поддерживается и может выполнять сброс с обслуживающие обновления. 

### <a name="configuring-tls-cipher-suite-order-by-using-group-policy"></a>Настройка порядок комплектов шифров TLS с помощью групповой политики

Параметры SSL шифрования Suite порядке групповой политики можно использовать для настройки порядок комплектов шифров TLS по умолчанию.

1.  В консоли управления групповой политикой перейдите в раздел **Конфигурация компьютера** > **административные шаблоны** > **сетей** > **параметры настройки SSL**.
2.  Дважды щелкните **порядок комплектов шифров SSL**, а затем нажмите кнопку **включено** параметр.
3.  Щелкните правой кнопкой мыши **комплектов шифров SSL** и выбрать **выберите все** во всплывающем меню.

    ![Параметр групповой политики](../media/Transport-Layer-Security-protocol/ssl-cipher-suite-order-gp-setting.png)

4.  Щелкните правой кнопкой мыши выделенный текст и выберите **копирования** во всплывающем меню.
5.  Вставьте текст в текстовом редакторе, например notepad.exe и обновления с нового списка заказа комплект шифров.

    > [!NOTE]
    > Списка порядка комплект шифров TLS должен быть в формате strict запятыми. Каждая строка комплект шифров завершится с запятой (,) справа от него. 

    > Кроме того список шифров ограничена 1023 символов.

6.  Замена списка в **комплектов шифров SSL** с обновленного упорядоченного списка.
7.  Нажмите кнопку **ОК** или **применить**.

### <a name="configuring-tls-cipher-suite-order-by-using-mdm"></a>Настройка порядок комплектов шифров TLS с помощью MDM

CSP политики Windows 10 поддерживает настройку комплектов шифров TLS. В разделе [криптографии и TLSCipherSuites](https://msdn.microsoft.com/windows/hardware/commercialize/customize/mdm/policy-configuration-service-provider#cryptography-tlsciphersuites) Дополнительные сведения.

### <a name="configuring-tls-cipher-suite-order-by-using-tls-powershell-cmdlets"></a>Настройка порядок комплектов шифров TLS с помощью командлетов PowerShell TLS

Модуль TLS PowerShell поддерживает получение упорядоченный список наборов шифров TLS, комплект шифров отключение и включение комплект шифров. В разделе [модуля TLS](https://technet.microsoft.com/itpro/powershell/windows/tls/tls) Дополнительные сведения.

## <a name="configuring-tls-ecc-curve-order"></a>Настройка порядка кривой TLS ECC 

Начиная с Windows 10 и Windows Server 2016, порядок кривой ECC можно настроить независимо от порядок комплектов шифров. Если протокол TLS шифра suite порядке, в котором имеется список суффиксов эллиптических кривых, они оно будет переопределено новый заказ приоритетом эллиптических кривых при включении. Это позволяют организациям использовать объект групповой политики для настройки различных версий Windows с помощью той же последовательности комплекты шифров.

> [!NOTE]
> До выхода Windows 10 строк комплект шифров были добавлены с эллиптических кривых для определения приоритета кривой.

### <a name="managing-windows-ecc-curves-using-certutil"></a>Управление кривых Windows ECC с помощью команды CertUtil

Начиная с Windows 10 и Windows Server 2016, Windows предоставляет эллиптических кривых параметра управления хотя certuil.exe служебной программы командной строки. Параметры эллиптических кривых хранятся в bcryptprimitives.dll. С помощью certutil.exe, администраторы могут добавлять и удалять кривой параметры и из Windows, соответственно. Certutil.exe надежно хранит кривой параметров в реестре. Windows можно начать с помощью параметров кривой, имя, связанное с кривой.    

#### <a name="displaying-registered-curves"></a>Отображение зарегистрированных кривых

Используйте следующую команду для отображения списка кривых certutil.exe зарегистрировано для текущего компьютера.

```powershell
certutil.exe –displayEccCurve
```

![Отображение кривых Certutil](../media/Transport-Layer-Security-protocol/certutil-display-curves.png)

*Выходные данные, чтобы отобразить список зарегистрированных кривых Certutil.exe на рис. 1.*

#### <a name="adding-a-new-curve"></a>Добавление нового кривой

Организации можно создать и использовать параметры кривой разбор с других доверенных субъектов.  
Администраторы, желающие использовать эти новые кривых Windows необходимо добавить кривой.  
Используйте следующую команду certutil.exe Добавление кривую текущего компьютера:

```powershell
Certutil —addEccCurue curveName curveParameters [curveOID] [curveType]
```

- **CurveName** аргумент представляет имя кривой, под которой были добавлены параметры кривой.
- **CurveParameters** аргумент представляет имя файла сертификата, который содержит параметры кривых, нужно добавить.
- **CurveOid** аргумент представляет имя файла сертификата, который содержит идентификатор Объекта параметров кривой, вы хотите добавить (необязательно).
- **CurveType** аргумент представляет десятичное значение из именованного кривой [реестра кривой с именем EC](http://www.iana.org/assignments/tls-parameters/tls-parameters.xhtml#tls-parameters-8) (необязательно).

![Certutil добавлять кривые](../media/Transport-Layer-Security-protocol/certutil-add-curves.png)

*На рис. 2 Добавление кривой, использование certutil.exe.*

#### <a name="removing-a-previously-added-curve"></a>Удаление ранее добавленный кривой

Администраторы могут удалять ранее добавленные кривой, используя следующую команду certutil.exe:

```powershell
Certutil.exe –deleteEccCurve curveName
```

Windows не удается использовать именованный кривой после администратор удаляет кривой с компьютера.

## <a name="managing-windows-ecc-curves-using-group-policy"></a>Управление кривых Windows ECC с помощью групповой политики

Организации может распространять параметры кривой до enterprise, присоединенных к домену, компьютер с помощью групповой политики и расширения реестра групповой политики.  
Процесс распространения кривую является:

1.  В Windows 10 и Windows Server 2016, используйте **certutil.exe** Добавление новых зарегистрированных именованный кривой в Windows.
2.  С этого же компьютера откройте консоль управления групповыми политиками (GPMC), создайте новый объект групповой политики и измените его.
3.  Перейдите к **Конфигурация компьютера | Параметры | Параметры Windows | Реестр**.  Щелкните правой кнопкой мыши **реестра**. Наведите указатель мыши **New** и выберите **элемент коллекции**. Переименуйте элемент коллекции, в соответствии с именем кривой. Вы создадите один элемент коллекции реестра для каждого раздела реестра в разделе *HKEY_LOCAL_MACHINE\CurrentControlSet\Control\Cryptography\ECCParameters*.
4.  Настройте коллекции реестра только что созданный предпочтений групповой политики, добавив новую **элемента реестра** каждое значение реестра, указанный в разделе *HKEY_LOCAL_MACHINE\CurrentControlSet\Control\Cryptography\ECCParameters\ [curveName]*.
5.  Разверните объект групповой политики, содержащий элемент коллекции реестра групповой политики для Windows 10 и Windows Server 2016 компьютеров, которые должны получать новые именованный кривых.

    ![Распространение настроек групповой Политики кривых](../media/Transport-Layer-Security-protocol/gpp-distribute-curves.png)

    *На рис. 3 с помощью предпочтений групповой политики для распространения кривых*

## <a name="managing-tls-ecc-order"></a>Управление порядке TLS ECC

Начиная с Windows 10 и Windows Server 2016, порядке кривой ECC групповой политики можно использовать параметры настройки TLS ECC кривой порядок по умолчанию. С помощью универсального ECC и этот параметр, организации можно добавить собственные доверенных с именем кривых (, утвержденные для использования с помощью TLS) для операционной системы и добавьте те с именем кривых параметр кривой приоритет групповой политики, чтобы убедиться, что они используются в будущем подтверждений TLS. Новые списки приоритет кривой вступают в силу при следующей перезагрузке после получения параметров политики.     

![Распространение настроек групповой Политики кривых](../media/Transport-Layer-Security-protocol/gp-managing-tls-curve-priority-order.png)

*На рис. 4 Управление TLS кривой приоритета, с помощью групповой политики*


