---
ms.assetid: f0d4cecc-5a03-448c-bef9-86c4730b4eb0
title: Обзор балансировки нагрузки виртуальных машин
ms.topic: article
manager: eldenc
ms.author: johnmar
author: JasonGerend
ms.date: 09/19/2016
ms.openlocfilehash: 868f5c0646b3842f605447d1fe8fdbe74593c2a6
ms.sourcegitcommit: 7a8a608df059b4278a974c52ed7b865421a83aa6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/08/2020
ms.locfileid: "91833303"
---
# <a name="virtual-machine-load-balancing-overview"></a>Обзор балансировки нагрузки виртуальных машин

> Применяется к: Windows Server 2019, Windows Server 2016

Ключевым фактором для развертываний частных облаков является капитальный расход (<abbr title="капитальный расход">Капитальных</abbr>), необходимые для перехода в рабочую среду. Очень часто приходится добавлять избыточность в развертывания частного облака во избежание снижения емкости во время пикового трафика в рабочей среде, но это увеличит <abbr title="капитальный расход">Капитальных</abbr>. Необходимость избыточности определяется несбалансированными частными облаками, в которых на некоторых узлах размещается больше виртуальных машин (<abbr title="Виртуальные машины">Виртуальные машины</abbr>), а другие используются недостаточно (например, недавно Перезагруженный сервер).

<strong>Краткий видеообзор</strong><br>(6 минут)<br>
> [!VIDEO https://channel9.msdn.com/Blogs/windowsserver/Virtual-Machine-Load-Balancing-in-Windows-Server-2016/player]

## <a name="what-is-virtual-machine-load-balancing"></a><a id="what-is-vm-load-balancing"></a>Что такое балансировка нагрузки виртуальной машины?
<abbr title="Виртуальная машина">ВМ</abbr> Балансировка нагрузки — это встроенная функция в Windows Server 2019 и Windows Server 2016, которая позволяет оптимизировать использование узлов в отказоустойчивом кластере. Он определяет чрезмерно зафиксированные узлы и повторно распространяет <abbr title="Виртуальные машины">Виртуальные машины</abbr> от этих узлов до зафиксированных узлов. Ниже приведены некоторые ключевые аспекты этой функции.

* Это *решение с нулевым временем простоя*: <abbr title="Виртуальные машины">Виртуальные машины</abbr> переносятся в активное состояние на бездействующие узлы.
* *Простая интеграция с существующей средой кластера*. учитываются такие политики сбоев, как защита от сходства, домены сбоя и возможные владельцы.
* *Эвристика для балансировки*: <abbr title="Виртуальная машина">ВМ</abbr> нехватка памяти и использование ЦП узлом.
* *Детализированный контроль*: включен по умолчанию. Может быть активирована по требованию или с периодической периодичностью.
* *Пороги агрессивности*: три пороговых значения, доступные в зависимости от характеристик развертывания.

## <a name="the-feature-in-action"></a><a id="feature-in-action"></a>Функция в действии
### <a name="a-new-node-is-added-to-your-failover-cluster"></a><a id="new-node-added"></a>В отказоустойчивый кластер добавляется новый узел.
![Рисунок нового узла, добавляемого в отказоустойчивый кластер](media/vm-load-balancing/overview-VM-load-balancing-1.png)

При добавлении новой емкости в отказоустойчивый кластер <abbr title="Виртуальная машина">ВМ</abbr> Функция балансировки нагрузки автоматически распределяет емкость с существующих узлов на вновь добавленный узел в следующем порядке:

1. Давление оценивается на существующих узлах отказоустойчивого кластера.
2. Идентифицируются все узлы, превышающие пороговое значение.
3. Узлы с наивысшим давлением определяют приоритет балансировки.
4. <abbr title="Виртуальные машины">Виртуальные машины</abbr> Динамически мигрируют (без времени простоя) с узла, превышающего пороговое значение на вновь добавленный узел в отказоустойчивом кластере.

### <a name="recurring-load-balancing"></a><a id="recurring-load-balancing"></a>Повторная балансировка нагрузки
![Рисунок повторяющейся балансировки нагрузки виртуальной машины](media/vm-load-balancing/overview-VM-load-balancing-2.png)

При настройке для периодической балансировки нагрузка на узлы кластера оценивается для балансировки каждые 30 минут. Кроме того, давление можно оценивать по требованию. Ниже приведена последовательность действий.

1. Давление оценивается на всех узлах частного облака.
2. Все узлы, превышающие порог, и указанные ниже порогового значения определяются.
3. Узлы с наивысшим давлением определяют приоритет балансировки.
4. <abbr title="Виртуальные машины">Виртуальные машины</abbr> Динамически мигрируют (без времени простоя) с узла, превышающего пороговое значение на узел ниже минимального порогового значения.

## <a name="see-also"></a>См. также:
* [Подсистема балансировки нагрузки виртуальных машин — подробное углубление](vm-load-balancing-deep-dive.md)
* [Отказоустойчивая кластеризация](failover-clustering-overview.md)
* [Обзор Hyper-V](../virtualization/hyper-v/Hyper-V-on-Windows-Server.md)
